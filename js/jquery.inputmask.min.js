/*!
 * dist/jquery.inputmask.min
 * https://github.com/RobinHerbots/Inputmask
 * Copyright (c) 2010 - 2018 Robin Herbots
 * Licensed under the MIT license
 * Version: 5.0.0-beta.82
 */
!function webpackUniversalModuleDefinition(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("jquery"));else if("function"==typeof define&&define.amd)define(["jquery"],t);else{var a="object"==typeof exports?t(require("jquery")):t(e.jQuery);for(var i in a)("object"==typeof exports?exports:e)[i]=a[i]}}(window,function(__WEBPACK_EXTERNAL_MODULE__5__){return function(a){var i={};function __webpack_require__(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return a[e].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}return __webpack_require__.m=a,__webpack_require__.c=i,__webpack_require__.d=function(e,t,a){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(__webpack_require__.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)__webpack_require__.d(a,i,function(e){return t[e]}.bind(null,i));return a},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(e,t,a){"use strict";var i=a(1),n=a(5);i.dependencyLib===n&&a(9),e.exports=i},function(e,t,a){"use strict";a(2),a(7),a(8),e.exports=a(3)},function(e,t,a){"use strict";var i=a(3);i.extendDefinitions({A:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",casing:"upper"},"&":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}}),i.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)//.*",autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function validator(e,t,a,i,n){return e=-1<a-1&&"."!==t.buffer[a-1]?(e=t.buffer[a-1]+e,-1<a-2&&"."!==t.buffer[a-2]?t.buffer[a-2]+e:"0"+e):"00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)}}},onUnMask:function onUnMask(e,t,a){return e},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,casing:"lower",onBeforePaste:function onBeforePaste(e,t){return(e=e.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9\uff11-\uff19A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function onUnMask(e,t,a){return e},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}}),e.exports=i},function(e,t,a){"use strict";var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(L,M,V){var S=M.document,e=navigator.userAgent,x=0<e.indexOf("MSIE ")||0<e.indexOf("Trident/"),P=isInputEventSupported("touchstart"),_=/iemobile/i.test(e),E=/iphone/i.test(e)&&!_;function Inputmask(e,t,a){if(!(this instanceof Inputmask))return new Inputmask(e,t,a);this.el=V,this.events={},this.maskset=V,!(this.refreshValue=!1)!==a&&(L.isPlainObject(e)?t=e:(t=t||{},e&&(t.alias=e)),this.opts=L.extend(!0,{},this.defaults,t),this.noMasksCache=t&&t.definitions!==V,this.userOptions=t||{},this.isRTL=this.opts.numericInput,resolveAlias(this.opts.alias,t,this.opts))}function resolveAlias(e,t,a){var i=Inputmask.prototype.aliases[e];return i?(i.alias&&resolveAlias(i.alias,V,a),L.extend(!0,a,i),L.extend(!0,a,t),!0):(null===a.mask&&(a.mask=e),!1)}function generateMaskSet(a,o){function generateMask(e,t,a){var i=!1;if(null!==e&&""!==e||(i=null!==a.regex,e=i?(e=a.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(i=!0,".*")),1===e.length&&!1===a.greedy&&0!==a.repeat&&(a.placeholder=""),0<a.repeat||"*"===a.repeat||"+"===a.repeat){var n="*"===a.repeat?0:"+"===a.repeat?1:a.repeat;e=a.groupmarker[0]+e+a.groupmarker[1]+a.quantifiermarker[0]+n+","+a.repeat+a.quantifiermarker[1]}var r,s=i?"regex_"+a.regex:a.numericInput?e.split("").reverse().join(""):e;return Inputmask.prototype.masksCache[s]===V||!0===o?(r={mask:e,maskToken:Inputmask.prototype.analyseMask(e,i,a),validPositions:{},_buffer:V,buffer:V,tests:{},excludes:{},metadata:t,maskLength:V,jitOffset:{}},!0!==o&&(Inputmask.prototype.masksCache[s]=r,r=L.extend(!0,{},Inputmask.prototype.masksCache[s]))):r=L.extend(!0,{},Inputmask.prototype.masksCache[s]),r}if(L.isFunction(a.mask)&&(a.mask=a.mask(a)),L.isArray(a.mask)){if(1<a.mask.length){if(null===a.keepStatic){a.keepStatic="auto";for(var e=0;e<a.mask.length;e++)if(a.mask[e].charAt(0)!==a.mask[0].charAt(0)){a.keepStatic=!0;break}}var i=a.groupmarker[0];return L.each(a.isRTL?a.mask.reverse():a.mask,function(e,t){1<i.length&&(i+=a.groupmarker[1]+a.alternatormarker+a.groupmarker[0]),t.mask===V||L.isFunction(t.mask)?i+=t:i+=t.mask}),generateMask(i+=a.groupmarker[1],a.mask,a)}a.mask=a.mask.pop()}return a.mask&&a.mask.mask!==V&&!L.isFunction(a.mask.mask)?generateMask(a.mask.mask,a.mask,a):generateMask(a.mask,a.mask,a)}function isInputEventSupported(e){var t=S.createElement("input"),a="on"+e,i=a in t;return i||(t.setAttribute(a,"return;"),i="function"==typeof t[a]),t=null,i}function maskScope(e,t,F){t=t||this.maskset,F=F||this.opts;var d,n,m,f,r,u=this,l=this.el,k=this.isRTL,s=!1,c=!1,h=!1,i=!1;function getMaskTemplate(e,t,a,i,n){var r=F.greedy;n&&(F.greedy=!1),t=t||0;var s,o,l,u=[],c=0;getLastValidPosition();do{if(!0===e&&getMaskSet().validPositions[c])l=n&&!0===getMaskSet().validPositions[c].match.optionality&&getMaskSet().validPositions[c+1]===V&&(!0===getMaskSet().validPositions[c].generatedInput||getMaskSet().validPositions[c].input==F.skipOptionalPartCharacter&&0<c)?determineTestTemplate(c,getTests(c,s,c-1)):getMaskSet().validPositions[c],o=l.match,s=l.locator.slice(),u.push(!0===a?l.input:!1===a?o.nativeDef:getPlaceholder(c,o));else{l=getTestTemplate(c,s,c-1),o=l.match,s=l.locator.slice();var p=!0!==i&&(!1!==F.jitMasking?F.jitMasking:o.jit);(!1===p||p===V||"number"==typeof p&&isFinite(p)&&c<p)&&u.push(!1===a?o.nativeDef:getPlaceholder(c,o))}"auto"===F.keepStatic&&o.newBlockMarker&&null!==o.fn&&(F.keepStatic=c-1),c++}while((m===V||c<m)&&(null!==o.fn||""!==o.def)||c<t);return""===u[u.length-1]&&u.pop(),!1===a&&getMaskSet().maskLength!==V||(getMaskSet().maskLength=c-1),F.greedy=r,u}function getMaskSet(){return t}function resetMaskSet(e){var t=getMaskSet();t.buffer=V,!0!==e&&(t.validPositions={},t.p=0)}function getLastValidPosition(e,t,a){var i=-1,n=-1,r=a||getMaskSet().validPositions;for(var s in e===V&&(e=-1),r){var o=parseInt(s);r[o]&&(t||!0!==r[o].generatedInput)&&(o<=e&&(i=o),e<=o&&(n=o))}return-1===i||i==e?n:-1==n?i:e-i<n-e?i:n}function getDecisionTaker(e){var t=e.locator[e.alternation];return"string"==typeof t&&0<t.length&&(t=t.split(",")[0]),t!==V?t.toString():""}function getLocator(e,t){var a=(e.alternation!=V?e.mloc[getDecisionTaker(e)]:e.locator).join("");if(""!==a)for(;a.length<t;)a+="0";return a}function determineTestTemplate(e,t){for(var a,i,n,r=getTest(e=0<e?e-1:0),s=getLocator(r),o=0;o<t.length;o++){var l=t[o];a=getLocator(l,s.length);var u=Math.abs(a-s);(i===V||""!==a&&u<i||n&&n.match.optionality&&"master"===n.match.newBlockMarker&&(!l.match.optionality||!l.match.newBlockMarker)||n&&n.match.optionalQuantifier&&!l.match.optionalQuantifier)&&(i=u,n=l)}return n}function getTestTemplate(e,t,a){return getMaskSet().validPositions[e]||determineTestTemplate(e,getTests(e,t?t.slice():t,a))}function getTest(e,t){return getMaskSet().validPositions[e]?getMaskSet().validPositions[e]:(t||getTests(e))[0]}function positionCanMatchDefinition(e,t){for(var a=!1,i=getTests(e),n=0;n<i.length;n++)if(i[n].match&&i[n].match.def===t){a=!0;break}return a}function getTests(D,e,t){var B,a=getMaskSet().maskToken,O=e?t:0,i=e?e.slice():[0],I=[],j=!1,N=e?e.join(""):"";function resolveTestFromToken(A,C,e,t){function handleMatch(e,t,a){function isFirstMatch(a,i){var n=0===L.inArray(a,i.matches);return n||L.each(i.matches,function(e,t){if(!0===t.isQuantifier?n=isFirstMatch(a,i.matches[e-1]):t.hasOwnProperty("matches")&&(n=isFirstMatch(a,t)),n)return!1}),n}function resolveNdxInitializer(e,n,r){var s,o;if((getMaskSet().tests[e]||getMaskSet().validPositions[e])&&L.each(getMaskSet().tests[e]||[getMaskSet().validPositions[e]],function(e,t){if(t.mloc[n])return s=t,!1;var a=r!==V?r:t.alternation,i=t.locator[a]!==V?t.locator[a].toString().indexOf(n):-1;(o===V||i<o)&&-1!==i&&(s=t,o=i)}),s){var t=s.locator[s.alternation],a=s.mloc[n]||s.mloc[t]||s.locator;return a.slice((r!==V?r:s.alternation)+1)}return r!==V?resolveNdxInitializer(e,n):V}function isSubsetOf(e,t){function expand(e){for(var t,a,i=[],n=0,r=e.length;n<r;n++)if("-"===e.charAt(n))for(a=e.charCodeAt(n+1);++t<a;)i.push(String.fromCharCode(t));else t=e.charCodeAt(n),i.push(e.charAt(n));return i.join("")}return F.regex&&null!==e.match.fn&&null!==t.match.fn?-1!==expand(t.match.def.replace(/[\[\]]/g,"")).indexOf(expand(e.match.def.replace(/[\[\]]/g,""))):e.match.def===t.match.nativeDef}function setMergeLocators(e,t){if(t===V||e.alternation===t.alternation&&-1===e.locator[e.alternation].toString().indexOf(t.locator[t.alternation])){e.mloc=e.mloc||{};var a=e.locator[e.alternation];if(a!==V){if("string"==typeof a&&(a=a.split(",")[0]),e.mloc[a]===V&&(e.mloc[a]=e.locator.slice()),t!==V){for(var i in t.mloc)"string"==typeof i&&(i=i.split(",")[0]),e.mloc[i]===V&&(e.mloc[i]=t.mloc[i]);e.locator[e.alternation]=Object.keys(e.mloc).join(",")}return!0}e.alternation=V}return!1}if(500<O&&a!==V)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+getMaskSet().mask;if(O===D&&e.matches===V)return I.push({match:e,locator:t.reverse(),cd:N,mloc:{}}),!0;if(e.matches!==V){if(e.isGroup&&a!==e){if(e=handleMatch(A.matches[L.inArray(e,A.matches)+1],t,a))return!0}else if(e.isOptional){var i=e;if(e=resolveTestFromToken(e,C,t,a)){if(L.each(I,function(e,t){t.match.optionality=!0}),B=I[I.length-1].match,a!==V||!isFirstMatch(B,i))return!0;j=!0,O=D}}else if(e.isAlternator){var n,r=e,s=[],o=I.slice(),l=t.length,u=0<C.length?C.shift():-1;if(-1===u||"string"==typeof u){var c,p=O,f=C.slice(),g=[];if("string"==typeof u)g=u.split(",");else for(c=0;c<r.matches.length;c++)g.push(c.toString());if(getMaskSet().excludes[D]){for(var m=g.slice(),d=0,k=getMaskSet().excludes[D].length;d<k;d++)g.splice(g.indexOf(getMaskSet().excludes[D][d].toString()),1);0===g.length&&(getMaskSet().excludes[D]=V,g=m)}(!0===F.keepStatic||isFinite(parseInt(F.keepStatic))&&p>=F.keepStatic)&&(g=g.slice(0,1));for(var h=!1,v=0;v<g.length;v++){c=parseInt(g[v]),I=[],C="string"==typeof u&&resolveNdxInitializer(O,c,l)||f.slice(),r.matches[c]&&handleMatch(r.matches[c],[c].concat(t),a)?e=!0:0===v&&(h=!0),n=I.slice(),O=p,I=[];for(var y=0;y<n.length;y++){var b=n[y],M=!1;b.match.jit=b.match.jit||h,b.alternation=b.alternation||l,setMergeLocators(b);for(var S=0;S<s.length;S++){var x=s[S];if("string"!=typeof u||b.alternation!==V&&-1!==L.inArray(b.locator[b.alternation].toString(),g)){if(b.match.nativeDef===x.match.nativeDef){M=!0,setMergeLocators(x,b);break}if(isSubsetOf(b,x)){setMergeLocators(b,x)&&(M=!0,s.splice(s.indexOf(x),0,b));break}if(isSubsetOf(x,b)){setMergeLocators(x,b);break}if(w=x,void 0,!(!((T=T=b).locator.slice(T.alternation).join("")==w.locator.slice(w.alternation).join(""))||null!==T.match.fn||null===w.match.fn)&&w.match.fn.test(T.match.def,getMaskSet(),D,!1,F,!1)){setMergeLocators(b,x)&&(M=!0,s.splice(s.indexOf(x),0,b));break}}}M||s.push(b)}}I=o.concat(s),O=D,j=0<I.length,e=0<s.length,C=f.slice()}else e=handleMatch(r.matches[u]||A.matches[u],[u].concat(t),a);if(e)return!0}else if(e.isQuantifier&&a!==A.matches[L.inArray(e,A.matches)-1])for(var P=e,_=0<C.length?C.shift():0;_<(isNaN(P.quantifier.max)?_+1:P.quantifier.max)&&O<=D;_++){var E=A.matches[L.inArray(P,A.matches)-1];if(e=handleMatch(E,[_].concat(t),E)){if((B=I[I.length-1].match).optionalQuantifier=_>=P.quantifier.min,B.jit=(_||1)*E.matches.indexOf(B)>=P.quantifier.jit,B.optionalQuantifier&&isFirstMatch(B,E)){j=!0,O=D;break}return B.jit&&(getMaskSet().jitOffset[D]=E.matches.indexOf(B)),!0}}else if(e=resolveTestFromToken(e,C,t,a))return!0}else O++;var T,w}for(var a=0<C.length?C.shift():0;a<A.matches.length;a++)if(!0!==A.matches[a].isQuantifier){var i=handleMatch(A.matches[a],[a].concat(e),t);if(i&&O===D)return i;if(D<O)break}}if(-1<D){if(e===V){for(var n,r=D-1;(n=getMaskSet().validPositions[r]||getMaskSet().tests[r])===V&&-1<r;)r--;n!==V&&-1<r&&(i=function mergeLocators(e,t){var i=[];return L.isArray(t)||(t=[t]),0<t.length&&(t[0].alternation===V?0===(i=determineTestTemplate(e,t.slice()).locator.slice()).length&&(i=t[0].locator.slice()):L.each(t,function(e,t){if(""!==t.def)if(0===i.length)i=t.locator.slice();else for(var a=0;a<i.length;a++)t.locator[a]&&-1===i[a].toString().indexOf(t.locator[a])&&(i[a]+=","+t.locator[a])})),i}(r,n),N=i.join(""),O=r)}if(getMaskSet().tests[D]&&getMaskSet().tests[D][0].cd===N)return getMaskSet().tests[D];for(var s=i.shift();s<a.length;s++){var o=resolveTestFromToken(a[s],i,[s]);if(o&&O===D||D<O)break}}return(0===I.length||j)&&I.push({match:{fn:null,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:N}),e!==V&&getMaskSet().tests[D]?L.extend(!0,[],I):(getMaskSet().tests[D]=L.extend(!0,[],I),getMaskSet().tests[D])}function getBufferTemplate(){return getMaskSet()._buffer===V&&(getMaskSet()._buffer=getMaskTemplate(!1,1),getMaskSet().buffer===V&&(getMaskSet().buffer=getMaskSet()._buffer.slice())),getMaskSet()._buffer}function getBuffer(e){return getMaskSet().buffer!==V&&!0!==e||(getMaskSet().buffer=getMaskTemplate(!0,getLastValidPosition(),!0),getMaskSet()._buffer===V&&(getMaskSet()._buffer=getMaskSet().buffer.slice())),getMaskSet().buffer}function refreshFromBuffer(e,t,a){var i,n;if(!0===e)resetMaskSet(),e=0,t=a.length;else for(i=e;i<t;i++)delete getMaskSet().validPositions[i];for(i=n=e;i<t;i++)if(resetMaskSet(!0),a[i]!==F.skipOptionalPartCharacter){var r=isValid(n,a[i],!0,!0);!1!==r&&(resetMaskSet(!0),n=r.caret!==V?r.caret:r.pos+1)}}function checkAlternationMatch(e,t,a){for(var i,n=F.greedy?t:t.slice(0,1),r=!1,s=a!==V?a.split(","):[],o=0;o<s.length;o++)-1!==(i=e.indexOf(s[o]))&&e.splice(i,1);for(var l=0;l<e.length;l++)if(-1!==L.inArray(e[l],n)){r=!0;break}return r}function alternate(e,t,a,i,n){var r,s,o,l,u,c,p,f=L.extend(!0,{},getMaskSet().validPositions),g=!1,m=n!==V?n:getLastValidPosition();if(-1===m&&n===V)l=getTest(r=0),s=l.alternation;else for(;0<=m;m--)if((o=getMaskSet().validPositions[m])&&o.alternation!==V){if(l&&l.locator[o.alternation]!==o.locator[o.alternation])break;r=m,s=getMaskSet().validPositions[r].alternation,l=o}if(s!==V){p=parseInt(r),getMaskSet().excludes[p]=getMaskSet().excludes[p]||[],!0!==e&&getMaskSet().excludes[p].push(getDecisionTaker(l));var d=[],k=0;for(u=p;u<getLastValidPosition(V,!0)+1;u++)(c=getMaskSet().validPositions[u])&&!0!==c.generatedInput?d.push(c.input):u<e&&k++,delete getMaskSet().validPositions[u];for(;getMaskSet().excludes[p]&&getMaskSet().excludes[p].length<10;){var h=-1*k,v=d.slice();for(getMaskSet().tests[p]=V,resetMaskSet(!0),g=!0;0<v.length;){var y=v.shift();if(!(g=isValid(getLastValidPosition(V,!0)+1,y,!1,i,!0)))break}if(g&&t!==V){var b=getLastValidPosition(e)+1;for(u=p;u<getLastValidPosition()+1;u++)((c=getMaskSet().validPositions[u])===V||null==c.match.fn)&&u<e+h&&h++;g=isValid(b<(e+=h)?b:e,t,a,i,!0)}if(g)break;if(resetMaskSet(),l=getTest(p),getMaskSet().validPositions=L.extend(!0,{},f),!getMaskSet().excludes[p]){g=alternate(e,t,a,i,p-1);break}var M=getDecisionTaker(l);if(-1!==getMaskSet().excludes[p].indexOf(M)){g=alternate(e,t,a,i,p-1);break}for(getMaskSet().excludes[p].push(M),u=p;u<getLastValidPosition(V,!0)+1;u++)delete getMaskSet().validPositions[u]}}return getMaskSet().excludes[p]=V,g}function isValid(u,e,t,c,a,i){function isSelection(e){return k?1<e.begin-e.end||e.begin-e.end==1:1<e.end-e.begin||e.end-e.begin==1}t=!0===t;var n=u;function _isValid(r,s,o){var l=!1;return L.each(getTests(r),function(e,t){var a=t.match;if(getBuffer(!0),!1!==(l=null!=a.fn?a.fn.test(s,getMaskSet(),r,o,F,isSelection(u)):(s===a.def||s===F.skipOptionalPartCharacter)&&""!==a.def&&{c:getPlaceholder(r,a,!0)||a.def,pos:r})){var i=l.c!==V?l.c:s,n=r;return i=i===F.skipOptionalPartCharacter&&null===a.fn?getPlaceholder(r,a,!0)||a.def:i,l.remove!==V&&(L.isArray(l.remove)||(l.remove=[l.remove]),L.each(l.remove.sort(function(e,t){return t-e}),function(e,t){revalidateMask({begin:t,end:t+1})})),l.insert!==V&&(L.isArray(l.insert)||(l.insert=[l.insert]),L.each(l.insert.sort(function(e,t){return e-t}),function(e,t){isValid(t.pos,t.c,!0,c)})),!0!==l&&l.pos!==V&&l.pos!==r&&(n=l.pos),!0!==l&&l.pos===V&&l.c===V||revalidateMask(u,L.extend({},t,{input:function casing(e,t,a){switch(F.casing||t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var i=getMaskSet().validPositions[a-1];e=0===a||i&&i.input===String.fromCharCode(Inputmask.keyCode.SPACE)?e.toUpperCase():e.toLowerCase();break;default:if(L.isFunction(F.casing)){var n=Array.prototype.slice.call(arguments);n.push(getMaskSet().validPositions),e=F.casing.apply(this,n)}}return e}(i,a,n)}),c,n)||(l=!1),!1}}),l}u.begin!==V&&(n=k?u.end:u.begin);var r=!0,s=L.extend(!0,{},getMaskSet().validPositions);if(L.isFunction(F.preValidation)&&!t&&!0!==c&&!0!==i&&(r=F.preValidation(getBuffer(),n,e,isSelection(u),F,getMaskSet())),!0===r){if(trackbackPositions(V,n,!0),(m===V||n<m)&&(r=_isValid(n,e,t),(!t||!0===c)&&!1===r&&!0!==i)){var o=getMaskSet().validPositions[n];if(!o||null!==o.match.fn||o.match.def!==e&&e!==F.skipOptionalPartCharacter){if((F.insertMode||getMaskSet().validPositions[seekNext(n)]===V)&&(!isMask(n,!0)||getMaskSet().jitOffset[n]))if(getMaskSet().jitOffset[n]&&getMaskSet().validPositions[seekNext(n)]===V)(r=isValid(n+getMaskSet().jitOffset[n],e,t)).caret=n;else for(var l=n+1,p=seekNext(n);l<=p;l++)if(!1!==(r=_isValid(l,e,t))){r=trackbackPositions(n,r.pos!==V?r.pos:l)||r,n=l;break}}else r={caret:seekNext(n)}}!1!==r||!1===F.keepStatic||null!=F.regex&&!isComplete(getBuffer())||t||!0===a||(r=alternate(n,e,t,c)),!0===r&&(r={pos:n})}if(L.isFunction(F.postValidation)&&!1!==r&&!t&&!0!==c&&!0!==i){var f=F.postValidation(getBuffer(!0),u.begin!==V?k?u.end:u.begin:u,r,F);if(f!==V){if(f.refreshFromBuffer&&f.buffer){var g=f.refreshFromBuffer;refreshFromBuffer(!0===g?g:g.start,g.end,f.buffer)}r=!0===f?r:f}}return r&&r.pos===V&&(r.pos=n),!1!==r&&!0!==i||(resetMaskSet(!0),getMaskSet().validPositions=L.extend(!0,{},s)),r}function trackbackPositions(e,t,a){var i;if(e===V)for(e=t-1;0<e&&!getMaskSet().validPositions[e];e--);for(var n=e;n<t;n++)if(getMaskSet().validPositions[n]===V&&!isMask(n,!0)){var r=0==n?getTest(n):getMaskSet().validPositions[n-1];if(r){var s=getTests(n).slice();""===s[s.length-1].match.def&&s.pop();var o=determineTestTemplate(n,s);if((o=L.extend({},o,{input:getPlaceholder(n,o.match,!0)||o.match.def})).generatedInput=!0,revalidateMask(n,o,!0),!0!==a){var l=getMaskSet().validPositions[t].input;getMaskSet().validPositions[t]=V,i=isValid(t,l,!0,!0)}}}return i}function revalidateMask(e,t,a,i){function IsEnclosedStatic(e,t,a){var i=t[e];if(i===V||(null!==i.match.fn||!0===i.match.optionality)&&i.input!==F.radixPoint)return!1;var n=a.begin<=e-1?t[e-1]&&null===t[e-1].match.fn&&t[e-1]:t[e-1],r=a.end>e+1?t[e+1]&&null===t[e+1].match.fn&&t[e+1]:t[e+1];return n&&r}var n=e.begin!==V?e.begin:e,r=e.end!==V?e.end:e;if(e.begin>e.end&&(n=e.end,r=e.begin),i=i!==V?i:n,n!==r||F.insertMode&&getMaskSet().validPositions[i]!==V&&a===V){var s=L.extend(!0,{},getMaskSet().validPositions),o=getLastValidPosition(V,!0);for(getMaskSet().p=n,f=o;n<=f;f--)getMaskSet().validPositions[f]&&"+"===getMaskSet().validPositions[f].match.nativeDef&&(F.isNegative=!1),delete getMaskSet().validPositions[f];var l=!0,u=i,c=(getMaskSet().validPositions,!1),p=u,f=u;for(t&&(getMaskSet().validPositions[i]=L.extend(!0,{},t),p++,u++,n<r&&f++);f<=o;f++){var g=s[f];if(g!==V&&(r<=f||n<=f&&!0!==g.generatedInput&&IsEnclosedStatic(f,s,{begin:n,end:r}))){for(;""!==getTest(p).match.def;){if(!1===c&&s[p]&&s[p].match.nativeDef===g.match.nativeDef)getMaskSet().validPositions[p]=L.extend(!0,{},s[p]),getMaskSet().validPositions[p].input=g.input,trackbackPositions(V,p,!0),u=p+1,l=!0;else if(F.shiftPositions&&positionCanMatchDefinition(p,g.match.def)){var m=isValid(p,g.input,!0,!0);l=!1!==m,u=m.caret||m.insert?getLastValidPosition():p+1,c=!0}else l=!0===g.generatedInput||g.input===F.radixPoint&&!0===F.numericInput;if(l)break;if(!l&&r<p&&isMask(p,!0)&&(null!==g.match.fn||p>getMaskSet().maskLength))break;p++}""==getTest(p).match.def&&(l=!1),p=u}if(!l)break}if(!l)return getMaskSet().validPositions=L.extend(!0,{},s),resetMaskSet(!0),!1}else t&&(getMaskSet().validPositions[i]=L.extend(!0,{},t));return resetMaskSet(!0),!0}function isMask(e,t){var a=getTestTemplate(e).match;if(""===a.def&&(a=getTest(e).match),null!=a.fn)return a.fn;if(!0!==t&&-1<e){var i=getTests(e);return i.length>1+(""===i[i.length-1].match.def?1:0)}return!1}function seekNext(e,t){for(var a=e+1;""!==getTest(a).match.def&&(!0===t&&(!0!==getTest(a).match.newBlockMarker||!isMask(a))||!0!==t&&!isMask(a));)a++;return a}function seekPrevious(e,t){var a,i=e;if(i<=0)return 0;for(;0<--i&&(!0===t&&!0!==getTest(i).match.newBlockMarker||!0!==t&&!isMask(i)&&((a=getTests(i)).length<2||2===a.length&&""===a[1].match.def)););return i}function writeBuffer(e,t,a,i,n){if(i&&L.isFunction(F.onBeforeWrite)){var r=F.onBeforeWrite.call(u,i,t,a,F);if(r){if(r.refreshFromBuffer){var s=r.refreshFromBuffer;refreshFromBuffer(!0===s?s:s.start,s.end,r.buffer||t),t=getBuffer(!0)}a!==V&&(a=r.caret!==V?r.caret:a)}}if(e!==V&&(e.inputmask._valueSet(t.join("")),a===V||i!==V&&"blur"===i.type?renderColorMask(e,a,0===t.length):caret(e,a),!0===n)){var o=L(e),l=e.inputmask._valueGet();c=!0,o.trigger("input"),setTimeout(function(){l===getBufferTemplate().join("")?o.trigger("cleared"):!0===isComplete(t)&&o.trigger("complete")},0)}}function getPlaceholder(e,t,a){if((t=t||getTest(e).match).placeholder!==V||!0===a)return L.isFunction(t.placeholder)?t.placeholder(F):t.placeholder;if(null!==t.fn)return F.placeholder.charAt(e%F.placeholder.length);if(-1<e&&getMaskSet().validPositions[e]===V){var i,n=getTests(e),r=[];if(n.length>1+(""===n[n.length-1].match.def?1:0))for(var s=0;s<n.length;s++)if(!0!==n[s].match.optionality&&!0!==n[s].match.optionalQuantifier&&(null===n[s].match.fn||i===V||!1!==n[s].match.fn.test(i.match.def,getMaskSet(),e,!0,F))&&(r.push(n[s]),null===n[s].match.fn&&(i=n[s]),1<r.length&&/[0-9a-bA-Z]/.test(r[0].match.def)))return F.placeholder.charAt(e%F.placeholder.length)}return t.def}function HandleNativePlaceholder(e,t){if(x&&e.inputmask._valueGet()!==t){var a=getBuffer().slice(),i=e.inputmask._valueGet();i!==t&&(-1===getLastValidPosition()&&i===getBufferTemplate().join("")?a=[]:clearOptionalTail(a),writeBuffer(e,a))}else e.placeholder!==t&&(e.placeholder=t,""===e.placeholder&&e.removeAttribute("placeholder"))}var a,o={on:function on(e,t,r){var a=function ev(e){var t=this;if(t.inputmask===V&&"FORM"!==this.nodeName){var a=L.data(t,"_inputmask_opts");a?new Inputmask(a).mask(t):o.off(t)}else{if("setvalue"===e.type||"FORM"===this.nodeName||!(t.disabled||t.readOnly&&!("keydown"===e.type&&e.ctrlKey&&67===e.keyCode||!1===F.tabThrough&&e.keyCode===Inputmask.keyCode.TAB))){switch(e.type){case"input":if(!0===c)return c=!1,e.preventDefault();if(P){var i=arguments;return setTimeout(function(){r.apply(t,i),caret(t,t.inputmask.caretPos,V,!0)},0),!1}break;case"keydown":c=s=!1;break;case"keypress":if(!0===s)return e.preventDefault();s=!0;break;case"click":if(_||E){var i=arguments;return setTimeout(function(){r.apply(t,i)},0),!1}}var n=r.apply(t,arguments);return!1===n&&(e.preventDefault(),e.stopPropagation()),n}e.preventDefault()}};e.inputmask.events[t]=e.inputmask.events[t]||[],e.inputmask.events[t].push(a),-1!==L.inArray(t,["submit","reset"])?null!==e.form&&L(e.form).on(t,a):L(e).on(t,a)},off:function off(i,e){var t;i.inputmask&&i.inputmask.events&&(e?(t=[])[e]=i.inputmask.events[e]:t=i.inputmask.events,L.each(t,function(e,t){for(;0<t.length;){var a=t.pop();-1!==L.inArray(e,["submit","reset"])?null!==i.form&&L(i.form).off(e,a):L(i).off(e,a)}delete i.inputmask.events[e]}))}},v={keydownEvent:function keydownEvent(e){var t=this,a=L(t),i=e.keyCode,n=caret(t);if(i===Inputmask.keyCode.BACKSPACE||i===Inputmask.keyCode.DELETE||E&&i===Inputmask.keyCode.BACKSPACE_SAFARI||e.ctrlKey&&i===Inputmask.keyCode.X&&!isInputEventSupported("cut"))e.preventDefault(),handleRemove(0,i,n),writeBuffer(t,getBuffer(!0),getMaskSet().p,e,t.inputmask._valueGet()!==getBuffer().join(""));else if(i===Inputmask.keyCode.END||i===Inputmask.keyCode.PAGE_DOWN){e.preventDefault();var r=seekNext(getLastValidPosition());caret(t,e.shiftKey?n.begin:r,r,!0)}else i===Inputmask.keyCode.HOME&&!e.shiftKey||i===Inputmask.keyCode.PAGE_UP?(e.preventDefault(),caret(t,0,e.shiftKey?n.begin:0,!0)):(F.undoOnEscape&&i===Inputmask.keyCode.ESCAPE||90===i&&e.ctrlKey)&&!0!==e.altKey?(checkVal(t,!0,!1,d.split("")),a.trigger("click")):i!==Inputmask.keyCode.INSERT||e.shiftKey||e.ctrlKey?!0===F.tabThrough&&i===Inputmask.keyCode.TAB&&(!0===e.shiftKey?(null===getTest(n.begin).match.fn&&(n.begin=seekNext(n.begin)),n.end=seekPrevious(n.begin,!0),n.begin=seekPrevious(n.end,!0)):(n.begin=seekNext(n.begin,!0),n.end=seekNext(n.begin,!0),n.end<getMaskSet().maskLength&&n.end--),n.begin<getMaskSet().maskLength&&(e.preventDefault(),caret(t,n.begin,n.end))):(F.insertMode=!F.insertMode,t.setAttribute("im-insert",F.insertMode));F.onKeyDown.call(this,e,getBuffer(),caret(t).begin,F),h=-1!==L.inArray(i,F.ignorables)},keypressEvent:function keypressEvent(e,t,a,i,n){var r=this,s=L(r),o=e.which||e.charCode||e.keyCode;if(!(!0===t||e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||h))return o===Inputmask.keyCode.ENTER&&d!==getBuffer().join("")&&(d=getBuffer().join(""),setTimeout(function(){s.trigger("change")},0)),!0;if(o){46===o&&!1===e.shiftKey&&""!==F.radixPoint&&(o=F.radixPoint.charCodeAt(0));var l,u=t?{begin:n,end:n}:caret(r),c=String.fromCharCode(o),p=0;if(F._radixDance&&F.numericInput){var f=getBuffer().indexOf(F.radixPoint.charAt(0))+1;u.begin<=f&&(o===F.radixPoint.charCodeAt(0)&&(p=1),u.begin-=1,u.end-=1)}getMaskSet().writeOutBuffer=!0;var g=isValid(u,c,i);if(!1!==g&&(resetMaskSet(!0),l=g.caret!==V?g.caret:seekNext(g.pos.begin?g.pos.begin:g.pos),getMaskSet().p=l),l=(F.numericInput&&g.caret===V?seekPrevious(l):l)+p,!1!==a&&(setTimeout(function(){F.onKeyValidation.call(r,o,g,F)},0),getMaskSet().writeOutBuffer&&!1!==g)){var m=getBuffer();writeBuffer(r,m,l,e,!0!==t)}if(e.preventDefault(),t)return!1!==g&&(g.forwardPosition=l),g}},pasteEvent:function pasteEvent(e){var t,a=this,i=e.originalEvent||e,n=(L(a),a.inputmask._valueGet(!0)),r=caret(a);k&&(t=r.end,r.end=r.begin,r.begin=t);var s=n.substr(0,r.begin),o=n.substr(r.end,n.length);if(s===(k?getBufferTemplate().reverse():getBufferTemplate()).slice(0,r.begin).join("")&&(s=""),o===(k?getBufferTemplate().reverse():getBufferTemplate()).slice(r.end).join("")&&(o=""),M.clipboardData&&M.clipboardData.getData)n=s+M.clipboardData.getData("Text")+o;else{if(!i.clipboardData||!i.clipboardData.getData)return!0;n=s+i.clipboardData.getData("text/plain")+o}var l=n;if(L.isFunction(F.onBeforePaste)){if(!1===(l=F.onBeforePaste.call(u,n,F)))return e.preventDefault();l||(l=n)}return checkVal(a,!1,!1,l.toString().split("")),writeBuffer(a,getBuffer(),seekNext(getLastValidPosition()),e,d!==getBuffer().join("")),e.preventDefault()},inputFallBackEvent:function inputFallBackEvent(e){var i=this,t=i.inputmask._valueGet();if(getBuffer().join("")!==t){var a=caret(i);if(t=function ieMobileHandler(e,t,a){if(_){var i=t.replace(getBuffer().join(""),"");if(1===i.length){var n=t.split("");n.splice(a.begin,0,i),t=n.join("")}}return t}(0,t=function radixPointHandler(e,t,a){return"."===t.charAt(a.begin-1)&&""!==F.radixPoint&&((t=t.split(""))[a.begin-1]=F.radixPoint.charAt(0),t=t.join("")),t}(0,t,a),a),getBuffer().join("")!==t){var n=getBuffer().join(""),r=!F.numericInput&&t.length>n.length?-1:0,s=t.substr(0,a.begin),o=t.substr(a.begin),l=n.substr(0,a.begin+r),u=n.substr(a.begin+r),c=a,p="",f=!1;if(s!==l){var g,m=(f=s.length>=l.length)?s.length:l.length;for(g=0;s.charAt(g)===l.charAt(g)&&g<m;g++);f&&(c.begin=g-r,p+=s.slice(g,c.end))}if(o!==u&&(o.length>u.length?p+=o.slice(0,1):o.length<u.length&&(c.end+=u.length-o.length,f||""===F.radixPoint||""!==o||s.charAt(c.begin+r-1)!==F.radixPoint||(c.begin--,p=F.radixPoint))),writeBuffer(i,getBuffer(),{begin:c.begin+r,end:c.end+r}),0<p.length)L.each(p.split(""),function(e,t){var a=new L.Event("keypress");a.which=t.charCodeAt(0),h=!1,v.keypressEvent.call(i,a)});else{c.begin===c.end-1&&(c.begin=seekPrevious(c.begin+1),c.begin===c.end-1?caret(i,c.begin):caret(i,c.begin,c.end));var d=new L.Event("keydown");d.keyCode=F.numericInput?Inputmask.keyCode.BACKSPACE:Inputmask.keyCode.DELETE,v.keydownEvent.call(i,d)}e.preventDefault()}}},beforeInputEvent:function beforeInputEvent(e){if(e.cancelable){var i=this;switch(e.inputType){case"insertText":return L.each(e.data.split(""),function(e,t){var a=new L.Event("keypress");a.which=t.charCodeAt(0),h=!1,v.keypressEvent.call(i,a)}),e.preventDefault();case"deleteContentBackward":var t=new L.Event("keydown");return t.keyCode=Inputmask.keyCode.BACKSPACE,v.keydownEvent.call(i,t),e.preventDefault();case"deleteContentForward":var t=new L.Event("keydown");return t.keyCode=Inputmask.keyCode.DELETE,v.keydownEvent.call(i,t),e.preventDefault()}}},setValueEvent:function setValueEvent(e){this.inputmask.refreshValue=!1;var t=e&&e.detail?e.detail[0]:arguments[1],t=t||this.inputmask._valueGet(!0);L.isFunction(F.onBeforeMask)&&(t=F.onBeforeMask.call(u,t,F)||t),checkVal(this,!0,!1,t=t.split("")),d=getBuffer().join(""),(F.clearMaskOnLostFocus||F.clearIncomplete)&&this.inputmask._valueGet()===getBufferTemplate().join("")&&this.inputmask._valueSet("")},focusEvent:function focusEvent(e){var t=this,a=t.inputmask._valueGet();F.showMaskOnFocus&&(!F.showMaskOnHover||F.showMaskOnHover&&""===a)&&(t.inputmask._valueGet()!==getBuffer().join("")?writeBuffer(t,getBuffer(),seekNext(getLastValidPosition())):!1===i&&caret(t,seekNext(getLastValidPosition()))),!0===F.positionCaretOnTab&&!1===i&&v.clickEvent.apply(t,[e,!0]),d=getBuffer().join("")},mouseleaveEvent:function mouseleaveEvent(e){i=!1,F.clearMaskOnLostFocus&&S.activeElement!==this&&HandleNativePlaceholder(this,r)},clickEvent:function clickEvent(e,u){var c=this;setTimeout(function(){if(S.activeElement===c){var e=caret(c);if(u&&(k?e.end=e.begin:e.begin=e.end),e.begin===e.end)switch(F.positionCaretOnClick){case"none":break;case"select":caret(c,0,getBuffer().length);break;case"ignore":caret(c,seekNext(getLastValidPosition()));break;case"radixFocus":if(function doRadixFocus(e){if(""!==F.radixPoint){var t=getMaskSet().validPositions;if(t[e]===V||t[e].input===getPlaceholder(e)){if(e<seekNext(-1))return!0;var a=L.inArray(F.radixPoint,getBuffer());if(-1!==a){for(var i in t)if(a<i&&t[i].input!==getPlaceholder(i))return!1;return!0}}}return!1}(e.begin)){var t=getBuffer().join("").indexOf(F.radixPoint);caret(c,F.numericInput?seekNext(t):t);break}default:var a=e.begin,i=getLastValidPosition(a,!0),n=seekNext(i);if(a<n)caret(c,isMask(a,!0)||isMask(a-1,!0)?a:seekNext(a));else{var r=getMaskSet().validPositions[i],s=getTestTemplate(n,r?r.match.locator:V,r),o=getPlaceholder(n,s.match);if(""!==o&&getBuffer()[n]!==o&&!0!==s.match.optionalQuantifier&&!0!==s.match.newBlockMarker||!isMask(n,F.keepStatic)&&s.match.def===o){var l=seekNext(n);(l<=a||a===n)&&(n=l)}caret(c,n)}}}},0)},cutEvent:function cutEvent(e){L(this);var t=caret(this),a=e.originalEvent||e,i=M.clipboardData||a.clipboardData,n=k?getBuffer().slice(t.end,t.begin):getBuffer().slice(t.begin,t.end);i.setData("text",k?n.reverse().join(""):n.join("")),S.execCommand&&S.execCommand("copy"),handleRemove(0,Inputmask.keyCode.DELETE,t),writeBuffer(this,getBuffer(),getMaskSet().p,e,d!==getBuffer().join(""))},blurEvent:function blurEvent(e){var t=L(this);if(this.inputmask){HandleNativePlaceholder(this,r);var a=this.inputmask._valueGet(),i=getBuffer().slice();""===a&&f===V||(F.clearMaskOnLostFocus&&(-1===getLastValidPosition()&&a===getBufferTemplate().join("")?i=[]:clearOptionalTail(i)),!1===isComplete(i)&&(setTimeout(function(){t.trigger("incomplete")},0),F.clearIncomplete&&(resetMaskSet(),i=F.clearMaskOnLostFocus?[]:getBufferTemplate().slice())),writeBuffer(this,i,V,e)),d!==getBuffer().join("")&&(d=i.join(""),t.trigger("change"))}},mouseenterEvent:function mouseenterEvent(e){i=!0,S.activeElement!==this&&F.showMaskOnHover&&HandleNativePlaceholder(this,(k?getBuffer().slice().reverse():getBuffer()).join(""))},submitEvent:function submitEvent(e){d!==getBuffer().join("")&&n.trigger("change"),F.clearMaskOnLostFocus&&-1===getLastValidPosition()&&l.inputmask._valueGet&&l.inputmask._valueGet()===getBufferTemplate().join("")&&l.inputmask._valueSet(""),F.clearIncomplete&&!1===isComplete(getBuffer())&&l.inputmask._valueSet(""),F.removeMaskOnSubmit&&(l.inputmask._valueSet(l.inputmask.unmaskedvalue(),!0),setTimeout(function(){writeBuffer(l,getBuffer())},0))},resetEvent:function resetEvent(e){l.inputmask.refreshValue=!0,setTimeout(function(){n.trigger("setvalue")},0)}};function checkVal(n,e,r,t,a){var s=this||n.inputmask,o=t.slice(),l="",u=-1,c=V;if(resetMaskSet(),r||!0===F.autoUnmask)u=seekNext(u);else{var i=getBufferTemplate().slice(0,seekNext(-1)).join(""),p=o.join("").match(new RegExp("^"+Inputmask.escapeRegex(i),"g"));p&&0<p.length&&(o.splice(0,p.length*i.length),u=seekNext(u))}-1===u?(getMaskSet().p=seekNext(u),u=0):getMaskSet().p=u,s.caretPos={begin:u},L.each(o,function(e,t){if(t!==V)if(getMaskSet().validPositions[e]===V&&o[e]===getPlaceholder(e)&&isMask(e,!0)&&!1===isValid(e,o[e],!0,V,V,!0))getMaskSet().p++;else{var a=new L.Event("_checkval");a.which=t.charCodeAt(0),l+=t;var i=getLastValidPosition(V,!0);!function isTemplateMatch(e,t){return-1!==getMaskTemplate(!0,0,!1).slice(e,seekNext(e)).join("").replace(/'/g,"").indexOf(t)&&!isMask(e)&&(getTest(e).match.nativeDef===t.charAt(0)||null===getTest(e).match.fn&&getTest(e).match.nativeDef==="'"+t.charAt(0)||" "===getTest(e).match.nativeDef&&(getTest(e+1).match.nativeDef===t.charAt(0)||null===getTest(e+1).match.fn&&getTest(e+1).match.nativeDef==="'"+t.charAt(0)))}(u,l)?(c=v.keypressEvent.call(n,a,!0,!1,r,s.caretPos.begin))&&(u=s.caretPos.begin+1,l=""):c=v.keypressEvent.call(n,a,!0,!1,r,i+1),c&&(writeBuffer(V,getBuffer(),c.forwardPosition,a,!1),s.caretPos={begin:c.forwardPosition,end:c.forwardPosition})}}),e&&writeBuffer(n,getBuffer(),c?c.forwardPosition:V,a||new L.Event("checkval"),a&&"input"===a.type)}function unmaskedvalue(e){if(e){if(e.inputmask===V)return e.value;e.inputmask&&e.inputmask.refreshValue&&v.setValueEvent.call(e)}var t=[],a=getMaskSet().validPositions;for(var i in a)a[i].match&&null!=a[i].match.fn&&t.push(a[i].input);var n=0===t.length?"":(k?t.reverse():t).join("");if(L.isFunction(F.onUnMask)){var r=(k?getBuffer().slice().reverse():getBuffer()).join("");n=F.onUnMask.call(u,r,n,F)}return n}function caret(e,t,a,i){function translatePosition(e){return!k||"number"!=typeof e||F.greedy&&""===F.placeholder||!l||(e=l.inputmask._valueGet().length-e),e}var n;if(t===V)return"selectionStart"in e?(t=e.selectionStart,a=e.selectionEnd):M.getSelection?(n=M.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==e&&n.commonAncestorContainer!==e||(t=n.startOffset,a=n.endOffset):S.selection&&S.selection.createRange&&(n=S.selection.createRange(),t=0-n.duplicate().moveStart("character",-e.inputmask._valueGet().length),a=t+n.text.length),{begin:i?t:translatePosition(t),end:i?a:translatePosition(a)};if(L.isArray(t)&&(a=k?t[0]:t[1],t=k?t[1]:t[0]),t.begin!==V&&(a=k?t.begin:t.end,t=k?t.end:t.begin),"number"==typeof t){t=i?t:translatePosition(t),a="number"==typeof(a=i?a:translatePosition(a))?a:t;var r=parseInt(((e.ownerDocument.defaultView||M).getComputedStyle?(e.ownerDocument.defaultView||M).getComputedStyle(e,null):e.currentStyle).fontSize)*a;if(e.scrollLeft=r>e.scrollWidth?r:0,e.inputmask.caretPos={begin:t,end:a},e===S.activeElement){if("selectionStart"in e)e.selectionStart=t,e.selectionEnd=a;else if(M.getSelection){if(n=S.createRange(),e.firstChild===V||null===e.firstChild){var s=S.createTextNode("");e.appendChild(s)}n.setStart(e.firstChild,t<e.inputmask._valueGet().length?t:e.inputmask._valueGet().length),n.setEnd(e.firstChild,a<e.inputmask._valueGet().length?a:e.inputmask._valueGet().length),n.collapse(!0);var o=M.getSelection();o.removeAllRanges(),o.addRange(n)}else e.createTextRange&&((n=e.createTextRange()).collapse(!0),n.moveEnd("character",a),n.moveStart("character",t),n.select());renderColorMask(e,{begin:t,end:a})}}}function determineLastRequiredPosition(e){var t,a,i=getMaskTemplate(!0,getLastValidPosition(),!0,!0),n=i.length,r=getLastValidPosition(),s={},o=getMaskSet().validPositions[r],l=o!==V?o.locator.slice():V;for(t=r+1;t<i.length;t++)a=getTestTemplate(t,l,t-1),l=a.locator.slice(),s[t]=L.extend(!0,{},a);var u=o&&o.alternation!==V?o.locator[o.alternation]:V;for(t=n-1;r<t&&((a=s[t]).match.optionality||a.match.optionalQuantifier&&a.match.newBlockMarker||u&&(u!==s[t].locator[o.alternation]&&null!=a.match.fn||null===a.match.fn&&a.locator[o.alternation]&&checkAlternationMatch(a.locator[o.alternation].toString().split(","),u.toString().split(","))&&""!==getTests(t)[0].def))&&i[t]===getPlaceholder(t,a.match);t--)n--;return e?{l:n,def:s[n]?s[n].match:V}:n}function clearOptionalTail(e){for(var t,a=getMaskTemplate(!(e.length=0),0,!0,V,!0);(t=a.shift())!==V;)e.push(t);return e}function isComplete(e){if(L.isFunction(F.isComplete))return F.isComplete(e,F);if("*"===F.repeat)return V;var t=!1,a=determineLastRequiredPosition(!0),i=seekPrevious(a.l);if(a.def===V||a.def.newBlockMarker||a.def.optionality||a.def.optionalQuantifier){t=!0;for(var n=0;n<=i;n++){var r=getTestTemplate(n).match;if(null!==r.fn&&getMaskSet().validPositions[n]===V&&!0!==r.optionality&&!0!==r.optionalQuantifier||null===r.fn&&e[n]!==getPlaceholder(n,r)){t=!1;break}}}return t}function handleRemove(e,t,a,i,n){if((F.numericInput||k)&&(t===Inputmask.keyCode.BACKSPACE?t=Inputmask.keyCode.DELETE:t===Inputmask.keyCode.DELETE&&(t=Inputmask.keyCode.BACKSPACE),k)){var r=a.end;a.end=a.begin,a.begin=r}if(t===Inputmask.keyCode.BACKSPACE&&a.end-a.begin<1?(a.begin=seekPrevious(a.begin),getMaskSet().validPositions[a.begin]!==V&&getMaskSet().validPositions[a.begin].input===F.groupSeparator&&a.begin--):t===Inputmask.keyCode.DELETE&&a.begin===a.end&&(a.end=isMask(a.end,!0)&&getMaskSet().validPositions[a.end]&&getMaskSet().validPositions[a.end].input!==F.radixPoint?a.end+1:seekNext(a.end)+1,getMaskSet().validPositions[a.begin]!==V&&getMaskSet().validPositions[a.begin].input===F.groupSeparator&&a.end++),revalidateMask(a),!0!==i&&!1!==F.keepStatic||null!==F.regex){var s=alternate(!0);if(s){var o=s.caret!==V?s.caret:s.pos?seekNext(s.pos.begin?s.pos.begin:s.pos):getLastValidPosition(-1,!0);(t!==Inputmask.keyCode.DELETE||a.begin>o)&&a.begin}}var l=getLastValidPosition(a.begin,!0);if(l<a.begin||-1===a.begin)getMaskSet().p=seekNext(l);else if(!0!==i&&(getMaskSet().p=a.begin,!0!==n))for(;getMaskSet().p<l&&getMaskSet().validPositions[getMaskSet().p]===V;)getMaskSet().p++}function initializeColorMask(u){var c=(u.ownerDocument.defaultView||M).getComputedStyle(u,null),e=S.createElement("div");e.style.width=c.width,e.style.textAlign=c.textAlign,f=S.createElement("div"),(u.inputmask.colorMask=f).className="im-colormask",u.parentNode.insertBefore(f,u),u.parentNode.removeChild(u),f.appendChild(u),f.appendChild(e),u.style.left=e.offsetLeft+"px",L(f).on("mouseleave",function(e){return v.mouseleaveEvent.call(u,[e])}),L(f).on("mouseenter",function(e){return v.mouseenterEvent.call(u,[e])}),L(f).on("click",function(e){return caret(u,function findCaretPos(e){var t,a=S.createElement("span");for(var i in c)isNaN(i)&&-1!==i.indexOf("font")&&(a.style[i]=c[i]);a.style.textTransform=c.textTransform,a.style.letterSpacing=c.letterSpacing,a.style.position="absolute",a.style.height="auto",a.style.width="auto",a.style.visibility="hidden",a.style.whiteSpace="nowrap",S.body.appendChild(a);var n,r=u.inputmask._valueGet(),s=0;for(t=0,n=r.length;t<=n;t++){if(a.innerHTML+=r.charAt(t)||"_",a.offsetWidth>=e){var o=e-s,l=a.offsetWidth-e;a.innerHTML=r.charAt(t),o-=a.offsetWidth/3,t=o<l?t-1:t;break}s=a.offsetWidth}return S.body.removeChild(a),t}(e.clientX)),v.clickEvent.call(u,[e])})}function renderColorMask(e,t,a){var i,n,r,s=[],o=!1,l=0;function setEntry(e){if(e===V&&(e=""),o||null!==i.fn&&n.input!==V)if(o&&(null!==i.fn&&n.input!==V||""===i.def)){o=!1;var t=s.length;s[t-1]=s[t-1]+"</span>",s.push(e)}else s.push(e);else o=!0,s.push("<span class='im-static'>"+e)}if(f!==V){var u=getBuffer();if(t===V?t=caret(e):t.begin===V&&(t={begin:t,end:t}),!0!==a){for(var c=getLastValidPosition();getMaskSet().validPositions[l]?(n=getMaskSet().validPositions[l],i=n.match,r=n.locator.slice(),setEntry(u[l])):(n=getTestTemplate(l,r,l-1),i=n.match,r=n.locator.slice(),!1===F.jitMasking||l<c||"number"==typeof F.jitMasking&&isFinite(F.jitMasking)&&F.jitMasking>l?setEntry(getPlaceholder(l,i)):o=!1),l++,(m===V||l<m)&&(null!==i.fn||""!==i.def)||l<c||o;);o&&setEntry(),function setCaret(){S.activeElement===e&&(s.splice(t.begin,0,t.begin===t.end||t.end>getMaskSet().maskLength?'<mark class="im-caret" style="border-right-width: 1px;border-right-style: solid;">':'<mark class="im-caret-select">'),s.splice(t.end+1,0,"</mark>"))}()}var p=f.getElementsByTagName("div")[0];p.innerHTML=s.join(""),e.inputmask.positionColorMask(e,p)}}if(Inputmask.prototype.positionColorMask=function(e,t){e.style.left=t.offsetLeft+"px"},e!==V)switch(e.action){case"isComplete":return l=e.el,isComplete(getBuffer());case"unmaskedvalue":return l!==V&&e.value===V||(a=e.value,a=(L.isFunction(F.onBeforeMask)&&F.onBeforeMask.call(u,a,F)||a).split(""),checkVal.call(this,V,!1,!1,a),L.isFunction(F.onBeforeWrite)&&F.onBeforeWrite.call(u,V,getBuffer(),0,F)),unmaskedvalue(l);case"mask":!function mask(e){function isElementTypeSupported(e,r){function patchValueProperty(e){var t,a,i;function patchValhook(e){if(L.valHooks&&(L.valHooks[e]===V||!0!==L.valHooks[e].inputmaskpatch)){var a=L.valHooks[e]&&L.valHooks[e].get?L.valHooks[e].get:function(e){return e.value},n=L.valHooks[e]&&L.valHooks[e].set?L.valHooks[e].set:function(e,t){return e.value=t,e};L.valHooks[e]={get:function get(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=a(e);return-1!==getLastValidPosition(V,V,e.inputmask.maskset.validPositions)||!0!==r.nullable?t:""}return a(e)},set:function set(e,t){var a,i=L(e);return a=n(e,t),e.inputmask&&i.trigger("setvalue",[t]),a},inputmaskpatch:!0}}}function getter(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==getLastValidPosition()||!0!==r.nullable?S.activeElement===this&&r.clearMaskOnLostFocus?(k?clearOptionalTail(getBuffer().slice()).reverse():clearOptionalTail(getBuffer().slice())).join(""):t.call(this):"":t.call(this)}function setter(e){a.call(this,e),this.inputmask&&L(this).trigger("setvalue",[e])}if(!e.inputmask.__valueGet){if(!0!==r.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===T("test".__proto__)?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var n=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value"):V;n&&n.get&&n.set?(t=n.get,a=n.set,Object.defineProperty(e,"value",{get:getter,set:setter,configurable:!0})):"INPUT"!==e.tagName&&(t=function valueGet(){return this.textContent},a=function valueSet(e){this.textContent=e},Object.defineProperty(e,"value",{get:getter,set:setter,configurable:!0}))}else S.__lookupGetter__&&e.__lookupGetter__("value")&&(t=e.__lookupGetter__("value"),a=e.__lookupSetter__("value"),e.__defineGetter__("value",getter),e.__defineSetter__("value",setter));e.inputmask.__valueGet=t,e.inputmask.__valueSet=a}e.inputmask._valueGet=function(e){return k&&!0!==e?t.call(this.el).split("").reverse().join(""):t.call(this.el)},e.inputmask._valueSet=function(e,t){a.call(this.el,null===e||e===V?"":!0!==t&&k?e.split("").reverse().join(""):e)},t===V&&(t=function valueGet(){return this.value},a=function valueSet(e){this.value=e},patchValhook(e.type),i=e,o.on(i,"mouseenter",function(e){var t=L(this),a=this.inputmask._valueGet();a!==getBuffer().join("")&&t.trigger("setvalue")}))}}var t=e.getAttribute("type"),a="INPUT"===e.tagName&&-1!==L.inArray(t,r.supportsInputType)||e.isContentEditable||"TEXTAREA"===e.tagName;if(!a)if("INPUT"===e.tagName){var i=S.createElement("input");i.setAttribute("type",t),a="text"===i.type,i=null}else a="partial";return!1!==a?patchValueProperty(e):e.inputmask=V,a}o.off(e);var t=isElementTypeSupported(e,F);if(!1!==t&&(n=L(l=e),r=l.placeholder,-1===(m=l!==V?l.maxLength:V)&&(m=V),!0===F.colorMask&&initializeColorMask(l),P&&("inputmode"in l&&(l.inputmode=F.inputmode,l.setAttribute("inputmode",F.inputmode)),!0===F.disablePredictiveText&&("autocorrect"in l?l.autocorrect=!1:(!0!==F.colorMask&&initializeColorMask(l),l.type="password"))),!0===t&&(l.setAttribute("im-insert",F.insertMode),o.on(l,"submit",v.submitEvent),o.on(l,"reset",v.resetEvent),o.on(l,"blur",v.blurEvent),o.on(l,"focus",v.focusEvent),!0!==F.colorMask&&(o.on(l,"click",v.clickEvent),o.on(l,"mouseleave",v.mouseleaveEvent),o.on(l,"mouseenter",v.mouseenterEvent)),o.on(l,"paste",v.pasteEvent),o.on(l,"cut",v.cutEvent),o.on(l,"complete",F.oncomplete),o.on(l,"incomplete",F.onincomplete),o.on(l,"cleared",F.oncleared),P||!0===F.inputEventOnly?l.removeAttribute("maxLength"):(o.on(l,"keydown",v.keydownEvent),o.on(l,"keypress",v.keypressEvent)),o.on(l,"input",v.inputFallBackEvent),o.on(l,"beforeinput",v.beforeInputEvent)),o.on(l,"setvalue",v.setValueEvent),d=getBufferTemplate().join(""),""!==l.inputmask._valueGet(!0)||!1===F.clearMaskOnLostFocus||S.activeElement===l)){var a=L.isFunction(F.onBeforeMask)&&F.onBeforeMask.call(u,l.inputmask._valueGet(!0),F)||l.inputmask._valueGet(!0);""!==a&&checkVal(l,!0,!1,a.split(""));var i=getBuffer().slice();d=i.join(""),!1===isComplete(i)&&F.clearIncomplete&&resetMaskSet(),F.clearMaskOnLostFocus&&S.activeElement!==l&&(-1===getLastValidPosition()?i=[]:clearOptionalTail(i)),(!1===F.clearMaskOnLostFocus||F.showMaskOnFocus&&S.activeElement===l||""!==l.inputmask._valueGet(!0))&&writeBuffer(l,i),S.activeElement===l&&caret(l,seekNext(getLastValidPosition()))}}(l);break;case"format":return a=(L.isFunction(F.onBeforeMask)&&F.onBeforeMask.call(u,e.value,F)||e.value).split(""),checkVal.call(this,V,!0,!1,a),e.metadata?{value:k?getBuffer().slice().reverse().join(""):getBuffer().join(""),metadata:maskScope.call(this,{action:"getmetadata"},t,F)}:k?getBuffer().slice().reverse().join(""):getBuffer().join("");case"isValid":e.value?(a=e.value.split(""),checkVal.call(this,V,!0,!0,a)):e.value=getBuffer().join("");for(var p=getBuffer(),g=determineLastRequiredPosition(),y=p.length-1;g<y&&!isMask(y);y--);return p.splice(g,y+1-g),isComplete(p)&&e.value===getBuffer().join("");case"getemptymask":return getBufferTemplate().join("");case"remove":return l&&l.inputmask&&(L.data(l,"_inputmask_opts",null),n=L(l),l.inputmask._valueSet(F.autoUnmask?unmaskedvalue(l):l.inputmask._valueGet(!0)),o.off(l),l.inputmask.colorMask&&((f=l.inputmask.colorMask).removeChild(l),f.parentNode.insertBefore(l,f),f.parentNode.removeChild(f)),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(l),"value")&&l.inputmask.__valueGet&&Object.defineProperty(l,"value",{get:l.inputmask.__valueGet,set:l.inputmask.__valueSet,configurable:!0}):S.__lookupGetter__&&l.__lookupGetter__("value")&&l.inputmask.__valueGet&&(l.__defineGetter__("value",l.inputmask.__valueGet),l.__defineSetter__("value",l.inputmask.__valueSet)),l.inputmask=V),l;case"getmetadata":if(L.isArray(t.metadata)){var b=getMaskTemplate(!0,0,!1).join("");return L.each(t.metadata,function(e,t){if(t.mask===b)return b=t,!1}),b}return t.metadata}}return Inputmask.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:L.noop,onincomplete:L.noop,oncleared:L.noop,repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:L.noop,onBeforeMask:null,onBeforePaste:function onBeforePaste(e,t){return L.isFunction(t.onBeforeMask)?t.onBeforeMask.call(this,e,t):e},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:L.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password","search"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:V,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,disablePredictiveText:!1,importDataAttributes:!0,shiftPositions:!0},definitions:{9:{validator:"[0-9\uff11-\uff19]",definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",definitionSymbol:"*"},"*":{validator:"[0-9\uff11-\uff19A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]"}},aliases:{},masksCache:{},mask:function mask(e){var n=this;return"string"==typeof e&&(e=S.getElementById(e)||S.querySelectorAll(e)),e=e.nodeName?[e]:e,L.each(e,function(e,t){var a=L.extend(!0,{},n.opts);if(function importAttributeOptions(a,e,i,n){if(!0===e.importDataAttributes){var t,r,s,o,l=function importOption(e,t){null!==(t=t!==V?t:a.getAttribute(n+"-"+e))&&("string"==typeof t&&(0===e.indexOf("on")?t=M[t]:"false"===t?t=!1:"true"===t&&(t=!0)),i[e]=t)},u=a.getAttribute(n);if(u&&""!==u&&(u=u.replace(/'/g,'"'),r=JSON.parse("{"+u+"}")),r)for(o in s=V,r)if("alias"===o.toLowerCase()){s=r[o];break}for(t in l("alias",s),i.alias&&resolveAlias(i.alias,i,e),e){if(r)for(o in s=V,r)if(o.toLowerCase()===t.toLowerCase()){s=r[o];break}l(t,s)}}return L.extend(!0,e,i),("rtl"===a.dir||e.rightAlign)&&(a.style.textAlign="right"),("rtl"===a.dir||e.numericInput)&&(a.dir="ltr",a.removeAttribute("dir"),e.isRTL=!0),Object.keys(i).length}(t,a,L.extend(!0,{},n.userOptions),n.dataAttribute)){var i=generateMaskSet(a,n.noMasksCache);i!==V&&(t.inputmask!==V&&(t.inputmask.opts.autoUnmask=!0,t.inputmask.remove()),t.inputmask=new Inputmask(V,V,!0),t.inputmask.opts=a,t.inputmask.noMasksCache=n.noMasksCache,t.inputmask.userOptions=L.extend(!0,{},n.userOptions),t.inputmask.isRTL=a.isRTL||a.numericInput,(t.inputmask.el=t).inputmask.maskset=i,L.data(t,"_inputmask_opts",a),maskScope.call(t.inputmask,{action:"mask"}))}}),e&&e[0]&&e[0].inputmask||this},option:function option(e,t){return"string"==typeof e?this.opts[e]:"object"===(void 0===e?"undefined":T(e))?(L.extend(this.userOptions,e),this.el&&!0!==t&&this.mask(this.el),this):void 0},unmaskedvalue:function unmaskedvalue(e){return this.maskset=this.maskset||generateMaskSet(this.opts,this.noMasksCache),maskScope.call(this,{action:"unmaskedvalue",value:e})},remove:function remove(){return maskScope.call(this,{action:"remove"})},getemptymask:function getemptymask(){return this.maskset=this.maskset||generateMaskSet(this.opts,this.noMasksCache),maskScope.call(this,{action:"getemptymask"})},hasMaskedValue:function hasMaskedValue(){return!this.opts.autoUnmask},isComplete:function isComplete(){return this.maskset=this.maskset||generateMaskSet(this.opts,this.noMasksCache),maskScope.call(this,{action:"isComplete"})},getmetadata:function getmetadata(){return this.maskset=this.maskset||generateMaskSet(this.opts,this.noMasksCache),maskScope.call(this,{action:"getmetadata"})},isValid:function isValid(e){return this.maskset=this.maskset||generateMaskSet(this.opts,this.noMasksCache),maskScope.call(this,{action:"isValid",value:e})},format:function format(e,t){return this.maskset=this.maskset||generateMaskSet(this.opts,this.noMasksCache),maskScope.call(this,{action:"format",value:e,metadata:t})},setValue:function setValue(e){this.el&&L(this.el).trigger("setvalue",[e])},analyseMask:function analyseMask(e,r,s){var t,a,i,n,o,l,u=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?(?:\|[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,c=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,p=!1,f=new MaskToken,g=[],m=[];function MaskToken(e,t,a,i){this.matches=[],this.openGroup=e||!1,this.alternatorGroup=!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=a||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function insertTestDefinition(a,e,i){i=i!==V?i:a.matches.length;var n=a.matches[i-1];if(r)0===e.indexOf("[")||p&&/\\d|\\s|\\w]/i.test(e)||"."===e?a.matches.splice(i++,0,{fn:new RegExp(e,s.casing?"i":""),optionality:!1,newBlockMarker:n===V?"master":n.def!==e,casing:null,def:e,placeholder:V,nativeDef:e}):(p&&(e=e[e.length-1]),L.each(e.split(""),function(e,t){n=a.matches[i-1],a.matches.splice(i++,0,{fn:null,optionality:!1,newBlockMarker:n===V?"master":n.def!==t&&null!==n.fn,casing:null,def:s.staticDefinitionSymbol||t,placeholder:s.staticDefinitionSymbol!==V?t:V,nativeDef:(p?"'":"")+t})})),p=!1;else{var t=(s.definitions?s.definitions[e]:V)||Inputmask.prototype.definitions[e];t&&!p?a.matches.splice(i++,0,{fn:t.validator?"string"==typeof t.validator?new RegExp(t.validator,s.casing?"i":""):new function(){this.test=t.validator}:new RegExp("."),optionality:!1,newBlockMarker:n===V?"master":n.def!==(t.definitionSymbol||e),casing:t.casing,def:t.definitionSymbol||e,placeholder:t.placeholder,nativeDef:e}):(a.matches.splice(i++,0,{fn:null,optionality:!1,newBlockMarker:n===V?"master":n.def!==e&&null!==n.fn,casing:null,def:s.staticDefinitionSymbol||e,placeholder:s.staticDefinitionSymbol!==V?e:V,nativeDef:(p?"'":"")+e}),p=!1)}}function defaultCase(){if(0<g.length){if(insertTestDefinition(n=g[g.length-1],a),n.isAlternator){o=g.pop();for(var e=0;e<o.matches.length;e++)o.matches[e].isGroup&&(o.matches[e].isGroup=!1);0<g.length?(n=g[g.length-1]).matches.push(o):f.matches.push(o)}}else insertTestDefinition(f,a)}function groupify(e){var t=new MaskToken(!0);return t.openGroup=!1,t.matches=e,t}for(r&&(s.optionalmarker[0]=V,s.optionalmarker[1]=V);t=r?c.exec(e):u.exec(e);){if(a=t[0],r)switch(a.charAt(0)){case"?":a="{0,1}";break;case"+":case"*":a="{"+a+"}"}if(p)defaultCase();else switch(a.charAt(0)){case"(?=":case"(?!":case"(?<=":case"(?<!":break;case s.escapeChar:p=!0,r&&defaultCase();break;case s.optionalmarker[1]:case s.groupmarker[1]:if((i=g.pop()).openGroup=!1,i!==V)if(0<g.length){if((n=g[g.length-1]).matches.push(i),n.isAlternator){o=g.pop();for(var d=0;d<o.matches.length;d++)o.matches[d].isGroup=!1,o.matches[d].alternatorGroup=!1;0<g.length?(n=g[g.length-1]).matches.push(o):f.matches.push(o)}}else f.matches.push(i);else defaultCase();break;case s.optionalmarker[0]:g.push(new MaskToken(!1,!0));break;case s.groupmarker[0]:g.push(new MaskToken(!0));break;case s.quantifiermarker[0]:var k=new MaskToken(!1,!1,!0),h=(a=a.replace(/[{}]/g,"")).split("|"),v=h[0].split(","),y=isNaN(v[0])?v[0]:parseInt(v[0]),b=1===v.length?y:isNaN(v[1])?v[1]:parseInt(v[1]);"*"!==y&&"+"!==y||(y="*"===b?0:1),k.quantifier={min:y,max:b,jit:h[1]};var M=0<g.length?g[g.length-1].matches:f.matches;if((t=M.pop()).isAlternator){M.push(t),M=t.matches;var S=new MaskToken(!0),x=M.pop();M.push(S),M=S.matches,t=x}t.isGroup||(t=groupify([t])),M.push(t),M.push(k);break;case s.alternatormarker:var P=function groupQuantifier(e){var t=e.pop();return t.isQuantifier&&(t=groupify([e.pop(),t])),t};if(0<g.length){var _=(n=g[g.length-1]).matches[n.matches.length-1];l=n.openGroup&&(_.matches===V||!1===_.isGroup&&!1===_.isAlternator)?g.pop():P(n.matches)}else l=P(f.matches);if(l.isAlternator)g.push(l);else if(l.alternatorGroup?(o=g.pop(),l.alternatorGroup=!1):o=new MaskToken(!1,!1,!1,!0),o.matches.push(l),g.push(o),l.openGroup){var E=new MaskToken(!(l.openGroup=!1));E.alternatorGroup=!0,g.push(E)}break;default:defaultCase()}}for(;0<g.length;)i=g.pop(),f.matches.push(i);return 0<f.matches.length&&(function verifyGroupMarker(i){i&&i.matches&&L.each(i.matches,function(e,t){var a=i.matches[e+1];(a===V||a.matches===V||!1===a.isQuantifier)&&t&&t.isGroup&&(t.isGroup=!1,r||(insertTestDefinition(t,s.groupmarker[0],0),!0!==t.openGroup&&insertTestDefinition(t,s.groupmarker[1]))),verifyGroupMarker(t)})}(f),m.push(f)),(s.numericInput||s.isRTL)&&function reverseTokens(e){for(var t in e.matches=e.matches.reverse(),e.matches)if(e.matches.hasOwnProperty(t)){var a=parseInt(t);if(e.matches[t].isQuantifier&&e.matches[a+1]&&e.matches[a+1].isGroup){var i=e.matches[t];e.matches.splice(t,1),e.matches.splice(a+1,0,i)}e.matches[t].matches!==V?e.matches[t]=reverseTokens(e.matches[t]):e.matches[t]=((n=e.matches[t])===s.optionalmarker[0]?n=s.optionalmarker[1]:n===s.optionalmarker[1]?n=s.optionalmarker[0]:n===s.groupmarker[0]?n=s.groupmarker[1]:n===s.groupmarker[1]&&(n=s.groupmarker[0]),n)}var n;return e}(m[0]),m}},Inputmask.extendDefaults=function(e){L.extend(!0,Inputmask.prototype.defaults,e)},Inputmask.extendDefinitions=function(e){L.extend(!0,Inputmask.prototype.definitions,e)},Inputmask.extendAliases=function(e){L.extend(!0,Inputmask.prototype.aliases,e)},Inputmask.format=function(e,t,a){return Inputmask(t).format(e,a)},Inputmask.unmask=function(e,t){return Inputmask(t).unmaskedvalue(e)},Inputmask.isValid=function(e,t){return Inputmask(t).isValid(e)},Inputmask.remove=function(e){"string"==typeof e&&(e=S.getElementById(e)||S.querySelectorAll(e)),e=e.nodeName?[e]:e,L.each(e,function(e,t){t.inputmask&&t.inputmask.remove()})},Inputmask.setValue=function(e,a){"string"==typeof e&&(e=S.getElementById(e)||S.querySelectorAll(e)),e=e.nodeName?[e]:e,L.each(e,function(e,t){t.inputmask?t.inputmask.setValue(a):L(t).trigger("setvalue",[a])})},Inputmask.escapeRegex=function(e){return e.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim"),"\\$1")},Inputmask.keyCode={BACKSPACE:8,BACKSPACE_SAFARI:127,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SPACE:32,TAB:9,UP:38,X:88,CONTROL:17},Inputmask.dependencyLib=L,M.Inputmask=Inputmask}(a(4),a(6))},function(e,t,a){"use strict";e.exports=a(5)},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__5__},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_RESULT__,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};__WEBPACK_AMD_DEFINE_RESULT__=function(){return"undefined"!=typeof window?window:new(eval("require('jsdom').JSDOM"))("").window}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(e,t,a){"use strict";var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=a(3),l=o.dependencyLib,c={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return pad(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return pad(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return pad(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return pad(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return pad(Date.prototype.getHours.call(this),2)}],hhh:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["[01][0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return pad(Date.prototype.getHours.call(this),2)}],HHH:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["[0-5][0-9]",Date.prototype.setMinutes,"minutes",function(){return pad(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["[0-5][0-9]",Date.prototype.setSeconds,"seconds",function(){return pad(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return pad(Date.prototype.getMilliseconds.call(this),3)}],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return pad(Date.prototype.getMilliseconds.call(this),2)}],t:["[ap]"],tt:["[ap]m"],T:["[AP]"],TT:["[AP]M"],Z:[""],o:[""],S:[""]},i={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function getTokenizer(e){if(!e.tokenizer){var t=[];for(var a in c)-1===t.indexOf(a[0])&&t.push(a[0]);e.tokenizer="("+t.join("+|")+")+?|.",e.tokenizer=new RegExp(e.tokenizer,"g")}return e.tokenizer}function parse(e,t,a,i){for(var n,r="";n=getTokenizer(a).exec(e);){if(void 0===t)if(c[n[0]])r+="("+c[n[0]][0]+")";else switch(n[0]){case"[":r+="(";break;case"]":r+=")?";break;default:r+=o.escapeRegex(n[0])}else if(c[n[0]])if(!0!==i&&c[n[0]][3])r+=c[n[0]][3].call(t.date);else c[n[0]][2]?r+=t["raw"+c[n[0]][2]]:r+=n[0];else r+=n[0]}return r}function pad(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function analyseMask(e,t,r){var s,a,i,n={date:new Date(1,0,1)},o=e;function setValue(e,t,a){e[s]=function extendProperty(e){var t=e.replace(/[^0-9]/g,"0");if(t!=e){var a=e.replace(/[^0-9]/g,""),i=(r.min&&r.min[s]||e).toString(),n=(r.max&&r.max[s]||e).toString();t=a+(a<i.slice(0,a.length)?i.slice(a.length):a>n.slice(0,a.length)?n.slice(a.length):t.toString().slice(a.length))}return t}(t),e["raw"+s]=t,void 0!==i&&i.call(e.date,"month"==s?parseInt(e[s])-1:e[s])}if("string"==typeof o){for(;a=getTokenizer(r).exec(t);){var l=o.slice(0,a[0].length);c.hasOwnProperty(a[0])&&(c[a[0]][0],s=c[a[0]][2],i=c[a[0]][1],setValue(n,l)),o=o.slice(l.length)}return n}if(o&&"object"===(void 0===o?"undefined":u(o))&&o.hasOwnProperty("date"))return o}o.extendAliases({datetime:{mask:function mask(e){return c.S=e.i18n.ordinalSuffix.join("|"),e.inputFormat=i[e.inputFormat]||e.inputFormat,e.displayFormat=i[e.displayFormat]||e.displayFormat||e.inputFormat,e.outputFormat=i[e.outputFormat]||e.outputFormat||e.inputFormat,e.placeholder=""!==e.placeholder?e.placeholder:e.inputFormat.replace(/[\[\]]/,""),e.regex=parse(e.inputFormat,void 0,e),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:void 0,outputFormat:void 0,min:null,max:null,i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},postValidation:function postValidation(e,t,a,i){i.min=analyseMask(i.min,i.inputFormat,i),i.max=analyseMask(i.max,i.inputFormat,i);var n=a,r=analyseMask(e.join(""),i.inputFormat,i);return n&&r.date.getTime()==r.date.getTime()&&(n=(n=function isValidDate(e,t){return(!isFinite(e.rawday)||"29"==e.day&&!isFinite(e.rawyear)||new Date(e.date.getFullYear(),isFinite(e.rawmonth)?e.month:e.date.getMonth()+1,0).getDate()>=e.day)&&t}(r,n))&&function isDateInRange(e,t){var a=!0;if(t.min){if(e.rawyear){var i=e.rawyear.replace(/[^0-9]/g,"");a=t.min.year.substr(0,i.length)<=i}e.year===e.rawyear&&t.min.date.getTime()==t.min.date.getTime()&&(a=t.min.date.getTime()<=e.date.getTime())}return a&&t.max&&t.max.date.getTime()==t.max.date.getTime()&&(a=t.max.date.getTime()>=e.date.getTime()),a}(r,i)),t&&n&&a.pos!==t?{buffer:parse(i.inputFormat,r,i),refreshFromBuffer:{start:t,end:a.pos}}:n},onKeyDown:function onKeyDown(e,t,a,i){if(e.ctrlKey&&e.keyCode===o.keyCode.RIGHT){for(var n,r=new Date,s="";n=getTokenizer(i).exec(i.inputFormat);)"d"===n[0].charAt(0)?s+=pad(r.getDate(),n[0].length):"m"===n[0].charAt(0)?s+=pad(r.getMonth()+1,n[0].length):"yyyy"===n[0]?s+=r.getFullYear().toString():"y"===n[0].charAt(0)&&(s+=pad(r.getYear(),n[0].length));this.inputmask._valueSet(s),l(this).trigger("setvalue")}},onUnMask:function onUnMask(e,t,a){return parse(a.outputFormat,analyseMask(e,a.inputFormat,a),a,!0)},casing:function casing(e,t,a,i){return 0==t.nativeDef.indexOf("[ap]")?e.toLowerCase():0==t.nativeDef.indexOf("[AP]")?e.toUpperCase():e},insertMode:!1,shiftPositions:!1}}),e.exports=o},function(e,t,a){"use strict";var k=a(3),h=k.dependencyLib;function autoEscape(e,t){for(var a="",i=0;i<e.length;i++)k.prototype.definitions[e.charAt(i)]||t.definitions[e.charAt(i)]||t.optionalmarker.start===e.charAt(i)||t.optionalmarker.end===e.charAt(i)||t.quantifiermarker.start===e.charAt(i)||t.quantifiermarker.end===e.charAt(i)||t.groupmarker.start===e.charAt(i)||t.groupmarker.end===e.charAt(i)||t.alternatormarker===e.charAt(i)?a+="\\"+e.charAt(i):a+=e.charAt(i);return a}k.extendAliases({numeric:{mask:function mask(e){if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator===e.radixPoint&&e.digits&&"0"!==e.digits&&("."===e.radixPoint?e.groupSeparator=",":","===e.radixPoint?e.groupSeparator=".":e.groupSeparator="")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.autoGroup=e.autoGroup&&""!==e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var t=Math.floor(e.integerDigits/e.groupSize),a=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0===a?t-1:t),e.integerDigits<1&&(e.integerDigits="*")}1<e.placeholder.length&&(e.placeholder=e.placeholder.charAt(0)),"radixFocus"===e.positionCaretOnClick&&""===e.placeholder&&!1===e.integerOptional&&(e.positionCaretOnClick="lvp"),e.definitions[";"]=e.definitions["~"],e.definitions[";"].definitionSymbol="~",!0===e.numericInput&&(e.positionCaretOnClick="radixFocus"===e.positionCaretOnClick?"lvp":e.positionCaretOnClick,e.digitsOptional=!1,isNaN(e.digits)&&(e.digits=2),e.decimalProtect=!1);var mask="[+]";if(mask+=autoEscape(e.prefix,e),!0===e.integerOptional?mask+="~{1,"+e.integerDigits+"}":mask+="~{"+e.integerDigits+"}",void 0!==e.digits){var i=e.decimalProtect?":":e.radixPoint,n=e.digits.toString().split(",");isFinite(n[0])&&n[1]&&isFinite(n[1])?mask+=i+";{"+e.digits+"}":(isNaN(e.digits)||0<parseInt(e.digits))&&(e.digitsOptional?mask+="["+i+";{1,"+e.digits+"}]":mask+=i+";{"+e.digits+"}")}return mask+=autoEscape(e.suffix,e),mask+="[-]",e.greedy=!1,mask},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputType:"text",inputmode:"numeric",preValidation:function preValidation(e,t,a,i,n,r){if("-"===a||a===n.negationSymbol.front)return!0===n.allowMinus&&(n.isNegative=void 0===n.isNegative||!n.isNegative,""===e.join("")||{caret:r.validPositions[t]?t:void 0,dopost:!0});if(!1===i&&a===n.radixPoint&&void 0!==n.digits&&(isNaN(n.digits)||0<parseInt(n.digits))){var s=h.inArray(n.radixPoint,e);if(-1!==s&&void 0!==r.validPositions[s])return!0===n.numericInput?t===s:{caret:s+1}}return!0},postValidation:function postValidation(e,t,a,i){var n=i.suffix.split(""),r=i.prefix.split("");if(void 0===a.pos&&void 0!==a.caret&&!0!==a.dopost)return a;var s=void 0!==a.caret?a.caret:a.pos,o=e.slice();i.numericInput&&(s=o.length-s-1,o=o.reverse());var l=o[s];if(l===i.groupSeparator&&(l=o[s+=1]),s===o.length-i.suffix.length-1&&l===i.radixPoint)return a;void 0!==l&&l!==i.radixPoint&&l!==i.negationSymbol.front&&l!==i.negationSymbol.back&&(o[s]="?",0<i.prefix.length&&s>=(!1===i.isNegative?1:0)&&s<i.prefix.length-1+(!1===i.isNegative?1:0)?r[s-(!1===i.isNegative?1:0)]="?":0<i.suffix.length&&s>=o.length-i.suffix.length-(!1===i.isNegative?1:0)&&(n[s-(o.length-i.suffix.length-(!1===i.isNegative?1:0))]="?")),r=r.join(""),n=n.join("");var u=o.join("").replace(r,"");if(u=(u=(u=(u=u.replace(n,"")).replace(new RegExp(k.escapeRegex(i.groupSeparator),"g"),"")).replace(new RegExp("[-"+k.escapeRegex(i.negationSymbol.front)+"]","g"),"")).replace(new RegExp(k.escapeRegex(i.negationSymbol.back)+"$"),""),isNaN(i.placeholder)&&(u=u.replace(new RegExp(k.escapeRegex(i.placeholder),"g"),"")),1<u.length&&1!==u.indexOf(i.radixPoint)&&("0"===l&&(u=u.replace(/^\?/g,"")),u=u.replace(/^0/g,"")),u.charAt(0)===i.radixPoint&&""!==i.radixPoint&&!0!==i.numericInput&&(u="0"+u),""!==u){if(u=u.split(""),(!i.digitsOptional||i.enforceDigitsOnBlur&&"blur"===a.event)&&isFinite(i.digits)){var c=h.inArray(i.radixPoint,u),p=h.inArray(i.radixPoint,o);-1===c&&(u.push(i.radixPoint),c=u.length-1);for(var f=1;f<=i.digits;f++)i.digitsOptional&&(!i.enforceDigitsOnBlur||"blur"!==a.event)||void 0!==u[c+f]&&u[c+f]!==i.placeholder.charAt(0)?-1!==p&&void 0!==o[p+f]&&(u[c+f]=u[c+f]||o[p+f]):u[c+f]=a.placeholder||i.placeholder.charAt(0)}if(!0!==i.autoGroup||""===i.groupSeparator||l===i.radixPoint&&void 0===a.pos&&!a.dopost)u=u.join("");else{var g=u[u.length-1]===i.radixPoint&&a.c===i.radixPoint;u=k(function buildPostMask(e,t){var a="";if(a+="("+t.groupSeparator+"*{"+t.groupSize+"}){*}",""!==t.radixPoint){var i=e.join("").split(t.radixPoint);i[1]&&(a+=t.radixPoint+"*{"+i[1].match(/^\d*\??\d*/)[0].length+"}")}return a}(u,i),{numericInput:!0,jitMasking:!0,definitions:{"*":{validator:"[0-9?]",cardinality:1}}}).format(u.join("")),g&&(u+=i.radixPoint),u.charAt(0)===i.groupSeparator&&u.substr(1)}}if(i.isNegative&&"blur"===a.event&&(i.isNegative="0"!==u),u=r+u,u+=n,i.isNegative&&(u=i.negationSymbol.front+u,u+=i.negationSymbol.back),u=u.split(""),void 0!==l)if(l!==i.radixPoint&&l!==i.negationSymbol.front&&l!==i.negationSymbol.back)-1<(s=h.inArray("?",u))?u[s]=l:s=a.caret||0;else if(l===i.radixPoint||l===i.negationSymbol.front||l===i.negationSymbol.back){var m=h.inArray(l,u);-1!==m&&(s=m)}i.numericInput&&(s=u.length-s-1,u=u.reverse());var d={caret:void 0!==l&&void 0===a.pos||void 0===s?s:s+(i.numericInput?-1:1),buffer:u,refreshFromBuffer:a.dopost||e.join("")!==u.join("")};return d.refreshFromBuffer?d:a},onBeforeWrite:function onBeforeWrite(e,t,a,i){if(e)switch(e.type){case"keydown":return i.postValidation(t,a,{caret:a,dopost:!0},i);case"blur":case"checkval":var n;if(function parseMinMaxOptions(e){void 0===e.parseMinMaxOptions&&(null!==e.min&&(e.min=e.min.toString().replace(new RegExp(k.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.min=e.min.replace(e.radixPoint,".")),e.min=isFinite(e.min)?parseFloat(e.min):NaN,isNaN(e.min)&&(e.min=Number.MIN_VALUE)),null!==e.max&&(e.max=e.max.toString().replace(new RegExp(k.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.max=e.max.replace(e.radixPoint,".")),e.max=isFinite(e.max)?parseFloat(e.max):NaN,isNaN(e.max)&&(e.max=Number.MAX_VALUE)),e.parseMinMaxOptions="done")}(i),null!==i.min||null!==i.max){if(n=i.onUnMask(t.join(""),void 0,h.extend({},i,{unmaskAsNumber:!0})),null!==i.min&&n<i.min)return i.isNegative=i.min<0,i.postValidation(i.min.toString().replace(".",i.radixPoint).split(""),a,{caret:a,dopost:!0,placeholder:"0"},i);if(null!==i.max&&n>i.max)return i.isNegative=i.max<0,i.postValidation(i.max.toString().replace(".",i.radixPoint).split(""),a,{caret:a,dopost:!0,placeholder:"0"},i)}return i.postValidation(t,a,{caret:a,placeholder:"0",event:"blur"},i);case"_checkval":return{caret:a}}},regex:{integerPart:function integerPart(e,t){return t?new RegExp("["+k.escapeRegex(e.negationSymbol.front)+"+]?"):new RegExp("["+k.escapeRegex(e.negationSymbol.front)+"+]?\\d+")},integerNPart:function integerNPart(e){return new RegExp("[\\d"+k.escapeRegex(e.groupSeparator)+k.escapeRegex(e.placeholder.charAt(0))+"]+")}},definitions:{"~":{validator:function validator(e,t,a,i,n,r){var s;if("k"===e||"m"===e){s={insert:[],c:0};for(var o=0,l="k"===e?2:5;o<l;o++)s.insert.push({pos:a+o,c:0});return s.pos=a+l,s}if(!0===(s=i?new RegExp("[0-9"+k.escapeRegex(n.groupSeparator)+"]").test(e):new RegExp("[0-9]").test(e))){if(!0!==n.numericInput&&void 0!==t.validPositions[a]&&"~"===t.validPositions[a].match.def&&!r){var u=t.buffer.join(""),c=(u=(u=u.replace(new RegExp("[-"+k.escapeRegex(n.negationSymbol.front)+"]","g"),"")).replace(new RegExp(k.escapeRegex(n.negationSymbol.back)+"$"),"")).split(n.radixPoint);1<c.length&&(c[1]=c[1].replace(/0/g,n.placeholder.charAt(0))),"0"===c[0]&&(c[0]=c[0].replace(/0/g,n.placeholder.charAt(0))),u=c[0]+n.radixPoint+c[1]||"";var p=t._buffer.join("");for(u===n.radixPoint&&(u=p);null===u.match(k.escapeRegex(p)+"$");)p=p.slice(1);s=void 0===(u=(u=u.replace(p,"")).split(""))[a]?{pos:a,remove:a}:{pos:a}}}else i||e!==n.radixPoint||void 0!==t.validPositions[a-1]||(s={insert:{pos:a,c:0},pos:a+1});return s},cardinality:1},"+":{validator:function validator(e,t,a,i,n){return n.allowMinus&&("-"===e||e===n.negationSymbol.front)},cardinality:1,placeholder:""},"-":{validator:function validator(e,t,a,i,n){return n.allowMinus&&e===n.negationSymbol.back},cardinality:1,placeholder:""},":":{validator:function validator(e,t,a,i,n){var r="["+k.escapeRegex(n.radixPoint)+"]",s=new RegExp(r).test(e);return s&&t.validPositions[a]&&t.validPositions[a].match.placeholder===n.radixPoint&&(s={caret:a+1}),s},cardinality:1,placeholder:function placeholder(e){return e.radixPoint}}},onUnMask:function onUnMask(e,t,a){if(""===t&&!0===a.nullable)return t;var i=e.replace(a.prefix,"");return i=(i=i.replace(a.suffix,"")).replace(new RegExp(k.escapeRegex(a.groupSeparator),"g"),""),""!==a.placeholder.charAt(0)&&(i=i.replace(new RegExp(a.placeholder.charAt(0),"g"),"0")),a.unmaskAsNumber?(""!==a.radixPoint&&-1!==i.indexOf(a.radixPoint)&&(i=i.replace(k.escapeRegex.call(this,a.radixPoint),".")),i=(i=i.replace(new RegExp("^"+k.escapeRegex(a.negationSymbol.front)),"-")).replace(new RegExp(k.escapeRegex(a.negationSymbol.back)+"$"),""),Number(i)):i},isComplete:function isComplete(e,t){var a=(t.numericInput?e.slice().reverse():e).join("");return a=(a=(a=(a=(a=a.replace(new RegExp("^"+k.escapeRegex(t.negationSymbol.front)),"-")).replace(new RegExp(k.escapeRegex(t.negationSymbol.back)+"$"),"")).replace(t.prefix,"")).replace(t.suffix,"")).replace(new RegExp(k.escapeRegex(t.groupSeparator)+"([0-9]{3})","g"),"$1"),","===t.radixPoint&&(a=a.replace(k.escapeRegex(t.radixPoint),".")),isFinite(a)},onBeforeMask:function onBeforeMask(e,t){t.isNegative=void 0;var a=t.radixPoint||",";"number"!=typeof e&&"number"!==t.inputType||""===a||(e=e.toString().replace(".",a));var i=e.split(a),n=i[0].replace(/[^\-0-9]/g,""),r=1<i.length?i[1].replace(/[^0-9]/g,""):"";e=n+(""!==r?a+r:r);var s=0;if(""!==a&&(s=r.length,""!==r)){var o=Math.pow(10,s||1);isFinite(t.digits)&&(s=parseInt(t.digits),o=Math.pow(10,s)),e=e.replace(k.escapeRegex(a),"."),isFinite(e)&&(e=Math.round(parseFloat(e)*o)/o),e=e.toString().replace(".",a)}return 0===t.digits&&-1!==e.indexOf(k.escapeRegex(a))&&(e=e.substring(0,e.indexOf(k.escapeRegex(a)))),function alignDigits(e,t,a){if(0<t){var i=h.inArray(a.radixPoint,e);-1===i&&(e.push(a.radixPoint),i=e.length-1);for(var n=1;n<=t;n++)e[i+n]=e[i+n]||"0"}return e}(e.toString().split(""),s,t).join("")},onKeyDown:function onKeyDown(e,t,a,i){var n=h(this);if(e.ctrlKey)switch(e.keyCode){case k.keyCode.UP:n.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(i.step)),n.trigger("setvalue");break;case k.keyCode.DOWN:n.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(i.step)),n.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,digitsOptional:!0,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowMinus:!1}}),e.exports=k},function(e,t,a){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=a(5),s=a(3);void 0===r.fn.inputmask&&(r.fn.inputmask=function(e,t){var a,i=this[0];if(void 0===t&&(t={}),"string"==typeof e)switch(e){case"unmaskedvalue":return i&&i.inputmask?i.inputmask.unmaskedvalue():r(i).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return i&&i.inputmask?i.inputmask.getemptymask():"";case"hasMaskedValue":return!(!i||!i.inputmask)&&i.inputmask.hasMaskedValue();case"isComplete":return!i||!i.inputmask||i.inputmask.isComplete();case"getmetadata":return i&&i.inputmask?i.inputmask.getmetadata():void 0;case"setvalue":s.setValue(i,t);break;case"option":if("string"!=typeof t)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(t)});if(i&&void 0!==i.inputmask)return i.inputmask.option(t);break;default:return t.alias=e,a=new s(t),this.each(function(){a.mask(this)})}else{if(Array.isArray(e))return t.alias=e,a=new s(t),this.each(function(){a.mask(this)});if("object"==(void 0===e?"undefined":n(e)))return a=new s(e),void 0===e.mask&&void 0===e.alias?this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(e);a.mask(this)}):this.each(function(){a.mask(this)});if(void 0===e)return this.each(function(){(a=new s(t)).mask(this)})}})}])});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJqcXVlcnkuaW5wdXRtYXNrLm1pbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcclxuICogZGlzdC9qcXVlcnkuaW5wdXRtYXNrLm1pblxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vUm9iaW5IZXJib3RzL0lucHV0bWFza1xyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAgLSAyMDE4IFJvYmluIEhlcmJvdHNcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXHJcbiAqIFZlcnNpb246IDUuMC4wLWJldGEuODJcclxuICovXHJcbiFmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihlLHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPXQocmVxdWlyZShcImpxdWVyeVwiKSk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtcImpxdWVyeVwiXSx0KTtlbHNle3ZhciBhPVwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP3QocmVxdWlyZShcImpxdWVyeVwiKSk6dChlLmpRdWVyeSk7Zm9yKHZhciBpIGluIGEpKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHM6ZSlbaV09YVtpXX19KHdpbmRvdyxmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX181X18pe3JldHVybiBmdW5jdGlvbihhKXt2YXIgaT17fTtmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKGUpe2lmKGlbZV0pcmV0dXJuIGlbZV0uZXhwb3J0czt2YXIgdD1pW2VdPXtpOmUsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gYVtlXS5jYWxsKHQuZXhwb3J0cyx0LHQuZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKSx0Lmw9ITAsdC5leHBvcnRzfXJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLm09YSxfX3dlYnBhY2tfcmVxdWlyZV9fLmM9aSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQ9ZnVuY3Rpb24oZSx0LGEpe19fd2VicGFja19yZXF1aXJlX18ubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDphfSl9LF9fd2VicGFja19yZXF1aXJlX18ucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxfX3dlYnBhY2tfcmVxdWlyZV9fLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PV9fd2VicGFja19yZXF1aXJlX18odCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGE9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihfX3dlYnBhY2tfcmVxdWlyZV9fLnIoYSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpZm9yKHZhciBpIGluIHQpX193ZWJwYWNrX3JlcXVpcmVfXy5kKGEsaSxmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0uYmluZChudWxsLGkpKTtyZXR1cm4gYX0sX193ZWJwYWNrX3JlcXVpcmVfXy5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbiBnZXREZWZhdWx0KCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpe3JldHVybiBlfTtyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5kKHQsXCJhXCIsdCksdH0sX193ZWJwYWNrX3JlcXVpcmVfXy5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxfX3dlYnBhY2tfcmVxdWlyZV9fLnA9XCJcIixfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucz0wKX0oW2Z1bmN0aW9uKGUsdCxhKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1hKDEpLG49YSg1KTtpLmRlcGVuZGVuY3lMaWI9PT1uJiZhKDkpLGUuZXhwb3J0cz1pfSxmdW5jdGlvbihlLHQsYSl7XCJ1c2Ugc3RyaWN0XCI7YSgyKSxhKDcpLGEoOCksZS5leHBvcnRzPWEoMyl9LGZ1bmN0aW9uKGUsdCxhKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1hKDMpO2kuZXh0ZW5kRGVmaW5pdGlvbnMoe0E6e3ZhbGlkYXRvcjpcIltBLVphLXpcXHUwNDEwLVxcdTA0NGZcXHUwNDAxXFx1MDQ1MVxceGMwLVxceGZmXFx4YjVdXCIsY2FzaW5nOlwidXBwZXJcIn0sXCImXCI6e3ZhbGlkYXRvcjpcIlswLTlBLVphLXpcXHUwNDEwLVxcdTA0NGZcXHUwNDAxXFx1MDQ1MVxceGMwLVxceGZmXFx4YjVdXCIsY2FzaW5nOlwidXBwZXJcIn0sXCIjXCI6e3ZhbGlkYXRvcjpcIlswLTlBLUZhLWZdXCIsY2FzaW5nOlwidXBwZXJcIn19KSxpLmV4dGVuZEFsaWFzZXMoe2Nzc3VuaXQ6e3JlZ2V4OlwiWystXT9bMC05XStcXFxcLj8oWzAtOV0rKT8ocHh8ZW18cmVtfGV4fCV8aW58Y218bW18cHR8cGMpXCJ9LHVybDp7cmVnZXg6XCIoaHR0cHM/fGZ0cCkvLy4qXCIsYXV0b1VubWFzazohMX0saXA6e21hc2s6XCJpW2lbaV1dLmlbaVtpXV0uaVtpW2ldXS5pW2lbaV1dXCIsZGVmaW5pdGlvbnM6e2k6e3ZhbGlkYXRvcjpmdW5jdGlvbiB2YWxpZGF0b3IoZSx0LGEsaSxuKXtyZXR1cm4gZT0tMTxhLTEmJlwiLlwiIT09dC5idWZmZXJbYS0xXT8oZT10LmJ1ZmZlclthLTFdK2UsLTE8YS0yJiZcIi5cIiE9PXQuYnVmZmVyW2EtMl0/dC5idWZmZXJbYS0yXStlOlwiMFwiK2UpOlwiMDBcIitlLG5ldyBSZWdFeHAoXCIyNVswLTVdfDJbMC00XVswLTldfFswMV1bMC05XVswLTldXCIpLnRlc3QoZSl9fX0sb25Vbk1hc2s6ZnVuY3Rpb24gb25Vbk1hc2soZSx0LGEpe3JldHVybiBlfSxpbnB1dG1vZGU6XCJudW1lcmljXCJ9LGVtYWlsOnttYXNrOlwiKnsxLDY0fVsuKnsxLDY0fV1bLip7MSw2NH1dWy4qezEsNjN9XUAtezEsNjN9Li17MSw2M31bLi17MSw2M31dWy4tezEsNjN9XVwiLGdyZWVkeTohMSxjYXNpbmc6XCJsb3dlclwiLG9uQmVmb3JlUGFzdGU6ZnVuY3Rpb24gb25CZWZvcmVQYXN0ZShlLHQpe3JldHVybihlPWUudG9Mb3dlckNhc2UoKSkucmVwbGFjZShcIm1haWx0bzpcIixcIlwiKX0sZGVmaW5pdGlvbnM6e1wiKlwiOnt2YWxpZGF0b3I6XCJbMC05XFx1ZmYxMS1cXHVmZjE5QS1aYS16XFx1MDQxMC1cXHUwNDRmXFx1MDQwMVxcdTA0NTFcXHhjMC1cXHhmZlxceGI1ISMkJSYnKisvPT9eX2B7fH1+LV1cIn0sXCItXCI6e3ZhbGlkYXRvcjpcIlswLTlBLVphLXotXVwifX0sb25Vbk1hc2s6ZnVuY3Rpb24gb25Vbk1hc2soZSx0LGEpe3JldHVybiBlfSxpbnB1dG1vZGU6XCJlbWFpbFwifSxtYWM6e21hc2s6XCIjIzojIzojIzojIzojIzojI1wifSx2aW46e21hc2s6XCJWezEzfTl7NH1cIixkZWZpbml0aW9uczp7Vjp7dmFsaWRhdG9yOlwiW0EtSEotTlBSLVphLWhqLW5wci16XFxcXGRdXCIsY2FzaW5nOlwidXBwZXJcIn19LGNsZWFySW5jb21wbGV0ZTohMCxhdXRvVW5tYXNrOiEwfX0pLGUuZXhwb3J0cz1pfSxmdW5jdGlvbihlLHQsYSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIFQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX07ZS5leHBvcnRzPWZ1bmN0aW9uKEwsTSxWKXt2YXIgUz1NLmRvY3VtZW50LGU9bmF2aWdhdG9yLnVzZXJBZ2VudCx4PTA8ZS5pbmRleE9mKFwiTVNJRSBcIil8fDA8ZS5pbmRleE9mKFwiVHJpZGVudC9cIiksUD1pc0lucHV0RXZlbnRTdXBwb3J0ZWQoXCJ0b3VjaHN0YXJ0XCIpLF89L2llbW9iaWxlL2kudGVzdChlKSxFPS9pcGhvbmUvaS50ZXN0KGUpJiYhXztmdW5jdGlvbiBJbnB1dG1hc2soZSx0LGEpe2lmKCEodGhpcyBpbnN0YW5jZW9mIElucHV0bWFzaykpcmV0dXJuIG5ldyBJbnB1dG1hc2soZSx0LGEpO3RoaXMuZWw9Vix0aGlzLmV2ZW50cz17fSx0aGlzLm1hc2tzZXQ9ViwhKHRoaXMucmVmcmVzaFZhbHVlPSExKSE9PWEmJihMLmlzUGxhaW5PYmplY3QoZSk/dD1lOih0PXR8fHt9LGUmJih0LmFsaWFzPWUpKSx0aGlzLm9wdHM9TC5leHRlbmQoITAse30sdGhpcy5kZWZhdWx0cyx0KSx0aGlzLm5vTWFza3NDYWNoZT10JiZ0LmRlZmluaXRpb25zIT09Vix0aGlzLnVzZXJPcHRpb25zPXR8fHt9LHRoaXMuaXNSVEw9dGhpcy5vcHRzLm51bWVyaWNJbnB1dCxyZXNvbHZlQWxpYXModGhpcy5vcHRzLmFsaWFzLHQsdGhpcy5vcHRzKSl9ZnVuY3Rpb24gcmVzb2x2ZUFsaWFzKGUsdCxhKXt2YXIgaT1JbnB1dG1hc2sucHJvdG90eXBlLmFsaWFzZXNbZV07cmV0dXJuIGk/KGkuYWxpYXMmJnJlc29sdmVBbGlhcyhpLmFsaWFzLFYsYSksTC5leHRlbmQoITAsYSxpKSxMLmV4dGVuZCghMCxhLHQpLCEwKToobnVsbD09PWEubWFzayYmKGEubWFzaz1lKSwhMSl9ZnVuY3Rpb24gZ2VuZXJhdGVNYXNrU2V0KGEsbyl7ZnVuY3Rpb24gZ2VuZXJhdGVNYXNrKGUsdCxhKXt2YXIgaT0hMTtpZihudWxsIT09ZSYmXCJcIiE9PWV8fChpPW51bGwhPT1hLnJlZ2V4LGU9aT8oZT1hLnJlZ2V4KS5yZXBsYWNlKC9eKFxcXikoLiopKFxcJCkkLyxcIiQyXCIpOihpPSEwLFwiLipcIikpLDE9PT1lLmxlbmd0aCYmITE9PT1hLmdyZWVkeSYmMCE9PWEucmVwZWF0JiYoYS5wbGFjZWhvbGRlcj1cIlwiKSwwPGEucmVwZWF0fHxcIipcIj09PWEucmVwZWF0fHxcIitcIj09PWEucmVwZWF0KXt2YXIgbj1cIipcIj09PWEucmVwZWF0PzA6XCIrXCI9PT1hLnJlcGVhdD8xOmEucmVwZWF0O2U9YS5ncm91cG1hcmtlclswXStlK2EuZ3JvdXBtYXJrZXJbMV0rYS5xdWFudGlmaWVybWFya2VyWzBdK24rXCIsXCIrYS5yZXBlYXQrYS5xdWFudGlmaWVybWFya2VyWzFdfXZhciByLHM9aT9cInJlZ2V4X1wiK2EucmVnZXg6YS5udW1lcmljSW5wdXQ/ZS5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKTplO3JldHVybiBJbnB1dG1hc2sucHJvdG90eXBlLm1hc2tzQ2FjaGVbc109PT1WfHwhMD09PW8/KHI9e21hc2s6ZSxtYXNrVG9rZW46SW5wdXRtYXNrLnByb3RvdHlwZS5hbmFseXNlTWFzayhlLGksYSksdmFsaWRQb3NpdGlvbnM6e30sX2J1ZmZlcjpWLGJ1ZmZlcjpWLHRlc3RzOnt9LGV4Y2x1ZGVzOnt9LG1ldGFkYXRhOnQsbWFza0xlbmd0aDpWLGppdE9mZnNldDp7fX0sITAhPT1vJiYoSW5wdXRtYXNrLnByb3RvdHlwZS5tYXNrc0NhY2hlW3NdPXIscj1MLmV4dGVuZCghMCx7fSxJbnB1dG1hc2sucHJvdG90eXBlLm1hc2tzQ2FjaGVbc10pKSk6cj1MLmV4dGVuZCghMCx7fSxJbnB1dG1hc2sucHJvdG90eXBlLm1hc2tzQ2FjaGVbc10pLHJ9aWYoTC5pc0Z1bmN0aW9uKGEubWFzaykmJihhLm1hc2s9YS5tYXNrKGEpKSxMLmlzQXJyYXkoYS5tYXNrKSl7aWYoMTxhLm1hc2subGVuZ3RoKXtpZihudWxsPT09YS5rZWVwU3RhdGljKXthLmtlZXBTdGF0aWM9XCJhdXRvXCI7Zm9yKHZhciBlPTA7ZTxhLm1hc2subGVuZ3RoO2UrKylpZihhLm1hc2tbZV0uY2hhckF0KDApIT09YS5tYXNrWzBdLmNoYXJBdCgwKSl7YS5rZWVwU3RhdGljPSEwO2JyZWFrfX12YXIgaT1hLmdyb3VwbWFya2VyWzBdO3JldHVybiBMLmVhY2goYS5pc1JUTD9hLm1hc2sucmV2ZXJzZSgpOmEubWFzayxmdW5jdGlvbihlLHQpezE8aS5sZW5ndGgmJihpKz1hLmdyb3VwbWFya2VyWzFdK2EuYWx0ZXJuYXRvcm1hcmtlcithLmdyb3VwbWFya2VyWzBdKSx0Lm1hc2s9PT1WfHxMLmlzRnVuY3Rpb24odC5tYXNrKT9pKz10OmkrPXQubWFza30pLGdlbmVyYXRlTWFzayhpKz1hLmdyb3VwbWFya2VyWzFdLGEubWFzayxhKX1hLm1hc2s9YS5tYXNrLnBvcCgpfXJldHVybiBhLm1hc2smJmEubWFzay5tYXNrIT09ViYmIUwuaXNGdW5jdGlvbihhLm1hc2subWFzayk/Z2VuZXJhdGVNYXNrKGEubWFzay5tYXNrLGEubWFzayxhKTpnZW5lcmF0ZU1hc2soYS5tYXNrLGEubWFzayxhKX1mdW5jdGlvbiBpc0lucHV0RXZlbnRTdXBwb3J0ZWQoZSl7dmFyIHQ9Uy5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksYT1cIm9uXCIrZSxpPWEgaW4gdDtyZXR1cm4gaXx8KHQuc2V0QXR0cmlidXRlKGEsXCJyZXR1cm47XCIpLGk9XCJmdW5jdGlvblwiPT10eXBlb2YgdFthXSksdD1udWxsLGl9ZnVuY3Rpb24gbWFza1Njb3BlKGUsdCxGKXt0PXR8fHRoaXMubWFza3NldCxGPUZ8fHRoaXMub3B0czt2YXIgZCxuLG0sZixyLHU9dGhpcyxsPXRoaXMuZWwsaz10aGlzLmlzUlRMLHM9ITEsYz0hMSxoPSExLGk9ITE7ZnVuY3Rpb24gZ2V0TWFza1RlbXBsYXRlKGUsdCxhLGksbil7dmFyIHI9Ri5ncmVlZHk7biYmKEYuZ3JlZWR5PSExKSx0PXR8fDA7dmFyIHMsbyxsLHU9W10sYz0wO2dldExhc3RWYWxpZFBvc2l0aW9uKCk7ZG97aWYoITA9PT1lJiZnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbY10pbD1uJiYhMD09PWdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tjXS5tYXRjaC5vcHRpb25hbGl0eSYmZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2MrMV09PT1WJiYoITA9PT1nZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbY10uZ2VuZXJhdGVkSW5wdXR8fGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tjXS5pbnB1dD09Ri5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyJiYwPGMpP2RldGVybWluZVRlc3RUZW1wbGF0ZShjLGdldFRlc3RzKGMscyxjLTEpKTpnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbY10sbz1sLm1hdGNoLHM9bC5sb2NhdG9yLnNsaWNlKCksdS5wdXNoKCEwPT09YT9sLmlucHV0OiExPT09YT9vLm5hdGl2ZURlZjpnZXRQbGFjZWhvbGRlcihjLG8pKTtlbHNle2w9Z2V0VGVzdFRlbXBsYXRlKGMscyxjLTEpLG89bC5tYXRjaCxzPWwubG9jYXRvci5zbGljZSgpO3ZhciBwPSEwIT09aSYmKCExIT09Ri5qaXRNYXNraW5nP0Yuaml0TWFza2luZzpvLmppdCk7KCExPT09cHx8cD09PVZ8fFwibnVtYmVyXCI9PXR5cGVvZiBwJiZpc0Zpbml0ZShwKSYmYzxwKSYmdS5wdXNoKCExPT09YT9vLm5hdGl2ZURlZjpnZXRQbGFjZWhvbGRlcihjLG8pKX1cImF1dG9cIj09PUYua2VlcFN0YXRpYyYmby5uZXdCbG9ja01hcmtlciYmbnVsbCE9PW8uZm4mJihGLmtlZXBTdGF0aWM9Yy0xKSxjKyt9d2hpbGUoKG09PT1WfHxjPG0pJiYobnVsbCE9PW8uZm58fFwiXCIhPT1vLmRlZil8fGM8dCk7cmV0dXJuXCJcIj09PXVbdS5sZW5ndGgtMV0mJnUucG9wKCksITE9PT1hJiZnZXRNYXNrU2V0KCkubWFza0xlbmd0aCE9PVZ8fChnZXRNYXNrU2V0KCkubWFza0xlbmd0aD1jLTEpLEYuZ3JlZWR5PXIsdX1mdW5jdGlvbiBnZXRNYXNrU2V0KCl7cmV0dXJuIHR9ZnVuY3Rpb24gcmVzZXRNYXNrU2V0KGUpe3ZhciB0PWdldE1hc2tTZXQoKTt0LmJ1ZmZlcj1WLCEwIT09ZSYmKHQudmFsaWRQb3NpdGlvbnM9e30sdC5wPTApfWZ1bmN0aW9uIGdldExhc3RWYWxpZFBvc2l0aW9uKGUsdCxhKXt2YXIgaT0tMSxuPS0xLHI9YXx8Z2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zO2Zvcih2YXIgcyBpbiBlPT09ViYmKGU9LTEpLHIpe3ZhciBvPXBhcnNlSW50KHMpO3Jbb10mJih0fHwhMCE9PXJbb10uZ2VuZXJhdGVkSW5wdXQpJiYobzw9ZSYmKGk9byksZTw9byYmKG49bykpfXJldHVybi0xPT09aXx8aT09ZT9uOi0xPT1uP2k6ZS1pPG4tZT9pOm59ZnVuY3Rpb24gZ2V0RGVjaXNpb25UYWtlcihlKXt2YXIgdD1lLmxvY2F0b3JbZS5hbHRlcm5hdGlvbl07cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQmJjA8dC5sZW5ndGgmJih0PXQuc3BsaXQoXCIsXCIpWzBdKSx0IT09Vj90LnRvU3RyaW5nKCk6XCJcIn1mdW5jdGlvbiBnZXRMb2NhdG9yKGUsdCl7dmFyIGE9KGUuYWx0ZXJuYXRpb24hPVY/ZS5tbG9jW2dldERlY2lzaW9uVGFrZXIoZSldOmUubG9jYXRvcikuam9pbihcIlwiKTtpZihcIlwiIT09YSlmb3IoO2EubGVuZ3RoPHQ7KWErPVwiMFwiO3JldHVybiBhfWZ1bmN0aW9uIGRldGVybWluZVRlc3RUZW1wbGF0ZShlLHQpe2Zvcih2YXIgYSxpLG4scj1nZXRUZXN0KGU9MDxlP2UtMTowKSxzPWdldExvY2F0b3Iociksbz0wO288dC5sZW5ndGg7bysrKXt2YXIgbD10W29dO2E9Z2V0TG9jYXRvcihsLHMubGVuZ3RoKTt2YXIgdT1NYXRoLmFicyhhLXMpOyhpPT09Vnx8XCJcIiE9PWEmJnU8aXx8biYmbi5tYXRjaC5vcHRpb25hbGl0eSYmXCJtYXN0ZXJcIj09PW4ubWF0Y2gubmV3QmxvY2tNYXJrZXImJighbC5tYXRjaC5vcHRpb25hbGl0eXx8IWwubWF0Y2gubmV3QmxvY2tNYXJrZXIpfHxuJiZuLm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciYmIWwubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyKSYmKGk9dSxuPWwpfXJldHVybiBufWZ1bmN0aW9uIGdldFRlc3RUZW1wbGF0ZShlLHQsYSl7cmV0dXJuIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tlXXx8ZGV0ZXJtaW5lVGVzdFRlbXBsYXRlKGUsZ2V0VGVzdHMoZSx0P3Quc2xpY2UoKTp0LGEpKX1mdW5jdGlvbiBnZXRUZXN0KGUsdCl7cmV0dXJuIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tlXT9nZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbZV06KHR8fGdldFRlc3RzKGUpKVswXX1mdW5jdGlvbiBwb3NpdGlvbkNhbk1hdGNoRGVmaW5pdGlvbihlLHQpe2Zvcih2YXIgYT0hMSxpPWdldFRlc3RzKGUpLG49MDtuPGkubGVuZ3RoO24rKylpZihpW25dLm1hdGNoJiZpW25dLm1hdGNoLmRlZj09PXQpe2E9ITA7YnJlYWt9cmV0dXJuIGF9ZnVuY3Rpb24gZ2V0VGVzdHMoRCxlLHQpe3ZhciBCLGE9Z2V0TWFza1NldCgpLm1hc2tUb2tlbixPPWU/dDowLGk9ZT9lLnNsaWNlKCk6WzBdLEk9W10saj0hMSxOPWU/ZS5qb2luKFwiXCIpOlwiXCI7ZnVuY3Rpb24gcmVzb2x2ZVRlc3RGcm9tVG9rZW4oQSxDLGUsdCl7ZnVuY3Rpb24gaGFuZGxlTWF0Y2goZSx0LGEpe2Z1bmN0aW9uIGlzRmlyc3RNYXRjaChhLGkpe3ZhciBuPTA9PT1MLmluQXJyYXkoYSxpLm1hdGNoZXMpO3JldHVybiBufHxMLmVhY2goaS5tYXRjaGVzLGZ1bmN0aW9uKGUsdCl7aWYoITA9PT10LmlzUXVhbnRpZmllcj9uPWlzRmlyc3RNYXRjaChhLGkubWF0Y2hlc1tlLTFdKTp0Lmhhc093blByb3BlcnR5KFwibWF0Y2hlc1wiKSYmKG49aXNGaXJzdE1hdGNoKGEsdCkpLG4pcmV0dXJuITF9KSxufWZ1bmN0aW9uIHJlc29sdmVOZHhJbml0aWFsaXplcihlLG4scil7dmFyIHMsbztpZigoZ2V0TWFza1NldCgpLnRlc3RzW2VdfHxnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbZV0pJiZMLmVhY2goZ2V0TWFza1NldCgpLnRlc3RzW2VdfHxbZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2VdXSxmdW5jdGlvbihlLHQpe2lmKHQubWxvY1tuXSlyZXR1cm4gcz10LCExO3ZhciBhPXIhPT1WP3I6dC5hbHRlcm5hdGlvbixpPXQubG9jYXRvclthXSE9PVY/dC5sb2NhdG9yW2FdLnRvU3RyaW5nKCkuaW5kZXhPZihuKTotMTsobz09PVZ8fGk8bykmJi0xIT09aSYmKHM9dCxvPWkpfSkscyl7dmFyIHQ9cy5sb2NhdG9yW3MuYWx0ZXJuYXRpb25dLGE9cy5tbG9jW25dfHxzLm1sb2NbdF18fHMubG9jYXRvcjtyZXR1cm4gYS5zbGljZSgociE9PVY/cjpzLmFsdGVybmF0aW9uKSsxKX1yZXR1cm4gciE9PVY/cmVzb2x2ZU5keEluaXRpYWxpemVyKGUsbik6Vn1mdW5jdGlvbiBpc1N1YnNldE9mKGUsdCl7ZnVuY3Rpb24gZXhwYW5kKGUpe2Zvcih2YXIgdCxhLGk9W10sbj0wLHI9ZS5sZW5ndGg7bjxyO24rKylpZihcIi1cIj09PWUuY2hhckF0KG4pKWZvcihhPWUuY2hhckNvZGVBdChuKzEpOysrdDxhOylpLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSh0KSk7ZWxzZSB0PWUuY2hhckNvZGVBdChuKSxpLnB1c2goZS5jaGFyQXQobikpO3JldHVybiBpLmpvaW4oXCJcIil9cmV0dXJuIEYucmVnZXgmJm51bGwhPT1lLm1hdGNoLmZuJiZudWxsIT09dC5tYXRjaC5mbj8tMSE9PWV4cGFuZCh0Lm1hdGNoLmRlZi5yZXBsYWNlKC9bXFxbXFxdXS9nLFwiXCIpKS5pbmRleE9mKGV4cGFuZChlLm1hdGNoLmRlZi5yZXBsYWNlKC9bXFxbXFxdXS9nLFwiXCIpKSk6ZS5tYXRjaC5kZWY9PT10Lm1hdGNoLm5hdGl2ZURlZn1mdW5jdGlvbiBzZXRNZXJnZUxvY2F0b3JzKGUsdCl7aWYodD09PVZ8fGUuYWx0ZXJuYXRpb249PT10LmFsdGVybmF0aW9uJiYtMT09PWUubG9jYXRvcltlLmFsdGVybmF0aW9uXS50b1N0cmluZygpLmluZGV4T2YodC5sb2NhdG9yW3QuYWx0ZXJuYXRpb25dKSl7ZS5tbG9jPWUubWxvY3x8e307dmFyIGE9ZS5sb2NhdG9yW2UuYWx0ZXJuYXRpb25dO2lmKGEhPT1WKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9YS5zcGxpdChcIixcIilbMF0pLGUubWxvY1thXT09PVYmJihlLm1sb2NbYV09ZS5sb2NhdG9yLnNsaWNlKCkpLHQhPT1WKXtmb3IodmFyIGkgaW4gdC5tbG9jKVwic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1pLnNwbGl0KFwiLFwiKVswXSksZS5tbG9jW2ldPT09ViYmKGUubWxvY1tpXT10Lm1sb2NbaV0pO2UubG9jYXRvcltlLmFsdGVybmF0aW9uXT1PYmplY3Qua2V5cyhlLm1sb2MpLmpvaW4oXCIsXCIpfXJldHVybiEwfWUuYWx0ZXJuYXRpb249Vn1yZXR1cm4hMX1pZig1MDA8TyYmYSE9PVYpdGhyb3dcIklucHV0bWFzazogVGhlcmUgaXMgcHJvYmFibHkgYW4gZXJyb3IgaW4geW91ciBtYXNrIGRlZmluaXRpb24gb3IgaW4gdGhlIGNvZGUuIENyZWF0ZSBhbiBpc3N1ZSBvbiBnaXRodWIgd2l0aCBhbiBleGFtcGxlIG9mIHRoZSBtYXNrIHlvdSBhcmUgdXNpbmcuIFwiK2dldE1hc2tTZXQoKS5tYXNrO2lmKE89PT1EJiZlLm1hdGNoZXM9PT1WKXJldHVybiBJLnB1c2goe21hdGNoOmUsbG9jYXRvcjp0LnJldmVyc2UoKSxjZDpOLG1sb2M6e319KSwhMDtpZihlLm1hdGNoZXMhPT1WKXtpZihlLmlzR3JvdXAmJmEhPT1lKXtpZihlPWhhbmRsZU1hdGNoKEEubWF0Y2hlc1tMLmluQXJyYXkoZSxBLm1hdGNoZXMpKzFdLHQsYSkpcmV0dXJuITB9ZWxzZSBpZihlLmlzT3B0aW9uYWwpe3ZhciBpPWU7aWYoZT1yZXNvbHZlVGVzdEZyb21Ub2tlbihlLEMsdCxhKSl7aWYoTC5lYWNoKEksZnVuY3Rpb24oZSx0KXt0Lm1hdGNoLm9wdGlvbmFsaXR5PSEwfSksQj1JW0kubGVuZ3RoLTFdLm1hdGNoLGEhPT1WfHwhaXNGaXJzdE1hdGNoKEIsaSkpcmV0dXJuITA7aj0hMCxPPUR9fWVsc2UgaWYoZS5pc0FsdGVybmF0b3Ipe3ZhciBuLHI9ZSxzPVtdLG89SS5zbGljZSgpLGw9dC5sZW5ndGgsdT0wPEMubGVuZ3RoP0Muc2hpZnQoKTotMTtpZigtMT09PXV8fFwic3RyaW5nXCI9PXR5cGVvZiB1KXt2YXIgYyxwPU8sZj1DLnNsaWNlKCksZz1bXTtpZihcInN0cmluZ1wiPT10eXBlb2YgdSlnPXUuc3BsaXQoXCIsXCIpO2Vsc2UgZm9yKGM9MDtjPHIubWF0Y2hlcy5sZW5ndGg7YysrKWcucHVzaChjLnRvU3RyaW5nKCkpO2lmKGdldE1hc2tTZXQoKS5leGNsdWRlc1tEXSl7Zm9yKHZhciBtPWcuc2xpY2UoKSxkPTAsaz1nZXRNYXNrU2V0KCkuZXhjbHVkZXNbRF0ubGVuZ3RoO2Q8aztkKyspZy5zcGxpY2UoZy5pbmRleE9mKGdldE1hc2tTZXQoKS5leGNsdWRlc1tEXVtkXS50b1N0cmluZygpKSwxKTswPT09Zy5sZW5ndGgmJihnZXRNYXNrU2V0KCkuZXhjbHVkZXNbRF09VixnPW0pfSghMD09PUYua2VlcFN0YXRpY3x8aXNGaW5pdGUocGFyc2VJbnQoRi5rZWVwU3RhdGljKSkmJnA+PUYua2VlcFN0YXRpYykmJihnPWcuc2xpY2UoMCwxKSk7Zm9yKHZhciBoPSExLHY9MDt2PGcubGVuZ3RoO3YrKyl7Yz1wYXJzZUludChnW3ZdKSxJPVtdLEM9XCJzdHJpbmdcIj09dHlwZW9mIHUmJnJlc29sdmVOZHhJbml0aWFsaXplcihPLGMsbCl8fGYuc2xpY2UoKSxyLm1hdGNoZXNbY10mJmhhbmRsZU1hdGNoKHIubWF0Y2hlc1tjXSxbY10uY29uY2F0KHQpLGEpP2U9ITA6MD09PXYmJihoPSEwKSxuPUkuc2xpY2UoKSxPPXAsST1bXTtmb3IodmFyIHk9MDt5PG4ubGVuZ3RoO3krKyl7dmFyIGI9blt5XSxNPSExO2IubWF0Y2guaml0PWIubWF0Y2guaml0fHxoLGIuYWx0ZXJuYXRpb249Yi5hbHRlcm5hdGlvbnx8bCxzZXRNZXJnZUxvY2F0b3JzKGIpO2Zvcih2YXIgUz0wO1M8cy5sZW5ndGg7UysrKXt2YXIgeD1zW1NdO2lmKFwic3RyaW5nXCIhPXR5cGVvZiB1fHxiLmFsdGVybmF0aW9uIT09ViYmLTEhPT1MLmluQXJyYXkoYi5sb2NhdG9yW2IuYWx0ZXJuYXRpb25dLnRvU3RyaW5nKCksZykpe2lmKGIubWF0Y2gubmF0aXZlRGVmPT09eC5tYXRjaC5uYXRpdmVEZWYpe009ITAsc2V0TWVyZ2VMb2NhdG9ycyh4LGIpO2JyZWFrfWlmKGlzU3Vic2V0T2YoYix4KSl7c2V0TWVyZ2VMb2NhdG9ycyhiLHgpJiYoTT0hMCxzLnNwbGljZShzLmluZGV4T2YoeCksMCxiKSk7YnJlYWt9aWYoaXNTdWJzZXRPZih4LGIpKXtzZXRNZXJnZUxvY2F0b3JzKHgsYik7YnJlYWt9aWYodz14LHZvaWQgMCwhKCEoKFQ9VD1iKS5sb2NhdG9yLnNsaWNlKFQuYWx0ZXJuYXRpb24pLmpvaW4oXCJcIik9PXcubG9jYXRvci5zbGljZSh3LmFsdGVybmF0aW9uKS5qb2luKFwiXCIpKXx8bnVsbCE9PVQubWF0Y2guZm58fG51bGw9PT13Lm1hdGNoLmZuKSYmdy5tYXRjaC5mbi50ZXN0KFQubWF0Y2guZGVmLGdldE1hc2tTZXQoKSxELCExLEYsITEpKXtzZXRNZXJnZUxvY2F0b3JzKGIseCkmJihNPSEwLHMuc3BsaWNlKHMuaW5kZXhPZih4KSwwLGIpKTticmVha319fU18fHMucHVzaChiKX19ST1vLmNvbmNhdChzKSxPPUQsaj0wPEkubGVuZ3RoLGU9MDxzLmxlbmd0aCxDPWYuc2xpY2UoKX1lbHNlIGU9aGFuZGxlTWF0Y2goci5tYXRjaGVzW3VdfHxBLm1hdGNoZXNbdV0sW3VdLmNvbmNhdCh0KSxhKTtpZihlKXJldHVybiEwfWVsc2UgaWYoZS5pc1F1YW50aWZpZXImJmEhPT1BLm1hdGNoZXNbTC5pbkFycmF5KGUsQS5tYXRjaGVzKS0xXSlmb3IodmFyIFA9ZSxfPTA8Qy5sZW5ndGg/Qy5zaGlmdCgpOjA7XzwoaXNOYU4oUC5xdWFudGlmaWVyLm1heCk/XysxOlAucXVhbnRpZmllci5tYXgpJiZPPD1EO18rKyl7dmFyIEU9QS5tYXRjaGVzW0wuaW5BcnJheShQLEEubWF0Y2hlcyktMV07aWYoZT1oYW5kbGVNYXRjaChFLFtfXS5jb25jYXQodCksRSkpe2lmKChCPUlbSS5sZW5ndGgtMV0ubWF0Y2gpLm9wdGlvbmFsUXVhbnRpZmllcj1fPj1QLnF1YW50aWZpZXIubWluLEIuaml0PShffHwxKSpFLm1hdGNoZXMuaW5kZXhPZihCKT49UC5xdWFudGlmaWVyLmppdCxCLm9wdGlvbmFsUXVhbnRpZmllciYmaXNGaXJzdE1hdGNoKEIsRSkpe2o9ITAsTz1EO2JyZWFrfXJldHVybiBCLmppdCYmKGdldE1hc2tTZXQoKS5qaXRPZmZzZXRbRF09RS5tYXRjaGVzLmluZGV4T2YoQikpLCEwfX1lbHNlIGlmKGU9cmVzb2x2ZVRlc3RGcm9tVG9rZW4oZSxDLHQsYSkpcmV0dXJuITB9ZWxzZSBPKys7dmFyIFQsd31mb3IodmFyIGE9MDxDLmxlbmd0aD9DLnNoaWZ0KCk6MDthPEEubWF0Y2hlcy5sZW5ndGg7YSsrKWlmKCEwIT09QS5tYXRjaGVzW2FdLmlzUXVhbnRpZmllcil7dmFyIGk9aGFuZGxlTWF0Y2goQS5tYXRjaGVzW2FdLFthXS5jb25jYXQoZSksdCk7aWYoaSYmTz09PUQpcmV0dXJuIGk7aWYoRDxPKWJyZWFrfX1pZigtMTxEKXtpZihlPT09Vil7Zm9yKHZhciBuLHI9RC0xOyhuPWdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tyXXx8Z2V0TWFza1NldCgpLnRlc3RzW3JdKT09PVYmJi0xPHI7KXItLTtuIT09ViYmLTE8ciYmKGk9ZnVuY3Rpb24gbWVyZ2VMb2NhdG9ycyhlLHQpe3ZhciBpPVtdO3JldHVybiBMLmlzQXJyYXkodCl8fCh0PVt0XSksMDx0Lmxlbmd0aCYmKHRbMF0uYWx0ZXJuYXRpb249PT1WPzA9PT0oaT1kZXRlcm1pbmVUZXN0VGVtcGxhdGUoZSx0LnNsaWNlKCkpLmxvY2F0b3Iuc2xpY2UoKSkubGVuZ3RoJiYoaT10WzBdLmxvY2F0b3Iuc2xpY2UoKSk6TC5lYWNoKHQsZnVuY3Rpb24oZSx0KXtpZihcIlwiIT09dC5kZWYpaWYoMD09PWkubGVuZ3RoKWk9dC5sb2NhdG9yLnNsaWNlKCk7ZWxzZSBmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKyl0LmxvY2F0b3JbYV0mJi0xPT09aVthXS50b1N0cmluZygpLmluZGV4T2YodC5sb2NhdG9yW2FdKSYmKGlbYV0rPVwiLFwiK3QubG9jYXRvclthXSl9KSksaX0ocixuKSxOPWkuam9pbihcIlwiKSxPPXIpfWlmKGdldE1hc2tTZXQoKS50ZXN0c1tEXSYmZ2V0TWFza1NldCgpLnRlc3RzW0RdWzBdLmNkPT09TilyZXR1cm4gZ2V0TWFza1NldCgpLnRlc3RzW0RdO2Zvcih2YXIgcz1pLnNoaWZ0KCk7czxhLmxlbmd0aDtzKyspe3ZhciBvPXJlc29sdmVUZXN0RnJvbVRva2VuKGFbc10saSxbc10pO2lmKG8mJk89PT1EfHxEPE8pYnJlYWt9fXJldHVybigwPT09SS5sZW5ndGh8fGopJiZJLnB1c2goe21hdGNoOntmbjpudWxsLG9wdGlvbmFsaXR5OiExLGNhc2luZzpudWxsLGRlZjpcIlwiLHBsYWNlaG9sZGVyOlwiXCJ9LGxvY2F0b3I6W10sbWxvYzp7fSxjZDpOfSksZSE9PVYmJmdldE1hc2tTZXQoKS50ZXN0c1tEXT9MLmV4dGVuZCghMCxbXSxJKTooZ2V0TWFza1NldCgpLnRlc3RzW0RdPUwuZXh0ZW5kKCEwLFtdLEkpLGdldE1hc2tTZXQoKS50ZXN0c1tEXSl9ZnVuY3Rpb24gZ2V0QnVmZmVyVGVtcGxhdGUoKXtyZXR1cm4gZ2V0TWFza1NldCgpLl9idWZmZXI9PT1WJiYoZ2V0TWFza1NldCgpLl9idWZmZXI9Z2V0TWFza1RlbXBsYXRlKCExLDEpLGdldE1hc2tTZXQoKS5idWZmZXI9PT1WJiYoZ2V0TWFza1NldCgpLmJ1ZmZlcj1nZXRNYXNrU2V0KCkuX2J1ZmZlci5zbGljZSgpKSksZ2V0TWFza1NldCgpLl9idWZmZXJ9ZnVuY3Rpb24gZ2V0QnVmZmVyKGUpe3JldHVybiBnZXRNYXNrU2V0KCkuYnVmZmVyIT09ViYmITAhPT1lfHwoZ2V0TWFza1NldCgpLmJ1ZmZlcj1nZXRNYXNrVGVtcGxhdGUoITAsZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSwhMCksZ2V0TWFza1NldCgpLl9idWZmZXI9PT1WJiYoZ2V0TWFza1NldCgpLl9idWZmZXI9Z2V0TWFza1NldCgpLmJ1ZmZlci5zbGljZSgpKSksZ2V0TWFza1NldCgpLmJ1ZmZlcn1mdW5jdGlvbiByZWZyZXNoRnJvbUJ1ZmZlcihlLHQsYSl7dmFyIGksbjtpZighMD09PWUpcmVzZXRNYXNrU2V0KCksZT0wLHQ9YS5sZW5ndGg7ZWxzZSBmb3IoaT1lO2k8dDtpKyspZGVsZXRlIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tpXTtmb3IoaT1uPWU7aTx0O2krKylpZihyZXNldE1hc2tTZXQoITApLGFbaV0hPT1GLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIpe3ZhciByPWlzVmFsaWQobixhW2ldLCEwLCEwKTshMSE9PXImJihyZXNldE1hc2tTZXQoITApLG49ci5jYXJldCE9PVY/ci5jYXJldDpyLnBvcysxKX19ZnVuY3Rpb24gY2hlY2tBbHRlcm5hdGlvbk1hdGNoKGUsdCxhKXtmb3IodmFyIGksbj1GLmdyZWVkeT90OnQuc2xpY2UoMCwxKSxyPSExLHM9YSE9PVY/YS5zcGxpdChcIixcIik6W10sbz0wO288cy5sZW5ndGg7bysrKS0xIT09KGk9ZS5pbmRleE9mKHNbb10pKSYmZS5zcGxpY2UoaSwxKTtmb3IodmFyIGw9MDtsPGUubGVuZ3RoO2wrKylpZigtMSE9PUwuaW5BcnJheShlW2xdLG4pKXtyPSEwO2JyZWFrfXJldHVybiByfWZ1bmN0aW9uIGFsdGVybmF0ZShlLHQsYSxpLG4pe3ZhciByLHMsbyxsLHUsYyxwLGY9TC5leHRlbmQoITAse30sZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zKSxnPSExLG09biE9PVY/bjpnZXRMYXN0VmFsaWRQb3NpdGlvbigpO2lmKC0xPT09bSYmbj09PVYpbD1nZXRUZXN0KHI9MCkscz1sLmFsdGVybmF0aW9uO2Vsc2UgZm9yKDswPD1tO20tLSlpZigobz1nZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbV0pJiZvLmFsdGVybmF0aW9uIT09Vil7aWYobCYmbC5sb2NhdG9yW28uYWx0ZXJuYXRpb25dIT09by5sb2NhdG9yW28uYWx0ZXJuYXRpb25dKWJyZWFrO3I9bSxzPWdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tyXS5hbHRlcm5hdGlvbixsPW99aWYocyE9PVYpe3A9cGFyc2VJbnQociksZ2V0TWFza1NldCgpLmV4Y2x1ZGVzW3BdPWdldE1hc2tTZXQoKS5leGNsdWRlc1twXXx8W10sITAhPT1lJiZnZXRNYXNrU2V0KCkuZXhjbHVkZXNbcF0ucHVzaChnZXREZWNpc2lvblRha2VyKGwpKTt2YXIgZD1bXSxrPTA7Zm9yKHU9cDt1PGdldExhc3RWYWxpZFBvc2l0aW9uKFYsITApKzE7dSsrKShjPWdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1t1XSkmJiEwIT09Yy5nZW5lcmF0ZWRJbnB1dD9kLnB1c2goYy5pbnB1dCk6dTxlJiZrKyssZGVsZXRlIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1t1XTtmb3IoO2dldE1hc2tTZXQoKS5leGNsdWRlc1twXSYmZ2V0TWFza1NldCgpLmV4Y2x1ZGVzW3BdLmxlbmd0aDwxMDspe3ZhciBoPS0xKmssdj1kLnNsaWNlKCk7Zm9yKGdldE1hc2tTZXQoKS50ZXN0c1twXT1WLHJlc2V0TWFza1NldCghMCksZz0hMDswPHYubGVuZ3RoOyl7dmFyIHk9di5zaGlmdCgpO2lmKCEoZz1pc1ZhbGlkKGdldExhc3RWYWxpZFBvc2l0aW9uKFYsITApKzEseSwhMSxpLCEwKSkpYnJlYWt9aWYoZyYmdCE9PVYpe3ZhciBiPWdldExhc3RWYWxpZFBvc2l0aW9uKGUpKzE7Zm9yKHU9cDt1PGdldExhc3RWYWxpZFBvc2l0aW9uKCkrMTt1KyspKChjPWdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1t1XSk9PT1WfHxudWxsPT1jLm1hdGNoLmZuKSYmdTxlK2gmJmgrKztnPWlzVmFsaWQoYjwoZSs9aCk/YjplLHQsYSxpLCEwKX1pZihnKWJyZWFrO2lmKHJlc2V0TWFza1NldCgpLGw9Z2V0VGVzdChwKSxnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnM9TC5leHRlbmQoITAse30sZiksIWdldE1hc2tTZXQoKS5leGNsdWRlc1twXSl7Zz1hbHRlcm5hdGUoZSx0LGEsaSxwLTEpO2JyZWFrfXZhciBNPWdldERlY2lzaW9uVGFrZXIobCk7aWYoLTEhPT1nZXRNYXNrU2V0KCkuZXhjbHVkZXNbcF0uaW5kZXhPZihNKSl7Zz1hbHRlcm5hdGUoZSx0LGEsaSxwLTEpO2JyZWFrfWZvcihnZXRNYXNrU2V0KCkuZXhjbHVkZXNbcF0ucHVzaChNKSx1PXA7dTxnZXRMYXN0VmFsaWRQb3NpdGlvbihWLCEwKSsxO3UrKylkZWxldGUgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3VdfX1yZXR1cm4gZ2V0TWFza1NldCgpLmV4Y2x1ZGVzW3BdPVYsZ31mdW5jdGlvbiBpc1ZhbGlkKHUsZSx0LGMsYSxpKXtmdW5jdGlvbiBpc1NlbGVjdGlvbihlKXtyZXR1cm4gaz8xPGUuYmVnaW4tZS5lbmR8fGUuYmVnaW4tZS5lbmQ9PTE6MTxlLmVuZC1lLmJlZ2lufHxlLmVuZC1lLmJlZ2luPT0xfXQ9ITA9PT10O3ZhciBuPXU7ZnVuY3Rpb24gX2lzVmFsaWQocixzLG8pe3ZhciBsPSExO3JldHVybiBMLmVhY2goZ2V0VGVzdHMociksZnVuY3Rpb24oZSx0KXt2YXIgYT10Lm1hdGNoO2lmKGdldEJ1ZmZlcighMCksITEhPT0obD1udWxsIT1hLmZuP2EuZm4udGVzdChzLGdldE1hc2tTZXQoKSxyLG8sRixpc1NlbGVjdGlvbih1KSk6KHM9PT1hLmRlZnx8cz09PUYuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlcikmJlwiXCIhPT1hLmRlZiYme2M6Z2V0UGxhY2Vob2xkZXIocixhLCEwKXx8YS5kZWYscG9zOnJ9KSl7dmFyIGk9bC5jIT09Vj9sLmM6cyxuPXI7cmV0dXJuIGk9aT09PUYuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlciYmbnVsbD09PWEuZm4/Z2V0UGxhY2Vob2xkZXIocixhLCEwKXx8YS5kZWY6aSxsLnJlbW92ZSE9PVYmJihMLmlzQXJyYXkobC5yZW1vdmUpfHwobC5yZW1vdmU9W2wucmVtb3ZlXSksTC5lYWNoKGwucmVtb3ZlLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC1lfSksZnVuY3Rpb24oZSx0KXtyZXZhbGlkYXRlTWFzayh7YmVnaW46dCxlbmQ6dCsxfSl9KSksbC5pbnNlcnQhPT1WJiYoTC5pc0FycmF5KGwuaW5zZXJ0KXx8KGwuaW5zZXJ0PVtsLmluc2VydF0pLEwuZWFjaChsLmluc2VydC5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUtdH0pLGZ1bmN0aW9uKGUsdCl7aXNWYWxpZCh0LnBvcyx0LmMsITAsYyl9KSksITAhPT1sJiZsLnBvcyE9PVYmJmwucG9zIT09ciYmKG49bC5wb3MpLCEwIT09bCYmbC5wb3M9PT1WJiZsLmM9PT1WfHxyZXZhbGlkYXRlTWFzayh1LEwuZXh0ZW5kKHt9LHQse2lucHV0OmZ1bmN0aW9uIGNhc2luZyhlLHQsYSl7c3dpdGNoKEYuY2FzaW5nfHx0LmNhc2luZyl7Y2FzZVwidXBwZXJcIjplPWUudG9VcHBlckNhc2UoKTticmVhaztjYXNlXCJsb3dlclwiOmU9ZS50b0xvd2VyQ2FzZSgpO2JyZWFrO2Nhc2VcInRpdGxlXCI6dmFyIGk9Z2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2EtMV07ZT0wPT09YXx8aSYmaS5pbnB1dD09PVN0cmluZy5mcm9tQ2hhckNvZGUoSW5wdXRtYXNrLmtleUNvZGUuU1BBQ0UpP2UudG9VcHBlckNhc2UoKTplLnRvTG93ZXJDYXNlKCk7YnJlYWs7ZGVmYXVsdDppZihMLmlzRnVuY3Rpb24oRi5jYXNpbmcpKXt2YXIgbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO24ucHVzaChnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMpLGU9Ri5jYXNpbmcuYXBwbHkodGhpcyxuKX19cmV0dXJuIGV9KGksYSxuKX0pLGMsbil8fChsPSExKSwhMX19KSxsfXUuYmVnaW4hPT1WJiYobj1rP3UuZW5kOnUuYmVnaW4pO3ZhciByPSEwLHM9TC5leHRlbmQoITAse30sZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zKTtpZihMLmlzRnVuY3Rpb24oRi5wcmVWYWxpZGF0aW9uKSYmIXQmJiEwIT09YyYmITAhPT1pJiYocj1GLnByZVZhbGlkYXRpb24oZ2V0QnVmZmVyKCksbixlLGlzU2VsZWN0aW9uKHUpLEYsZ2V0TWFza1NldCgpKSksITA9PT1yKXtpZih0cmFja2JhY2tQb3NpdGlvbnMoVixuLCEwKSwobT09PVZ8fG48bSkmJihyPV9pc1ZhbGlkKG4sZSx0KSwoIXR8fCEwPT09YykmJiExPT09ciYmITAhPT1pKSl7dmFyIG89Z2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW25dO2lmKCFvfHxudWxsIT09by5tYXRjaC5mbnx8by5tYXRjaC5kZWYhPT1lJiZlIT09Ri5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyKXtpZigoRi5pbnNlcnRNb2RlfHxnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbc2Vla05leHQobildPT09VikmJighaXNNYXNrKG4sITApfHxnZXRNYXNrU2V0KCkuaml0T2Zmc2V0W25dKSlpZihnZXRNYXNrU2V0KCkuaml0T2Zmc2V0W25dJiZnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbc2Vla05leHQobildPT09Vikocj1pc1ZhbGlkKG4rZ2V0TWFza1NldCgpLmppdE9mZnNldFtuXSxlLHQpKS5jYXJldD1uO2Vsc2UgZm9yKHZhciBsPW4rMSxwPXNlZWtOZXh0KG4pO2w8PXA7bCsrKWlmKCExIT09KHI9X2lzVmFsaWQobCxlLHQpKSl7cj10cmFja2JhY2tQb3NpdGlvbnMobixyLnBvcyE9PVY/ci5wb3M6bCl8fHIsbj1sO2JyZWFrfX1lbHNlIHI9e2NhcmV0OnNlZWtOZXh0KG4pfX0hMSE9PXJ8fCExPT09Ri5rZWVwU3RhdGljfHxudWxsIT1GLnJlZ2V4JiYhaXNDb21wbGV0ZShnZXRCdWZmZXIoKSl8fHR8fCEwPT09YXx8KHI9YWx0ZXJuYXRlKG4sZSx0LGMpKSwhMD09PXImJihyPXtwb3M6bn0pfWlmKEwuaXNGdW5jdGlvbihGLnBvc3RWYWxpZGF0aW9uKSYmITEhPT1yJiYhdCYmITAhPT1jJiYhMCE9PWkpe3ZhciBmPUYucG9zdFZhbGlkYXRpb24oZ2V0QnVmZmVyKCEwKSx1LmJlZ2luIT09Vj9rP3UuZW5kOnUuYmVnaW46dSxyLEYpO2lmKGYhPT1WKXtpZihmLnJlZnJlc2hGcm9tQnVmZmVyJiZmLmJ1ZmZlcil7dmFyIGc9Zi5yZWZyZXNoRnJvbUJ1ZmZlcjtyZWZyZXNoRnJvbUJ1ZmZlcighMD09PWc/ZzpnLnN0YXJ0LGcuZW5kLGYuYnVmZmVyKX1yPSEwPT09Zj9yOmZ9fXJldHVybiByJiZyLnBvcz09PVYmJihyLnBvcz1uKSwhMSE9PXImJiEwIT09aXx8KHJlc2V0TWFza1NldCghMCksZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zPUwuZXh0ZW5kKCEwLHt9LHMpKSxyfWZ1bmN0aW9uIHRyYWNrYmFja1Bvc2l0aW9ucyhlLHQsYSl7dmFyIGk7aWYoZT09PVYpZm9yKGU9dC0xOzA8ZSYmIWdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tlXTtlLS0pO2Zvcih2YXIgbj1lO248dDtuKyspaWYoZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW25dPT09ViYmIWlzTWFzayhuLCEwKSl7dmFyIHI9MD09bj9nZXRUZXN0KG4pOmdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tuLTFdO2lmKHIpe3ZhciBzPWdldFRlc3RzKG4pLnNsaWNlKCk7XCJcIj09PXNbcy5sZW5ndGgtMV0ubWF0Y2guZGVmJiZzLnBvcCgpO3ZhciBvPWRldGVybWluZVRlc3RUZW1wbGF0ZShuLHMpO2lmKChvPUwuZXh0ZW5kKHt9LG8se2lucHV0OmdldFBsYWNlaG9sZGVyKG4sby5tYXRjaCwhMCl8fG8ubWF0Y2guZGVmfSkpLmdlbmVyYXRlZElucHV0PSEwLHJldmFsaWRhdGVNYXNrKG4sbywhMCksITAhPT1hKXt2YXIgbD1nZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbdF0uaW5wdXQ7Z2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3RdPVYsaT1pc1ZhbGlkKHQsbCwhMCwhMCl9fX1yZXR1cm4gaX1mdW5jdGlvbiByZXZhbGlkYXRlTWFzayhlLHQsYSxpKXtmdW5jdGlvbiBJc0VuY2xvc2VkU3RhdGljKGUsdCxhKXt2YXIgaT10W2VdO2lmKGk9PT1WfHwobnVsbCE9PWkubWF0Y2guZm58fCEwPT09aS5tYXRjaC5vcHRpb25hbGl0eSkmJmkuaW5wdXQhPT1GLnJhZGl4UG9pbnQpcmV0dXJuITE7dmFyIG49YS5iZWdpbjw9ZS0xP3RbZS0xXSYmbnVsbD09PXRbZS0xXS5tYXRjaC5mbiYmdFtlLTFdOnRbZS0xXSxyPWEuZW5kPmUrMT90W2UrMV0mJm51bGw9PT10W2UrMV0ubWF0Y2guZm4mJnRbZSsxXTp0W2UrMV07cmV0dXJuIG4mJnJ9dmFyIG49ZS5iZWdpbiE9PVY/ZS5iZWdpbjplLHI9ZS5lbmQhPT1WP2UuZW5kOmU7aWYoZS5iZWdpbj5lLmVuZCYmKG49ZS5lbmQscj1lLmJlZ2luKSxpPWkhPT1WP2k6bixuIT09cnx8Ri5pbnNlcnRNb2RlJiZnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV0hPT1WJiZhPT09Vil7dmFyIHM9TC5leHRlbmQoITAse30sZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zKSxvPWdldExhc3RWYWxpZFBvc2l0aW9uKFYsITApO2ZvcihnZXRNYXNrU2V0KCkucD1uLGY9bztuPD1mO2YtLSlnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbZl0mJlwiK1wiPT09Z2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ZdLm1hdGNoLm5hdGl2ZURlZiYmKEYuaXNOZWdhdGl2ZT0hMSksZGVsZXRlIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tmXTt2YXIgbD0hMCx1PWksYz0oZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zLCExKSxwPXUsZj11O2Zvcih0JiYoZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldPUwuZXh0ZW5kKCEwLHt9LHQpLHArKyx1KyssbjxyJiZmKyspO2Y8PW87ZisrKXt2YXIgZz1zW2ZdO2lmKGchPT1WJiYocjw9Znx8bjw9ZiYmITAhPT1nLmdlbmVyYXRlZElucHV0JiZJc0VuY2xvc2VkU3RhdGljKGYscyx7YmVnaW46bixlbmQ6cn0pKSl7Zm9yKDtcIlwiIT09Z2V0VGVzdChwKS5tYXRjaC5kZWY7KXtpZighMT09PWMmJnNbcF0mJnNbcF0ubWF0Y2gubmF0aXZlRGVmPT09Zy5tYXRjaC5uYXRpdmVEZWYpZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3BdPUwuZXh0ZW5kKCEwLHt9LHNbcF0pLGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twXS5pbnB1dD1nLmlucHV0LHRyYWNrYmFja1Bvc2l0aW9ucyhWLHAsITApLHU9cCsxLGw9ITA7ZWxzZSBpZihGLnNoaWZ0UG9zaXRpb25zJiZwb3NpdGlvbkNhbk1hdGNoRGVmaW5pdGlvbihwLGcubWF0Y2guZGVmKSl7dmFyIG09aXNWYWxpZChwLGcuaW5wdXQsITAsITApO2w9ITEhPT1tLHU9bS5jYXJldHx8bS5pbnNlcnQ/Z2V0TGFzdFZhbGlkUG9zaXRpb24oKTpwKzEsYz0hMH1lbHNlIGw9ITA9PT1nLmdlbmVyYXRlZElucHV0fHxnLmlucHV0PT09Ri5yYWRpeFBvaW50JiYhMD09PUYubnVtZXJpY0lucHV0O2lmKGwpYnJlYWs7aWYoIWwmJnI8cCYmaXNNYXNrKHAsITApJiYobnVsbCE9PWcubWF0Y2guZm58fHA+Z2V0TWFza1NldCgpLm1hc2tMZW5ndGgpKWJyZWFrO3ArK31cIlwiPT1nZXRUZXN0KHApLm1hdGNoLmRlZiYmKGw9ITEpLHA9dX1pZighbClicmVha31pZighbClyZXR1cm4gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zPUwuZXh0ZW5kKCEwLHt9LHMpLHJlc2V0TWFza1NldCghMCksITF9ZWxzZSB0JiYoZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldPUwuZXh0ZW5kKCEwLHt9LHQpKTtyZXR1cm4gcmVzZXRNYXNrU2V0KCEwKSwhMH1mdW5jdGlvbiBpc01hc2soZSx0KXt2YXIgYT1nZXRUZXN0VGVtcGxhdGUoZSkubWF0Y2g7aWYoXCJcIj09PWEuZGVmJiYoYT1nZXRUZXN0KGUpLm1hdGNoKSxudWxsIT1hLmZuKXJldHVybiBhLmZuO2lmKCEwIT09dCYmLTE8ZSl7dmFyIGk9Z2V0VGVzdHMoZSk7cmV0dXJuIGkubGVuZ3RoPjErKFwiXCI9PT1pW2kubGVuZ3RoLTFdLm1hdGNoLmRlZj8xOjApfXJldHVybiExfWZ1bmN0aW9uIHNlZWtOZXh0KGUsdCl7Zm9yKHZhciBhPWUrMTtcIlwiIT09Z2V0VGVzdChhKS5tYXRjaC5kZWYmJighMD09PXQmJighMCE9PWdldFRlc3QoYSkubWF0Y2gubmV3QmxvY2tNYXJrZXJ8fCFpc01hc2soYSkpfHwhMCE9PXQmJiFpc01hc2soYSkpOylhKys7cmV0dXJuIGF9ZnVuY3Rpb24gc2Vla1ByZXZpb3VzKGUsdCl7dmFyIGEsaT1lO2lmKGk8PTApcmV0dXJuIDA7Zm9yKDswPC0taSYmKCEwPT09dCYmITAhPT1nZXRUZXN0KGkpLm1hdGNoLm5ld0Jsb2NrTWFya2VyfHwhMCE9PXQmJiFpc01hc2soaSkmJigoYT1nZXRUZXN0cyhpKSkubGVuZ3RoPDJ8fDI9PT1hLmxlbmd0aCYmXCJcIj09PWFbMV0ubWF0Y2guZGVmKSk7KTtyZXR1cm4gaX1mdW5jdGlvbiB3cml0ZUJ1ZmZlcihlLHQsYSxpLG4pe2lmKGkmJkwuaXNGdW5jdGlvbihGLm9uQmVmb3JlV3JpdGUpKXt2YXIgcj1GLm9uQmVmb3JlV3JpdGUuY2FsbCh1LGksdCxhLEYpO2lmKHIpe2lmKHIucmVmcmVzaEZyb21CdWZmZXIpe3ZhciBzPXIucmVmcmVzaEZyb21CdWZmZXI7cmVmcmVzaEZyb21CdWZmZXIoITA9PT1zP3M6cy5zdGFydCxzLmVuZCxyLmJ1ZmZlcnx8dCksdD1nZXRCdWZmZXIoITApfWEhPT1WJiYoYT1yLmNhcmV0IT09Vj9yLmNhcmV0OmEpfX1pZihlIT09ViYmKGUuaW5wdXRtYXNrLl92YWx1ZVNldCh0LmpvaW4oXCJcIikpLGE9PT1WfHxpIT09ViYmXCJibHVyXCI9PT1pLnR5cGU/cmVuZGVyQ29sb3JNYXNrKGUsYSwwPT09dC5sZW5ndGgpOmNhcmV0KGUsYSksITA9PT1uKSl7dmFyIG89TChlKSxsPWUuaW5wdXRtYXNrLl92YWx1ZUdldCgpO2M9ITAsby50cmlnZ2VyKFwiaW5wdXRcIiksc2V0VGltZW91dChmdW5jdGlvbigpe2w9PT1nZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIik/by50cmlnZ2VyKFwiY2xlYXJlZFwiKTohMD09PWlzQ29tcGxldGUodCkmJm8udHJpZ2dlcihcImNvbXBsZXRlXCIpfSwwKX19ZnVuY3Rpb24gZ2V0UGxhY2Vob2xkZXIoZSx0LGEpe2lmKCh0PXR8fGdldFRlc3QoZSkubWF0Y2gpLnBsYWNlaG9sZGVyIT09Vnx8ITA9PT1hKXJldHVybiBMLmlzRnVuY3Rpb24odC5wbGFjZWhvbGRlcik/dC5wbGFjZWhvbGRlcihGKTp0LnBsYWNlaG9sZGVyO2lmKG51bGwhPT10LmZuKXJldHVybiBGLnBsYWNlaG9sZGVyLmNoYXJBdChlJUYucGxhY2Vob2xkZXIubGVuZ3RoKTtpZigtMTxlJiZnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbZV09PT1WKXt2YXIgaSxuPWdldFRlc3RzKGUpLHI9W107aWYobi5sZW5ndGg+MSsoXCJcIj09PW5bbi5sZW5ndGgtMV0ubWF0Y2guZGVmPzE6MCkpZm9yKHZhciBzPTA7czxuLmxlbmd0aDtzKyspaWYoITAhPT1uW3NdLm1hdGNoLm9wdGlvbmFsaXR5JiYhMCE9PW5bc10ubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyJiYobnVsbD09PW5bc10ubWF0Y2guZm58fGk9PT1WfHwhMSE9PW5bc10ubWF0Y2guZm4udGVzdChpLm1hdGNoLmRlZixnZXRNYXNrU2V0KCksZSwhMCxGKSkmJihyLnB1c2gobltzXSksbnVsbD09PW5bc10ubWF0Y2guZm4mJihpPW5bc10pLDE8ci5sZW5ndGgmJi9bMC05YS1iQS1aXS8udGVzdChyWzBdLm1hdGNoLmRlZikpKXJldHVybiBGLnBsYWNlaG9sZGVyLmNoYXJBdChlJUYucGxhY2Vob2xkZXIubGVuZ3RoKX1yZXR1cm4gdC5kZWZ9ZnVuY3Rpb24gSGFuZGxlTmF0aXZlUGxhY2Vob2xkZXIoZSx0KXtpZih4JiZlLmlucHV0bWFzay5fdmFsdWVHZXQoKSE9PXQpe3ZhciBhPWdldEJ1ZmZlcigpLnNsaWNlKCksaT1lLmlucHV0bWFzay5fdmFsdWVHZXQoKTtpIT09dCYmKC0xPT09Z2V0TGFzdFZhbGlkUG9zaXRpb24oKSYmaT09PWdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKT9hPVtdOmNsZWFyT3B0aW9uYWxUYWlsKGEpLHdyaXRlQnVmZmVyKGUsYSkpfWVsc2UgZS5wbGFjZWhvbGRlciE9PXQmJihlLnBsYWNlaG9sZGVyPXQsXCJcIj09PWUucGxhY2Vob2xkZXImJmUucmVtb3ZlQXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIikpfXZhciBhLG89e29uOmZ1bmN0aW9uIG9uKGUsdCxyKXt2YXIgYT1mdW5jdGlvbiBldihlKXt2YXIgdD10aGlzO2lmKHQuaW5wdXRtYXNrPT09ViYmXCJGT1JNXCIhPT10aGlzLm5vZGVOYW1lKXt2YXIgYT1MLmRhdGEodCxcIl9pbnB1dG1hc2tfb3B0c1wiKTthP25ldyBJbnB1dG1hc2soYSkubWFzayh0KTpvLm9mZih0KX1lbHNle2lmKFwic2V0dmFsdWVcIj09PWUudHlwZXx8XCJGT1JNXCI9PT10aGlzLm5vZGVOYW1lfHwhKHQuZGlzYWJsZWR8fHQucmVhZE9ubHkmJiEoXCJrZXlkb3duXCI9PT1lLnR5cGUmJmUuY3RybEtleSYmNjc9PT1lLmtleUNvZGV8fCExPT09Ri50YWJUaHJvdWdoJiZlLmtleUNvZGU9PT1JbnB1dG1hc2sua2V5Q29kZS5UQUIpKSl7c3dpdGNoKGUudHlwZSl7Y2FzZVwiaW5wdXRcIjppZighMD09PWMpcmV0dXJuIGM9ITEsZS5wcmV2ZW50RGVmYXVsdCgpO2lmKFApe3ZhciBpPWFyZ3VtZW50cztyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3IuYXBwbHkodCxpKSxjYXJldCh0LHQuaW5wdXRtYXNrLmNhcmV0UG9zLFYsITApfSwwKSwhMX1icmVhaztjYXNlXCJrZXlkb3duXCI6Yz1zPSExO2JyZWFrO2Nhc2VcImtleXByZXNzXCI6aWYoITA9PT1zKXJldHVybiBlLnByZXZlbnREZWZhdWx0KCk7cz0hMDticmVhaztjYXNlXCJjbGlja1wiOmlmKF98fEUpe3ZhciBpPWFyZ3VtZW50cztyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3IuYXBwbHkodCxpKX0sMCksITF9fXZhciBuPXIuYXBwbHkodCxhcmd1bWVudHMpO3JldHVybiExPT09biYmKGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpKSxufWUucHJldmVudERlZmF1bHQoKX19O2UuaW5wdXRtYXNrLmV2ZW50c1t0XT1lLmlucHV0bWFzay5ldmVudHNbdF18fFtdLGUuaW5wdXRtYXNrLmV2ZW50c1t0XS5wdXNoKGEpLC0xIT09TC5pbkFycmF5KHQsW1wic3VibWl0XCIsXCJyZXNldFwiXSk/bnVsbCE9PWUuZm9ybSYmTChlLmZvcm0pLm9uKHQsYSk6TChlKS5vbih0LGEpfSxvZmY6ZnVuY3Rpb24gb2ZmKGksZSl7dmFyIHQ7aS5pbnB1dG1hc2smJmkuaW5wdXRtYXNrLmV2ZW50cyYmKGU/KHQ9W10pW2VdPWkuaW5wdXRtYXNrLmV2ZW50c1tlXTp0PWkuaW5wdXRtYXNrLmV2ZW50cyxMLmVhY2godCxmdW5jdGlvbihlLHQpe2Zvcig7MDx0Lmxlbmd0aDspe3ZhciBhPXQucG9wKCk7LTEhPT1MLmluQXJyYXkoZSxbXCJzdWJtaXRcIixcInJlc2V0XCJdKT9udWxsIT09aS5mb3JtJiZMKGkuZm9ybSkub2ZmKGUsYSk6TChpKS5vZmYoZSxhKX1kZWxldGUgaS5pbnB1dG1hc2suZXZlbnRzW2VdfSkpfX0sdj17a2V5ZG93bkV2ZW50OmZ1bmN0aW9uIGtleWRvd25FdmVudChlKXt2YXIgdD10aGlzLGE9TCh0KSxpPWUua2V5Q29kZSxuPWNhcmV0KHQpO2lmKGk9PT1JbnB1dG1hc2sua2V5Q29kZS5CQUNLU1BBQ0V8fGk9PT1JbnB1dG1hc2sua2V5Q29kZS5ERUxFVEV8fEUmJmk9PT1JbnB1dG1hc2sua2V5Q29kZS5CQUNLU1BBQ0VfU0FGQVJJfHxlLmN0cmxLZXkmJmk9PT1JbnB1dG1hc2sua2V5Q29kZS5YJiYhaXNJbnB1dEV2ZW50U3VwcG9ydGVkKFwiY3V0XCIpKWUucHJldmVudERlZmF1bHQoKSxoYW5kbGVSZW1vdmUoMCxpLG4pLHdyaXRlQnVmZmVyKHQsZ2V0QnVmZmVyKCEwKSxnZXRNYXNrU2V0KCkucCxlLHQuaW5wdXRtYXNrLl92YWx1ZUdldCgpIT09Z2V0QnVmZmVyKCkuam9pbihcIlwiKSk7ZWxzZSBpZihpPT09SW5wdXRtYXNrLmtleUNvZGUuRU5EfHxpPT09SW5wdXRtYXNrLmtleUNvZGUuUEFHRV9ET1dOKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIHI9c2Vla05leHQoZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSk7Y2FyZXQodCxlLnNoaWZ0S2V5P24uYmVnaW46cixyLCEwKX1lbHNlIGk9PT1JbnB1dG1hc2sua2V5Q29kZS5IT01FJiYhZS5zaGlmdEtleXx8aT09PUlucHV0bWFzay5rZXlDb2RlLlBBR0VfVVA/KGUucHJldmVudERlZmF1bHQoKSxjYXJldCh0LDAsZS5zaGlmdEtleT9uLmJlZ2luOjAsITApKTooRi51bmRvT25Fc2NhcGUmJmk9PT1JbnB1dG1hc2sua2V5Q29kZS5FU0NBUEV8fDkwPT09aSYmZS5jdHJsS2V5KSYmITAhPT1lLmFsdEtleT8oY2hlY2tWYWwodCwhMCwhMSxkLnNwbGl0KFwiXCIpKSxhLnRyaWdnZXIoXCJjbGlja1wiKSk6aSE9PUlucHV0bWFzay5rZXlDb2RlLklOU0VSVHx8ZS5zaGlmdEtleXx8ZS5jdHJsS2V5PyEwPT09Ri50YWJUaHJvdWdoJiZpPT09SW5wdXRtYXNrLmtleUNvZGUuVEFCJiYoITA9PT1lLnNoaWZ0S2V5PyhudWxsPT09Z2V0VGVzdChuLmJlZ2luKS5tYXRjaC5mbiYmKG4uYmVnaW49c2Vla05leHQobi5iZWdpbikpLG4uZW5kPXNlZWtQcmV2aW91cyhuLmJlZ2luLCEwKSxuLmJlZ2luPXNlZWtQcmV2aW91cyhuLmVuZCwhMCkpOihuLmJlZ2luPXNlZWtOZXh0KG4uYmVnaW4sITApLG4uZW5kPXNlZWtOZXh0KG4uYmVnaW4sITApLG4uZW5kPGdldE1hc2tTZXQoKS5tYXNrTGVuZ3RoJiZuLmVuZC0tKSxuLmJlZ2luPGdldE1hc2tTZXQoKS5tYXNrTGVuZ3RoJiYoZS5wcmV2ZW50RGVmYXVsdCgpLGNhcmV0KHQsbi5iZWdpbixuLmVuZCkpKTooRi5pbnNlcnRNb2RlPSFGLmluc2VydE1vZGUsdC5zZXRBdHRyaWJ1dGUoXCJpbS1pbnNlcnRcIixGLmluc2VydE1vZGUpKTtGLm9uS2V5RG93bi5jYWxsKHRoaXMsZSxnZXRCdWZmZXIoKSxjYXJldCh0KS5iZWdpbixGKSxoPS0xIT09TC5pbkFycmF5KGksRi5pZ25vcmFibGVzKX0sa2V5cHJlc3NFdmVudDpmdW5jdGlvbiBrZXlwcmVzc0V2ZW50KGUsdCxhLGksbil7dmFyIHI9dGhpcyxzPUwociksbz1lLndoaWNofHxlLmNoYXJDb2RlfHxlLmtleUNvZGU7aWYoISghMD09PXR8fGUuY3RybEtleSYmZS5hbHRLZXkpJiYoZS5jdHJsS2V5fHxlLm1ldGFLZXl8fGgpKXJldHVybiBvPT09SW5wdXRtYXNrLmtleUNvZGUuRU5URVImJmQhPT1nZXRCdWZmZXIoKS5qb2luKFwiXCIpJiYoZD1nZXRCdWZmZXIoKS5qb2luKFwiXCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtzLnRyaWdnZXIoXCJjaGFuZ2VcIil9LDApKSwhMDtpZihvKXs0Nj09PW8mJiExPT09ZS5zaGlmdEtleSYmXCJcIiE9PUYucmFkaXhQb2ludCYmKG89Ri5yYWRpeFBvaW50LmNoYXJDb2RlQXQoMCkpO3ZhciBsLHU9dD97YmVnaW46bixlbmQ6bn06Y2FyZXQociksYz1TdHJpbmcuZnJvbUNoYXJDb2RlKG8pLHA9MDtpZihGLl9yYWRpeERhbmNlJiZGLm51bWVyaWNJbnB1dCl7dmFyIGY9Z2V0QnVmZmVyKCkuaW5kZXhPZihGLnJhZGl4UG9pbnQuY2hhckF0KDApKSsxO3UuYmVnaW48PWYmJihvPT09Ri5yYWRpeFBvaW50LmNoYXJDb2RlQXQoMCkmJihwPTEpLHUuYmVnaW4tPTEsdS5lbmQtPTEpfWdldE1hc2tTZXQoKS53cml0ZU91dEJ1ZmZlcj0hMDt2YXIgZz1pc1ZhbGlkKHUsYyxpKTtpZighMSE9PWcmJihyZXNldE1hc2tTZXQoITApLGw9Zy5jYXJldCE9PVY/Zy5jYXJldDpzZWVrTmV4dChnLnBvcy5iZWdpbj9nLnBvcy5iZWdpbjpnLnBvcyksZ2V0TWFza1NldCgpLnA9bCksbD0oRi5udW1lcmljSW5wdXQmJmcuY2FyZXQ9PT1WP3NlZWtQcmV2aW91cyhsKTpsKStwLCExIT09YSYmKHNldFRpbWVvdXQoZnVuY3Rpb24oKXtGLm9uS2V5VmFsaWRhdGlvbi5jYWxsKHIsbyxnLEYpfSwwKSxnZXRNYXNrU2V0KCkud3JpdGVPdXRCdWZmZXImJiExIT09Zykpe3ZhciBtPWdldEJ1ZmZlcigpO3dyaXRlQnVmZmVyKHIsbSxsLGUsITAhPT10KX1pZihlLnByZXZlbnREZWZhdWx0KCksdClyZXR1cm4hMSE9PWcmJihnLmZvcndhcmRQb3NpdGlvbj1sKSxnfX0scGFzdGVFdmVudDpmdW5jdGlvbiBwYXN0ZUV2ZW50KGUpe3ZhciB0LGE9dGhpcyxpPWUub3JpZ2luYWxFdmVudHx8ZSxuPShMKGEpLGEuaW5wdXRtYXNrLl92YWx1ZUdldCghMCkpLHI9Y2FyZXQoYSk7ayYmKHQ9ci5lbmQsci5lbmQ9ci5iZWdpbixyLmJlZ2luPXQpO3ZhciBzPW4uc3Vic3RyKDAsci5iZWdpbiksbz1uLnN1YnN0cihyLmVuZCxuLmxlbmd0aCk7aWYocz09PShrP2dldEJ1ZmZlclRlbXBsYXRlKCkucmV2ZXJzZSgpOmdldEJ1ZmZlclRlbXBsYXRlKCkpLnNsaWNlKDAsci5iZWdpbikuam9pbihcIlwiKSYmKHM9XCJcIiksbz09PShrP2dldEJ1ZmZlclRlbXBsYXRlKCkucmV2ZXJzZSgpOmdldEJ1ZmZlclRlbXBsYXRlKCkpLnNsaWNlKHIuZW5kKS5qb2luKFwiXCIpJiYobz1cIlwiKSxNLmNsaXBib2FyZERhdGEmJk0uY2xpcGJvYXJkRGF0YS5nZXREYXRhKW49cytNLmNsaXBib2FyZERhdGEuZ2V0RGF0YShcIlRleHRcIikrbztlbHNle2lmKCFpLmNsaXBib2FyZERhdGF8fCFpLmNsaXBib2FyZERhdGEuZ2V0RGF0YSlyZXR1cm4hMDtuPXMraS5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpK299dmFyIGw9bjtpZihMLmlzRnVuY3Rpb24oRi5vbkJlZm9yZVBhc3RlKSl7aWYoITE9PT0obD1GLm9uQmVmb3JlUGFzdGUuY2FsbCh1LG4sRikpKXJldHVybiBlLnByZXZlbnREZWZhdWx0KCk7bHx8KGw9bil9cmV0dXJuIGNoZWNrVmFsKGEsITEsITEsbC50b1N0cmluZygpLnNwbGl0KFwiXCIpKSx3cml0ZUJ1ZmZlcihhLGdldEJ1ZmZlcigpLHNlZWtOZXh0KGdldExhc3RWYWxpZFBvc2l0aW9uKCkpLGUsZCE9PWdldEJ1ZmZlcigpLmpvaW4oXCJcIikpLGUucHJldmVudERlZmF1bHQoKX0saW5wdXRGYWxsQmFja0V2ZW50OmZ1bmN0aW9uIGlucHV0RmFsbEJhY2tFdmVudChlKXt2YXIgaT10aGlzLHQ9aS5pbnB1dG1hc2suX3ZhbHVlR2V0KCk7aWYoZ2V0QnVmZmVyKCkuam9pbihcIlwiKSE9PXQpe3ZhciBhPWNhcmV0KGkpO2lmKHQ9ZnVuY3Rpb24gaWVNb2JpbGVIYW5kbGVyKGUsdCxhKXtpZihfKXt2YXIgaT10LnJlcGxhY2UoZ2V0QnVmZmVyKCkuam9pbihcIlwiKSxcIlwiKTtpZigxPT09aS5sZW5ndGgpe3ZhciBuPXQuc3BsaXQoXCJcIik7bi5zcGxpY2UoYS5iZWdpbiwwLGkpLHQ9bi5qb2luKFwiXCIpfX1yZXR1cm4gdH0oMCx0PWZ1bmN0aW9uIHJhZGl4UG9pbnRIYW5kbGVyKGUsdCxhKXtyZXR1cm5cIi5cIj09PXQuY2hhckF0KGEuYmVnaW4tMSkmJlwiXCIhPT1GLnJhZGl4UG9pbnQmJigodD10LnNwbGl0KFwiXCIpKVthLmJlZ2luLTFdPUYucmFkaXhQb2ludC5jaGFyQXQoMCksdD10LmpvaW4oXCJcIikpLHR9KDAsdCxhKSxhKSxnZXRCdWZmZXIoKS5qb2luKFwiXCIpIT09dCl7dmFyIG49Z2V0QnVmZmVyKCkuam9pbihcIlwiKSxyPSFGLm51bWVyaWNJbnB1dCYmdC5sZW5ndGg+bi5sZW5ndGg/LTE6MCxzPXQuc3Vic3RyKDAsYS5iZWdpbiksbz10LnN1YnN0cihhLmJlZ2luKSxsPW4uc3Vic3RyKDAsYS5iZWdpbityKSx1PW4uc3Vic3RyKGEuYmVnaW4rciksYz1hLHA9XCJcIixmPSExO2lmKHMhPT1sKXt2YXIgZyxtPShmPXMubGVuZ3RoPj1sLmxlbmd0aCk/cy5sZW5ndGg6bC5sZW5ndGg7Zm9yKGc9MDtzLmNoYXJBdChnKT09PWwuY2hhckF0KGcpJiZnPG07ZysrKTtmJiYoYy5iZWdpbj1nLXIscCs9cy5zbGljZShnLGMuZW5kKSl9aWYobyE9PXUmJihvLmxlbmd0aD51Lmxlbmd0aD9wKz1vLnNsaWNlKDAsMSk6by5sZW5ndGg8dS5sZW5ndGgmJihjLmVuZCs9dS5sZW5ndGgtby5sZW5ndGgsZnx8XCJcIj09PUYucmFkaXhQb2ludHx8XCJcIiE9PW98fHMuY2hhckF0KGMuYmVnaW4rci0xKSE9PUYucmFkaXhQb2ludHx8KGMuYmVnaW4tLSxwPUYucmFkaXhQb2ludCkpKSx3cml0ZUJ1ZmZlcihpLGdldEJ1ZmZlcigpLHtiZWdpbjpjLmJlZ2luK3IsZW5kOmMuZW5kK3J9KSwwPHAubGVuZ3RoKUwuZWFjaChwLnNwbGl0KFwiXCIpLGZ1bmN0aW9uKGUsdCl7dmFyIGE9bmV3IEwuRXZlbnQoXCJrZXlwcmVzc1wiKTthLndoaWNoPXQuY2hhckNvZGVBdCgwKSxoPSExLHYua2V5cHJlc3NFdmVudC5jYWxsKGksYSl9KTtlbHNle2MuYmVnaW49PT1jLmVuZC0xJiYoYy5iZWdpbj1zZWVrUHJldmlvdXMoYy5iZWdpbisxKSxjLmJlZ2luPT09Yy5lbmQtMT9jYXJldChpLGMuYmVnaW4pOmNhcmV0KGksYy5iZWdpbixjLmVuZCkpO3ZhciBkPW5ldyBMLkV2ZW50KFwia2V5ZG93blwiKTtkLmtleUNvZGU9Ri5udW1lcmljSW5wdXQ/SW5wdXRtYXNrLmtleUNvZGUuQkFDS1NQQUNFOklucHV0bWFzay5rZXlDb2RlLkRFTEVURSx2LmtleWRvd25FdmVudC5jYWxsKGksZCl9ZS5wcmV2ZW50RGVmYXVsdCgpfX19LGJlZm9yZUlucHV0RXZlbnQ6ZnVuY3Rpb24gYmVmb3JlSW5wdXRFdmVudChlKXtpZihlLmNhbmNlbGFibGUpe3ZhciBpPXRoaXM7c3dpdGNoKGUuaW5wdXRUeXBlKXtjYXNlXCJpbnNlcnRUZXh0XCI6cmV0dXJuIEwuZWFjaChlLmRhdGEuc3BsaXQoXCJcIiksZnVuY3Rpb24oZSx0KXt2YXIgYT1uZXcgTC5FdmVudChcImtleXByZXNzXCIpO2Eud2hpY2g9dC5jaGFyQ29kZUF0KDApLGg9ITEsdi5rZXlwcmVzc0V2ZW50LmNhbGwoaSxhKX0pLGUucHJldmVudERlZmF1bHQoKTtjYXNlXCJkZWxldGVDb250ZW50QmFja3dhcmRcIjp2YXIgdD1uZXcgTC5FdmVudChcImtleWRvd25cIik7cmV0dXJuIHQua2V5Q29kZT1JbnB1dG1hc2sua2V5Q29kZS5CQUNLU1BBQ0Usdi5rZXlkb3duRXZlbnQuY2FsbChpLHQpLGUucHJldmVudERlZmF1bHQoKTtjYXNlXCJkZWxldGVDb250ZW50Rm9yd2FyZFwiOnZhciB0PW5ldyBMLkV2ZW50KFwia2V5ZG93blwiKTtyZXR1cm4gdC5rZXlDb2RlPUlucHV0bWFzay5rZXlDb2RlLkRFTEVURSx2LmtleWRvd25FdmVudC5jYWxsKGksdCksZS5wcmV2ZW50RGVmYXVsdCgpfX19LHNldFZhbHVlRXZlbnQ6ZnVuY3Rpb24gc2V0VmFsdWVFdmVudChlKXt0aGlzLmlucHV0bWFzay5yZWZyZXNoVmFsdWU9ITE7dmFyIHQ9ZSYmZS5kZXRhaWw/ZS5kZXRhaWxbMF06YXJndW1lbnRzWzFdLHQ9dHx8dGhpcy5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKTtMLmlzRnVuY3Rpb24oRi5vbkJlZm9yZU1hc2spJiYodD1GLm9uQmVmb3JlTWFzay5jYWxsKHUsdCxGKXx8dCksY2hlY2tWYWwodGhpcywhMCwhMSx0PXQuc3BsaXQoXCJcIikpLGQ9Z2V0QnVmZmVyKCkuam9pbihcIlwiKSwoRi5jbGVhck1hc2tPbkxvc3RGb2N1c3x8Ri5jbGVhckluY29tcGxldGUpJiZ0aGlzLmlucHV0bWFzay5fdmFsdWVHZXQoKT09PWdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKSYmdGhpcy5pbnB1dG1hc2suX3ZhbHVlU2V0KFwiXCIpfSxmb2N1c0V2ZW50OmZ1bmN0aW9uIGZvY3VzRXZlbnQoZSl7dmFyIHQ9dGhpcyxhPXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpO0Yuc2hvd01hc2tPbkZvY3VzJiYoIUYuc2hvd01hc2tPbkhvdmVyfHxGLnNob3dNYXNrT25Ib3ZlciYmXCJcIj09PWEpJiYodC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkhPT1nZXRCdWZmZXIoKS5qb2luKFwiXCIpP3dyaXRlQnVmZmVyKHQsZ2V0QnVmZmVyKCksc2Vla05leHQoZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSkpOiExPT09aSYmY2FyZXQodCxzZWVrTmV4dChnZXRMYXN0VmFsaWRQb3NpdGlvbigpKSkpLCEwPT09Ri5wb3NpdGlvbkNhcmV0T25UYWImJiExPT09aSYmdi5jbGlja0V2ZW50LmFwcGx5KHQsW2UsITBdKSxkPWdldEJ1ZmZlcigpLmpvaW4oXCJcIil9LG1vdXNlbGVhdmVFdmVudDpmdW5jdGlvbiBtb3VzZWxlYXZlRXZlbnQoZSl7aT0hMSxGLmNsZWFyTWFza09uTG9zdEZvY3VzJiZTLmFjdGl2ZUVsZW1lbnQhPT10aGlzJiZIYW5kbGVOYXRpdmVQbGFjZWhvbGRlcih0aGlzLHIpfSxjbGlja0V2ZW50OmZ1bmN0aW9uIGNsaWNrRXZlbnQoZSx1KXt2YXIgYz10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihTLmFjdGl2ZUVsZW1lbnQ9PT1jKXt2YXIgZT1jYXJldChjKTtpZih1JiYoaz9lLmVuZD1lLmJlZ2luOmUuYmVnaW49ZS5lbmQpLGUuYmVnaW49PT1lLmVuZClzd2l0Y2goRi5wb3NpdGlvbkNhcmV0T25DbGljayl7Y2FzZVwibm9uZVwiOmJyZWFrO2Nhc2VcInNlbGVjdFwiOmNhcmV0KGMsMCxnZXRCdWZmZXIoKS5sZW5ndGgpO2JyZWFrO2Nhc2VcImlnbm9yZVwiOmNhcmV0KGMsc2Vla05leHQoZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSkpO2JyZWFrO2Nhc2VcInJhZGl4Rm9jdXNcIjppZihmdW5jdGlvbiBkb1JhZGl4Rm9jdXMoZSl7aWYoXCJcIiE9PUYucmFkaXhQb2ludCl7dmFyIHQ9Z2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zO2lmKHRbZV09PT1WfHx0W2VdLmlucHV0PT09Z2V0UGxhY2Vob2xkZXIoZSkpe2lmKGU8c2Vla05leHQoLTEpKXJldHVybiEwO3ZhciBhPUwuaW5BcnJheShGLnJhZGl4UG9pbnQsZ2V0QnVmZmVyKCkpO2lmKC0xIT09YSl7Zm9yKHZhciBpIGluIHQpaWYoYTxpJiZ0W2ldLmlucHV0IT09Z2V0UGxhY2Vob2xkZXIoaSkpcmV0dXJuITE7cmV0dXJuITB9fX1yZXR1cm4hMX0oZS5iZWdpbikpe3ZhciB0PWdldEJ1ZmZlcigpLmpvaW4oXCJcIikuaW5kZXhPZihGLnJhZGl4UG9pbnQpO2NhcmV0KGMsRi5udW1lcmljSW5wdXQ/c2Vla05leHQodCk6dCk7YnJlYWt9ZGVmYXVsdDp2YXIgYT1lLmJlZ2luLGk9Z2V0TGFzdFZhbGlkUG9zaXRpb24oYSwhMCksbj1zZWVrTmV4dChpKTtpZihhPG4pY2FyZXQoYyxpc01hc2soYSwhMCl8fGlzTWFzayhhLTEsITApP2E6c2Vla05leHQoYSkpO2Vsc2V7dmFyIHI9Z2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldLHM9Z2V0VGVzdFRlbXBsYXRlKG4scj9yLm1hdGNoLmxvY2F0b3I6VixyKSxvPWdldFBsYWNlaG9sZGVyKG4scy5tYXRjaCk7aWYoXCJcIiE9PW8mJmdldEJ1ZmZlcigpW25dIT09byYmITAhPT1zLm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciYmITAhPT1zLm1hdGNoLm5ld0Jsb2NrTWFya2VyfHwhaXNNYXNrKG4sRi5rZWVwU3RhdGljKSYmcy5tYXRjaC5kZWY9PT1vKXt2YXIgbD1zZWVrTmV4dChuKTsobDw9YXx8YT09PW4pJiYobj1sKX1jYXJldChjLG4pfX19fSwwKX0sY3V0RXZlbnQ6ZnVuY3Rpb24gY3V0RXZlbnQoZSl7TCh0aGlzKTt2YXIgdD1jYXJldCh0aGlzKSxhPWUub3JpZ2luYWxFdmVudHx8ZSxpPU0uY2xpcGJvYXJkRGF0YXx8YS5jbGlwYm9hcmREYXRhLG49az9nZXRCdWZmZXIoKS5zbGljZSh0LmVuZCx0LmJlZ2luKTpnZXRCdWZmZXIoKS5zbGljZSh0LmJlZ2luLHQuZW5kKTtpLnNldERhdGEoXCJ0ZXh0XCIsaz9uLnJldmVyc2UoKS5qb2luKFwiXCIpOm4uam9pbihcIlwiKSksUy5leGVjQ29tbWFuZCYmUy5leGVjQ29tbWFuZChcImNvcHlcIiksaGFuZGxlUmVtb3ZlKDAsSW5wdXRtYXNrLmtleUNvZGUuREVMRVRFLHQpLHdyaXRlQnVmZmVyKHRoaXMsZ2V0QnVmZmVyKCksZ2V0TWFza1NldCgpLnAsZSxkIT09Z2V0QnVmZmVyKCkuam9pbihcIlwiKSl9LGJsdXJFdmVudDpmdW5jdGlvbiBibHVyRXZlbnQoZSl7dmFyIHQ9TCh0aGlzKTtpZih0aGlzLmlucHV0bWFzayl7SGFuZGxlTmF0aXZlUGxhY2Vob2xkZXIodGhpcyxyKTt2YXIgYT10aGlzLmlucHV0bWFzay5fdmFsdWVHZXQoKSxpPWdldEJ1ZmZlcigpLnNsaWNlKCk7XCJcIj09PWEmJmY9PT1WfHwoRi5jbGVhck1hc2tPbkxvc3RGb2N1cyYmKC0xPT09Z2V0TGFzdFZhbGlkUG9zaXRpb24oKSYmYT09PWdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKT9pPVtdOmNsZWFyT3B0aW9uYWxUYWlsKGkpKSwhMT09PWlzQ29tcGxldGUoaSkmJihzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC50cmlnZ2VyKFwiaW5jb21wbGV0ZVwiKX0sMCksRi5jbGVhckluY29tcGxldGUmJihyZXNldE1hc2tTZXQoKSxpPUYuY2xlYXJNYXNrT25Mb3N0Rm9jdXM/W106Z2V0QnVmZmVyVGVtcGxhdGUoKS5zbGljZSgpKSksd3JpdGVCdWZmZXIodGhpcyxpLFYsZSkpLGQhPT1nZXRCdWZmZXIoKS5qb2luKFwiXCIpJiYoZD1pLmpvaW4oXCJcIiksdC50cmlnZ2VyKFwiY2hhbmdlXCIpKX19LG1vdXNlZW50ZXJFdmVudDpmdW5jdGlvbiBtb3VzZWVudGVyRXZlbnQoZSl7aT0hMCxTLmFjdGl2ZUVsZW1lbnQhPT10aGlzJiZGLnNob3dNYXNrT25Ib3ZlciYmSGFuZGxlTmF0aXZlUGxhY2Vob2xkZXIodGhpcywoaz9nZXRCdWZmZXIoKS5zbGljZSgpLnJldmVyc2UoKTpnZXRCdWZmZXIoKSkuam9pbihcIlwiKSl9LHN1Ym1pdEV2ZW50OmZ1bmN0aW9uIHN1Ym1pdEV2ZW50KGUpe2QhPT1nZXRCdWZmZXIoKS5qb2luKFwiXCIpJiZuLnRyaWdnZXIoXCJjaGFuZ2VcIiksRi5jbGVhck1hc2tPbkxvc3RGb2N1cyYmLTE9PT1nZXRMYXN0VmFsaWRQb3NpdGlvbigpJiZsLmlucHV0bWFzay5fdmFsdWVHZXQmJmwuaW5wdXRtYXNrLl92YWx1ZUdldCgpPT09Z2V0QnVmZmVyVGVtcGxhdGUoKS5qb2luKFwiXCIpJiZsLmlucHV0bWFzay5fdmFsdWVTZXQoXCJcIiksRi5jbGVhckluY29tcGxldGUmJiExPT09aXNDb21wbGV0ZShnZXRCdWZmZXIoKSkmJmwuaW5wdXRtYXNrLl92YWx1ZVNldChcIlwiKSxGLnJlbW92ZU1hc2tPblN1Ym1pdCYmKGwuaW5wdXRtYXNrLl92YWx1ZVNldChsLmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCksITApLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt3cml0ZUJ1ZmZlcihsLGdldEJ1ZmZlcigpKX0sMCkpfSxyZXNldEV2ZW50OmZ1bmN0aW9uIHJlc2V0RXZlbnQoZSl7bC5pbnB1dG1hc2sucmVmcmVzaFZhbHVlPSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLnRyaWdnZXIoXCJzZXR2YWx1ZVwiKX0sMCl9fTtmdW5jdGlvbiBjaGVja1ZhbChuLGUscix0LGEpe3ZhciBzPXRoaXN8fG4uaW5wdXRtYXNrLG89dC5zbGljZSgpLGw9XCJcIix1PS0xLGM9VjtpZihyZXNldE1hc2tTZXQoKSxyfHwhMD09PUYuYXV0b1VubWFzayl1PXNlZWtOZXh0KHUpO2Vsc2V7dmFyIGk9Z2V0QnVmZmVyVGVtcGxhdGUoKS5zbGljZSgwLHNlZWtOZXh0KC0xKSkuam9pbihcIlwiKSxwPW8uam9pbihcIlwiKS5tYXRjaChuZXcgUmVnRXhwKFwiXlwiK0lucHV0bWFzay5lc2NhcGVSZWdleChpKSxcImdcIikpO3AmJjA8cC5sZW5ndGgmJihvLnNwbGljZSgwLHAubGVuZ3RoKmkubGVuZ3RoKSx1PXNlZWtOZXh0KHUpKX0tMT09PXU/KGdldE1hc2tTZXQoKS5wPXNlZWtOZXh0KHUpLHU9MCk6Z2V0TWFza1NldCgpLnA9dSxzLmNhcmV0UG9zPXtiZWdpbjp1fSxMLmVhY2gobyxmdW5jdGlvbihlLHQpe2lmKHQhPT1WKWlmKGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tlXT09PVYmJm9bZV09PT1nZXRQbGFjZWhvbGRlcihlKSYmaXNNYXNrKGUsITApJiYhMT09PWlzVmFsaWQoZSxvW2VdLCEwLFYsViwhMCkpZ2V0TWFza1NldCgpLnArKztlbHNle3ZhciBhPW5ldyBMLkV2ZW50KFwiX2NoZWNrdmFsXCIpO2Eud2hpY2g9dC5jaGFyQ29kZUF0KDApLGwrPXQ7dmFyIGk9Z2V0TGFzdFZhbGlkUG9zaXRpb24oViwhMCk7IWZ1bmN0aW9uIGlzVGVtcGxhdGVNYXRjaChlLHQpe3JldHVybi0xIT09Z2V0TWFza1RlbXBsYXRlKCEwLDAsITEpLnNsaWNlKGUsc2Vla05leHQoZSkpLmpvaW4oXCJcIikucmVwbGFjZSgvJy9nLFwiXCIpLmluZGV4T2YodCkmJiFpc01hc2soZSkmJihnZXRUZXN0KGUpLm1hdGNoLm5hdGl2ZURlZj09PXQuY2hhckF0KDApfHxudWxsPT09Z2V0VGVzdChlKS5tYXRjaC5mbiYmZ2V0VGVzdChlKS5tYXRjaC5uYXRpdmVEZWY9PT1cIidcIit0LmNoYXJBdCgwKXx8XCIgXCI9PT1nZXRUZXN0KGUpLm1hdGNoLm5hdGl2ZURlZiYmKGdldFRlc3QoZSsxKS5tYXRjaC5uYXRpdmVEZWY9PT10LmNoYXJBdCgwKXx8bnVsbD09PWdldFRlc3QoZSsxKS5tYXRjaC5mbiYmZ2V0VGVzdChlKzEpLm1hdGNoLm5hdGl2ZURlZj09PVwiJ1wiK3QuY2hhckF0KDApKSl9KHUsbCk/KGM9di5rZXlwcmVzc0V2ZW50LmNhbGwobixhLCEwLCExLHIscy5jYXJldFBvcy5iZWdpbikpJiYodT1zLmNhcmV0UG9zLmJlZ2luKzEsbD1cIlwiKTpjPXYua2V5cHJlc3NFdmVudC5jYWxsKG4sYSwhMCwhMSxyLGkrMSksYyYmKHdyaXRlQnVmZmVyKFYsZ2V0QnVmZmVyKCksYy5mb3J3YXJkUG9zaXRpb24sYSwhMSkscy5jYXJldFBvcz17YmVnaW46Yy5mb3J3YXJkUG9zaXRpb24sZW5kOmMuZm9yd2FyZFBvc2l0aW9ufSl9fSksZSYmd3JpdGVCdWZmZXIobixnZXRCdWZmZXIoKSxjP2MuZm9yd2FyZFBvc2l0aW9uOlYsYXx8bmV3IEwuRXZlbnQoXCJjaGVja3ZhbFwiKSxhJiZcImlucHV0XCI9PT1hLnR5cGUpfWZ1bmN0aW9uIHVubWFza2VkdmFsdWUoZSl7aWYoZSl7aWYoZS5pbnB1dG1hc2s9PT1WKXJldHVybiBlLnZhbHVlO2UuaW5wdXRtYXNrJiZlLmlucHV0bWFzay5yZWZyZXNoVmFsdWUmJnYuc2V0VmFsdWVFdmVudC5jYWxsKGUpfXZhciB0PVtdLGE9Z2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zO2Zvcih2YXIgaSBpbiBhKWFbaV0ubWF0Y2gmJm51bGwhPWFbaV0ubWF0Y2guZm4mJnQucHVzaChhW2ldLmlucHV0KTt2YXIgbj0wPT09dC5sZW5ndGg/XCJcIjooaz90LnJldmVyc2UoKTp0KS5qb2luKFwiXCIpO2lmKEwuaXNGdW5jdGlvbihGLm9uVW5NYXNrKSl7dmFyIHI9KGs/Z2V0QnVmZmVyKCkuc2xpY2UoKS5yZXZlcnNlKCk6Z2V0QnVmZmVyKCkpLmpvaW4oXCJcIik7bj1GLm9uVW5NYXNrLmNhbGwodSxyLG4sRil9cmV0dXJuIG59ZnVuY3Rpb24gY2FyZXQoZSx0LGEsaSl7ZnVuY3Rpb24gdHJhbnNsYXRlUG9zaXRpb24oZSl7cmV0dXJuIWt8fFwibnVtYmVyXCIhPXR5cGVvZiBlfHxGLmdyZWVkeSYmXCJcIj09PUYucGxhY2Vob2xkZXJ8fCFsfHwoZT1sLmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGgtZSksZX12YXIgbjtpZih0PT09VilyZXR1cm5cInNlbGVjdGlvblN0YXJ0XCJpbiBlPyh0PWUuc2VsZWN0aW9uU3RhcnQsYT1lLnNlbGVjdGlvbkVuZCk6TS5nZXRTZWxlY3Rpb24/KG49TS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZUF0KDApKS5jb21tb25BbmNlc3RvckNvbnRhaW5lci5wYXJlbnROb2RlIT09ZSYmbi5jb21tb25BbmNlc3RvckNvbnRhaW5lciE9PWV8fCh0PW4uc3RhcnRPZmZzZXQsYT1uLmVuZE9mZnNldCk6Uy5zZWxlY3Rpb24mJlMuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlJiYobj1TLnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLHQ9MC1uLmR1cGxpY2F0ZSgpLm1vdmVTdGFydChcImNoYXJhY3RlclwiLC1lLmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGgpLGE9dCtuLnRleHQubGVuZ3RoKSx7YmVnaW46aT90OnRyYW5zbGF0ZVBvc2l0aW9uKHQpLGVuZDppP2E6dHJhbnNsYXRlUG9zaXRpb24oYSl9O2lmKEwuaXNBcnJheSh0KSYmKGE9az90WzBdOnRbMV0sdD1rP3RbMV06dFswXSksdC5iZWdpbiE9PVYmJihhPWs/dC5iZWdpbjp0LmVuZCx0PWs/dC5lbmQ6dC5iZWdpbiksXCJudW1iZXJcIj09dHlwZW9mIHQpe3Q9aT90OnRyYW5zbGF0ZVBvc2l0aW9uKHQpLGE9XCJudW1iZXJcIj09dHlwZW9mKGE9aT9hOnRyYW5zbGF0ZVBvc2l0aW9uKGEpKT9hOnQ7dmFyIHI9cGFyc2VJbnQoKChlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXd8fE0pLmdldENvbXB1dGVkU3R5bGU/KGUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlld3x8TSkuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpOmUuY3VycmVudFN0eWxlKS5mb250U2l6ZSkqYTtpZihlLnNjcm9sbExlZnQ9cj5lLnNjcm9sbFdpZHRoP3I6MCxlLmlucHV0bWFzay5jYXJldFBvcz17YmVnaW46dCxlbmQ6YX0sZT09PVMuYWN0aXZlRWxlbWVudCl7aWYoXCJzZWxlY3Rpb25TdGFydFwiaW4gZSllLnNlbGVjdGlvblN0YXJ0PXQsZS5zZWxlY3Rpb25FbmQ9YTtlbHNlIGlmKE0uZ2V0U2VsZWN0aW9uKXtpZihuPVMuY3JlYXRlUmFuZ2UoKSxlLmZpcnN0Q2hpbGQ9PT1WfHxudWxsPT09ZS5maXJzdENoaWxkKXt2YXIgcz1TLmNyZWF0ZVRleHROb2RlKFwiXCIpO2UuYXBwZW5kQ2hpbGQocyl9bi5zZXRTdGFydChlLmZpcnN0Q2hpbGQsdDxlLmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGg/dDplLmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGgpLG4uc2V0RW5kKGUuZmlyc3RDaGlsZCxhPGUuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aD9hOmUuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aCksbi5jb2xsYXBzZSghMCk7dmFyIG89TS5nZXRTZWxlY3Rpb24oKTtvLnJlbW92ZUFsbFJhbmdlcygpLG8uYWRkUmFuZ2Uobil9ZWxzZSBlLmNyZWF0ZVRleHRSYW5nZSYmKChuPWUuY3JlYXRlVGV4dFJhbmdlKCkpLmNvbGxhcHNlKCEwKSxuLm1vdmVFbmQoXCJjaGFyYWN0ZXJcIixhKSxuLm1vdmVTdGFydChcImNoYXJhY3RlclwiLHQpLG4uc2VsZWN0KCkpO3JlbmRlckNvbG9yTWFzayhlLHtiZWdpbjp0LGVuZDphfSl9fX1mdW5jdGlvbiBkZXRlcm1pbmVMYXN0UmVxdWlyZWRQb3NpdGlvbihlKXt2YXIgdCxhLGk9Z2V0TWFza1RlbXBsYXRlKCEwLGdldExhc3RWYWxpZFBvc2l0aW9uKCksITAsITApLG49aS5sZW5ndGgscj1nZXRMYXN0VmFsaWRQb3NpdGlvbigpLHM9e30sbz1nZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcl0sbD1vIT09Vj9vLmxvY2F0b3Iuc2xpY2UoKTpWO2Zvcih0PXIrMTt0PGkubGVuZ3RoO3QrKylhPWdldFRlc3RUZW1wbGF0ZSh0LGwsdC0xKSxsPWEubG9jYXRvci5zbGljZSgpLHNbdF09TC5leHRlbmQoITAse30sYSk7dmFyIHU9byYmby5hbHRlcm5hdGlvbiE9PVY/by5sb2NhdG9yW28uYWx0ZXJuYXRpb25dOlY7Zm9yKHQ9bi0xO3I8dCYmKChhPXNbdF0pLm1hdGNoLm9wdGlvbmFsaXR5fHxhLm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciYmYS5tYXRjaC5uZXdCbG9ja01hcmtlcnx8dSYmKHUhPT1zW3RdLmxvY2F0b3Jbby5hbHRlcm5hdGlvbl0mJm51bGwhPWEubWF0Y2guZm58fG51bGw9PT1hLm1hdGNoLmZuJiZhLmxvY2F0b3Jbby5hbHRlcm5hdGlvbl0mJmNoZWNrQWx0ZXJuYXRpb25NYXRjaChhLmxvY2F0b3Jbby5hbHRlcm5hdGlvbl0udG9TdHJpbmcoKS5zcGxpdChcIixcIiksdS50b1N0cmluZygpLnNwbGl0KFwiLFwiKSkmJlwiXCIhPT1nZXRUZXN0cyh0KVswXS5kZWYpKSYmaVt0XT09PWdldFBsYWNlaG9sZGVyKHQsYS5tYXRjaCk7dC0tKW4tLTtyZXR1cm4gZT97bDpuLGRlZjpzW25dP3Nbbl0ubWF0Y2g6Vn06bn1mdW5jdGlvbiBjbGVhck9wdGlvbmFsVGFpbChlKXtmb3IodmFyIHQsYT1nZXRNYXNrVGVtcGxhdGUoIShlLmxlbmd0aD0wKSwwLCEwLFYsITApOyh0PWEuc2hpZnQoKSkhPT1WOyllLnB1c2godCk7cmV0dXJuIGV9ZnVuY3Rpb24gaXNDb21wbGV0ZShlKXtpZihMLmlzRnVuY3Rpb24oRi5pc0NvbXBsZXRlKSlyZXR1cm4gRi5pc0NvbXBsZXRlKGUsRik7aWYoXCIqXCI9PT1GLnJlcGVhdClyZXR1cm4gVjt2YXIgdD0hMSxhPWRldGVybWluZUxhc3RSZXF1aXJlZFBvc2l0aW9uKCEwKSxpPXNlZWtQcmV2aW91cyhhLmwpO2lmKGEuZGVmPT09Vnx8YS5kZWYubmV3QmxvY2tNYXJrZXJ8fGEuZGVmLm9wdGlvbmFsaXR5fHxhLmRlZi5vcHRpb25hbFF1YW50aWZpZXIpe3Q9ITA7Zm9yKHZhciBuPTA7bjw9aTtuKyspe3ZhciByPWdldFRlc3RUZW1wbGF0ZShuKS5tYXRjaDtpZihudWxsIT09ci5mbiYmZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW25dPT09ViYmITAhPT1yLm9wdGlvbmFsaXR5JiYhMCE9PXIub3B0aW9uYWxRdWFudGlmaWVyfHxudWxsPT09ci5mbiYmZVtuXSE9PWdldFBsYWNlaG9sZGVyKG4scikpe3Q9ITE7YnJlYWt9fX1yZXR1cm4gdH1mdW5jdGlvbiBoYW5kbGVSZW1vdmUoZSx0LGEsaSxuKXtpZigoRi5udW1lcmljSW5wdXR8fGspJiYodD09PUlucHV0bWFzay5rZXlDb2RlLkJBQ0tTUEFDRT90PUlucHV0bWFzay5rZXlDb2RlLkRFTEVURTp0PT09SW5wdXRtYXNrLmtleUNvZGUuREVMRVRFJiYodD1JbnB1dG1hc2sua2V5Q29kZS5CQUNLU1BBQ0UpLGspKXt2YXIgcj1hLmVuZDthLmVuZD1hLmJlZ2luLGEuYmVnaW49cn1pZih0PT09SW5wdXRtYXNrLmtleUNvZGUuQkFDS1NQQUNFJiZhLmVuZC1hLmJlZ2luPDE/KGEuYmVnaW49c2Vla1ByZXZpb3VzKGEuYmVnaW4pLGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1thLmJlZ2luXSE9PVYmJmdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1thLmJlZ2luXS5pbnB1dD09PUYuZ3JvdXBTZXBhcmF0b3ImJmEuYmVnaW4tLSk6dD09PUlucHV0bWFzay5rZXlDb2RlLkRFTEVURSYmYS5iZWdpbj09PWEuZW5kJiYoYS5lbmQ9aXNNYXNrKGEuZW5kLCEwKSYmZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2EuZW5kXSYmZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2EuZW5kXS5pbnB1dCE9PUYucmFkaXhQb2ludD9hLmVuZCsxOnNlZWtOZXh0KGEuZW5kKSsxLGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1thLmJlZ2luXSE9PVYmJmdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1thLmJlZ2luXS5pbnB1dD09PUYuZ3JvdXBTZXBhcmF0b3ImJmEuZW5kKyspLHJldmFsaWRhdGVNYXNrKGEpLCEwIT09aSYmITEhPT1GLmtlZXBTdGF0aWN8fG51bGwhPT1GLnJlZ2V4KXt2YXIgcz1hbHRlcm5hdGUoITApO2lmKHMpe3ZhciBvPXMuY2FyZXQhPT1WP3MuY2FyZXQ6cy5wb3M/c2Vla05leHQocy5wb3MuYmVnaW4/cy5wb3MuYmVnaW46cy5wb3MpOmdldExhc3RWYWxpZFBvc2l0aW9uKC0xLCEwKTsodCE9PUlucHV0bWFzay5rZXlDb2RlLkRFTEVURXx8YS5iZWdpbj5vKSYmYS5iZWdpbn19dmFyIGw9Z2V0TGFzdFZhbGlkUG9zaXRpb24oYS5iZWdpbiwhMCk7aWYobDxhLmJlZ2lufHwtMT09PWEuYmVnaW4pZ2V0TWFza1NldCgpLnA9c2Vla05leHQobCk7ZWxzZSBpZighMCE9PWkmJihnZXRNYXNrU2V0KCkucD1hLmJlZ2luLCEwIT09bikpZm9yKDtnZXRNYXNrU2V0KCkucDxsJiZnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbZ2V0TWFza1NldCgpLnBdPT09VjspZ2V0TWFza1NldCgpLnArK31mdW5jdGlvbiBpbml0aWFsaXplQ29sb3JNYXNrKHUpe3ZhciBjPSh1Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXd8fE0pLmdldENvbXB1dGVkU3R5bGUodSxudWxsKSxlPVMuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLnN0eWxlLndpZHRoPWMud2lkdGgsZS5zdHlsZS50ZXh0QWxpZ249Yy50ZXh0QWxpZ24sZj1TLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksKHUuaW5wdXRtYXNrLmNvbG9yTWFzaz1mKS5jbGFzc05hbWU9XCJpbS1jb2xvcm1hc2tcIix1LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGYsdSksdS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHUpLGYuYXBwZW5kQ2hpbGQodSksZi5hcHBlbmRDaGlsZChlKSx1LnN0eWxlLmxlZnQ9ZS5vZmZzZXRMZWZ0K1wicHhcIixMKGYpLm9uKFwibW91c2VsZWF2ZVwiLGZ1bmN0aW9uKGUpe3JldHVybiB2Lm1vdXNlbGVhdmVFdmVudC5jYWxsKHUsW2VdKX0pLEwoZikub24oXCJtb3VzZWVudGVyXCIsZnVuY3Rpb24oZSl7cmV0dXJuIHYubW91c2VlbnRlckV2ZW50LmNhbGwodSxbZV0pfSksTChmKS5vbihcImNsaWNrXCIsZnVuY3Rpb24oZSl7cmV0dXJuIGNhcmV0KHUsZnVuY3Rpb24gZmluZENhcmV0UG9zKGUpe3ZhciB0LGE9Uy5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtmb3IodmFyIGkgaW4gYylpc05hTihpKSYmLTEhPT1pLmluZGV4T2YoXCJmb250XCIpJiYoYS5zdHlsZVtpXT1jW2ldKTthLnN0eWxlLnRleHRUcmFuc2Zvcm09Yy50ZXh0VHJhbnNmb3JtLGEuc3R5bGUubGV0dGVyU3BhY2luZz1jLmxldHRlclNwYWNpbmcsYS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsYS5zdHlsZS5oZWlnaHQ9XCJhdXRvXCIsYS5zdHlsZS53aWR0aD1cImF1dG9cIixhLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIixhLnN0eWxlLndoaXRlU3BhY2U9XCJub3dyYXBcIixTLmJvZHkuYXBwZW5kQ2hpbGQoYSk7dmFyIG4scj11LmlucHV0bWFzay5fdmFsdWVHZXQoKSxzPTA7Zm9yKHQ9MCxuPXIubGVuZ3RoO3Q8PW47dCsrKXtpZihhLmlubmVySFRNTCs9ci5jaGFyQXQodCl8fFwiX1wiLGEub2Zmc2V0V2lkdGg+PWUpe3ZhciBvPWUtcyxsPWEub2Zmc2V0V2lkdGgtZTthLmlubmVySFRNTD1yLmNoYXJBdCh0KSxvLT1hLm9mZnNldFdpZHRoLzMsdD1vPGw/dC0xOnQ7YnJlYWt9cz1hLm9mZnNldFdpZHRofXJldHVybiBTLmJvZHkucmVtb3ZlQ2hpbGQoYSksdH0oZS5jbGllbnRYKSksdi5jbGlja0V2ZW50LmNhbGwodSxbZV0pfSl9ZnVuY3Rpb24gcmVuZGVyQ29sb3JNYXNrKGUsdCxhKXt2YXIgaSxuLHIscz1bXSxvPSExLGw9MDtmdW5jdGlvbiBzZXRFbnRyeShlKXtpZihlPT09ViYmKGU9XCJcIiksb3x8bnVsbCE9PWkuZm4mJm4uaW5wdXQhPT1WKWlmKG8mJihudWxsIT09aS5mbiYmbi5pbnB1dCE9PVZ8fFwiXCI9PT1pLmRlZikpe289ITE7dmFyIHQ9cy5sZW5ndGg7c1t0LTFdPXNbdC0xXStcIjwvc3Bhbj5cIixzLnB1c2goZSl9ZWxzZSBzLnB1c2goZSk7ZWxzZSBvPSEwLHMucHVzaChcIjxzcGFuIGNsYXNzPSdpbS1zdGF0aWMnPlwiK2UpfWlmKGYhPT1WKXt2YXIgdT1nZXRCdWZmZXIoKTtpZih0PT09Vj90PWNhcmV0KGUpOnQuYmVnaW49PT1WJiYodD17YmVnaW46dCxlbmQ6dH0pLCEwIT09YSl7Zm9yKHZhciBjPWdldExhc3RWYWxpZFBvc2l0aW9uKCk7Z2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2xdPyhuPWdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsXSxpPW4ubWF0Y2gscj1uLmxvY2F0b3Iuc2xpY2UoKSxzZXRFbnRyeSh1W2xdKSk6KG49Z2V0VGVzdFRlbXBsYXRlKGwscixsLTEpLGk9bi5tYXRjaCxyPW4ubG9jYXRvci5zbGljZSgpLCExPT09Ri5qaXRNYXNraW5nfHxsPGN8fFwibnVtYmVyXCI9PXR5cGVvZiBGLmppdE1hc2tpbmcmJmlzRmluaXRlKEYuaml0TWFza2luZykmJkYuaml0TWFza2luZz5sP3NldEVudHJ5KGdldFBsYWNlaG9sZGVyKGwsaSkpOm89ITEpLGwrKywobT09PVZ8fGw8bSkmJihudWxsIT09aS5mbnx8XCJcIiE9PWkuZGVmKXx8bDxjfHxvOyk7byYmc2V0RW50cnkoKSxmdW5jdGlvbiBzZXRDYXJldCgpe1MuYWN0aXZlRWxlbWVudD09PWUmJihzLnNwbGljZSh0LmJlZ2luLDAsdC5iZWdpbj09PXQuZW5kfHx0LmVuZD5nZXRNYXNrU2V0KCkubWFza0xlbmd0aD8nPG1hcmsgY2xhc3M9XCJpbS1jYXJldFwiIHN0eWxlPVwiYm9yZGVyLXJpZ2h0LXdpZHRoOiAxcHg7Ym9yZGVyLXJpZ2h0LXN0eWxlOiBzb2xpZDtcIj4nOic8bWFyayBjbGFzcz1cImltLWNhcmV0LXNlbGVjdFwiPicpLHMuc3BsaWNlKHQuZW5kKzEsMCxcIjwvbWFyaz5cIikpfSgpfXZhciBwPWYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkaXZcIilbMF07cC5pbm5lckhUTUw9cy5qb2luKFwiXCIpLGUuaW5wdXRtYXNrLnBvc2l0aW9uQ29sb3JNYXNrKGUscCl9fWlmKElucHV0bWFzay5wcm90b3R5cGUucG9zaXRpb25Db2xvck1hc2s9ZnVuY3Rpb24oZSx0KXtlLnN0eWxlLmxlZnQ9dC5vZmZzZXRMZWZ0K1wicHhcIn0sZSE9PVYpc3dpdGNoKGUuYWN0aW9uKXtjYXNlXCJpc0NvbXBsZXRlXCI6cmV0dXJuIGw9ZS5lbCxpc0NvbXBsZXRlKGdldEJ1ZmZlcigpKTtjYXNlXCJ1bm1hc2tlZHZhbHVlXCI6cmV0dXJuIGwhPT1WJiZlLnZhbHVlPT09Vnx8KGE9ZS52YWx1ZSxhPShMLmlzRnVuY3Rpb24oRi5vbkJlZm9yZU1hc2spJiZGLm9uQmVmb3JlTWFzay5jYWxsKHUsYSxGKXx8YSkuc3BsaXQoXCJcIiksY2hlY2tWYWwuY2FsbCh0aGlzLFYsITEsITEsYSksTC5pc0Z1bmN0aW9uKEYub25CZWZvcmVXcml0ZSkmJkYub25CZWZvcmVXcml0ZS5jYWxsKHUsVixnZXRCdWZmZXIoKSwwLEYpKSx1bm1hc2tlZHZhbHVlKGwpO2Nhc2VcIm1hc2tcIjohZnVuY3Rpb24gbWFzayhlKXtmdW5jdGlvbiBpc0VsZW1lbnRUeXBlU3VwcG9ydGVkKGUscil7ZnVuY3Rpb24gcGF0Y2hWYWx1ZVByb3BlcnR5KGUpe3ZhciB0LGEsaTtmdW5jdGlvbiBwYXRjaFZhbGhvb2soZSl7aWYoTC52YWxIb29rcyYmKEwudmFsSG9va3NbZV09PT1WfHwhMCE9PUwudmFsSG9va3NbZV0uaW5wdXRtYXNrcGF0Y2gpKXt2YXIgYT1MLnZhbEhvb2tzW2VdJiZMLnZhbEhvb2tzW2VdLmdldD9MLnZhbEhvb2tzW2VdLmdldDpmdW5jdGlvbihlKXtyZXR1cm4gZS52YWx1ZX0sbj1MLnZhbEhvb2tzW2VdJiZMLnZhbEhvb2tzW2VdLnNldD9MLnZhbEhvb2tzW2VdLnNldDpmdW5jdGlvbihlLHQpe3JldHVybiBlLnZhbHVlPXQsZX07TC52YWxIb29rc1tlXT17Z2V0OmZ1bmN0aW9uIGdldChlKXtpZihlLmlucHV0bWFzayl7aWYoZS5pbnB1dG1hc2sub3B0cy5hdXRvVW5tYXNrKXJldHVybiBlLmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCk7dmFyIHQ9YShlKTtyZXR1cm4tMSE9PWdldExhc3RWYWxpZFBvc2l0aW9uKFYsVixlLmlucHV0bWFzay5tYXNrc2V0LnZhbGlkUG9zaXRpb25zKXx8ITAhPT1yLm51bGxhYmxlP3Q6XCJcIn1yZXR1cm4gYShlKX0sc2V0OmZ1bmN0aW9uIHNldChlLHQpe3ZhciBhLGk9TChlKTtyZXR1cm4gYT1uKGUsdCksZS5pbnB1dG1hc2smJmkudHJpZ2dlcihcInNldHZhbHVlXCIsW3RdKSxhfSxpbnB1dG1hc2twYXRjaDohMH19fWZ1bmN0aW9uIGdldHRlcigpe3JldHVybiB0aGlzLmlucHV0bWFzaz90aGlzLmlucHV0bWFzay5vcHRzLmF1dG9Vbm1hc2s/dGhpcy5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpOi0xIT09Z2V0TGFzdFZhbGlkUG9zaXRpb24oKXx8ITAhPT1yLm51bGxhYmxlP1MuYWN0aXZlRWxlbWVudD09PXRoaXMmJnIuY2xlYXJNYXNrT25Mb3N0Rm9jdXM/KGs/Y2xlYXJPcHRpb25hbFRhaWwoZ2V0QnVmZmVyKCkuc2xpY2UoKSkucmV2ZXJzZSgpOmNsZWFyT3B0aW9uYWxUYWlsKGdldEJ1ZmZlcigpLnNsaWNlKCkpKS5qb2luKFwiXCIpOnQuY2FsbCh0aGlzKTpcIlwiOnQuY2FsbCh0aGlzKX1mdW5jdGlvbiBzZXR0ZXIoZSl7YS5jYWxsKHRoaXMsZSksdGhpcy5pbnB1dG1hc2smJkwodGhpcykudHJpZ2dlcihcInNldHZhbHVlXCIsW2VdKX1pZighZS5pbnB1dG1hc2suX192YWx1ZUdldCl7aWYoITAhPT1yLm5vVmFsdWVQYXRjaGluZyl7aWYoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcil7XCJmdW5jdGlvblwiIT10eXBlb2YgT2JqZWN0LmdldFByb3RvdHlwZU9mJiYoT2JqZWN0LmdldFByb3RvdHlwZU9mPVwib2JqZWN0XCI9PT1UKFwidGVzdFwiLl9fcHJvdG9fXyk/ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGV9KTt2YXIgbj1PYmplY3QuZ2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSksXCJ2YWx1ZVwiKTpWO24mJm4uZ2V0JiZuLnNldD8odD1uLmdldCxhPW4uc2V0LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwidmFsdWVcIix7Z2V0OmdldHRlcixzZXQ6c2V0dGVyLGNvbmZpZ3VyYWJsZTohMH0pKTpcIklOUFVUXCIhPT1lLnRhZ05hbWUmJih0PWZ1bmN0aW9uIHZhbHVlR2V0KCl7cmV0dXJuIHRoaXMudGV4dENvbnRlbnR9LGE9ZnVuY3Rpb24gdmFsdWVTZXQoZSl7dGhpcy50ZXh0Q29udGVudD1lfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInZhbHVlXCIse2dldDpnZXR0ZXIsc2V0OnNldHRlcixjb25maWd1cmFibGU6ITB9KSl9ZWxzZSBTLl9fbG9va3VwR2V0dGVyX18mJmUuX19sb29rdXBHZXR0ZXJfXyhcInZhbHVlXCIpJiYodD1lLl9fbG9va3VwR2V0dGVyX18oXCJ2YWx1ZVwiKSxhPWUuX19sb29rdXBTZXR0ZXJfXyhcInZhbHVlXCIpLGUuX19kZWZpbmVHZXR0ZXJfXyhcInZhbHVlXCIsZ2V0dGVyKSxlLl9fZGVmaW5lU2V0dGVyX18oXCJ2YWx1ZVwiLHNldHRlcikpO2UuaW5wdXRtYXNrLl9fdmFsdWVHZXQ9dCxlLmlucHV0bWFzay5fX3ZhbHVlU2V0PWF9ZS5pbnB1dG1hc2suX3ZhbHVlR2V0PWZ1bmN0aW9uKGUpe3JldHVybiBrJiYhMCE9PWU/dC5jYWxsKHRoaXMuZWwpLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpOnQuY2FsbCh0aGlzLmVsKX0sZS5pbnB1dG1hc2suX3ZhbHVlU2V0PWZ1bmN0aW9uKGUsdCl7YS5jYWxsKHRoaXMuZWwsbnVsbD09PWV8fGU9PT1WP1wiXCI6ITAhPT10JiZrP2Uuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIik6ZSl9LHQ9PT1WJiYodD1mdW5jdGlvbiB2YWx1ZUdldCgpe3JldHVybiB0aGlzLnZhbHVlfSxhPWZ1bmN0aW9uIHZhbHVlU2V0KGUpe3RoaXMudmFsdWU9ZX0scGF0Y2hWYWxob29rKGUudHlwZSksaT1lLG8ub24oaSxcIm1vdXNlZW50ZXJcIixmdW5jdGlvbihlKXt2YXIgdD1MKHRoaXMpLGE9dGhpcy5pbnB1dG1hc2suX3ZhbHVlR2V0KCk7YSE9PWdldEJ1ZmZlcigpLmpvaW4oXCJcIikmJnQudHJpZ2dlcihcInNldHZhbHVlXCIpfSkpfX12YXIgdD1lLmdldEF0dHJpYnV0ZShcInR5cGVcIiksYT1cIklOUFVUXCI9PT1lLnRhZ05hbWUmJi0xIT09TC5pbkFycmF5KHQsci5zdXBwb3J0c0lucHV0VHlwZSl8fGUuaXNDb250ZW50RWRpdGFibGV8fFwiVEVYVEFSRUFcIj09PWUudGFnTmFtZTtpZighYSlpZihcIklOUFVUXCI9PT1lLnRhZ05hbWUpe3ZhciBpPVMuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO2kuc2V0QXR0cmlidXRlKFwidHlwZVwiLHQpLGE9XCJ0ZXh0XCI9PT1pLnR5cGUsaT1udWxsfWVsc2UgYT1cInBhcnRpYWxcIjtyZXR1cm4hMSE9PWE/cGF0Y2hWYWx1ZVByb3BlcnR5KGUpOmUuaW5wdXRtYXNrPVYsYX1vLm9mZihlKTt2YXIgdD1pc0VsZW1lbnRUeXBlU3VwcG9ydGVkKGUsRik7aWYoITEhPT10JiYobj1MKGw9ZSkscj1sLnBsYWNlaG9sZGVyLC0xPT09KG09bCE9PVY/bC5tYXhMZW5ndGg6VikmJihtPVYpLCEwPT09Ri5jb2xvck1hc2smJmluaXRpYWxpemVDb2xvck1hc2sobCksUCYmKFwiaW5wdXRtb2RlXCJpbiBsJiYobC5pbnB1dG1vZGU9Ri5pbnB1dG1vZGUsbC5zZXRBdHRyaWJ1dGUoXCJpbnB1dG1vZGVcIixGLmlucHV0bW9kZSkpLCEwPT09Ri5kaXNhYmxlUHJlZGljdGl2ZVRleHQmJihcImF1dG9jb3JyZWN0XCJpbiBsP2wuYXV0b2NvcnJlY3Q9ITE6KCEwIT09Ri5jb2xvck1hc2smJmluaXRpYWxpemVDb2xvck1hc2sobCksbC50eXBlPVwicGFzc3dvcmRcIikpKSwhMD09PXQmJihsLnNldEF0dHJpYnV0ZShcImltLWluc2VydFwiLEYuaW5zZXJ0TW9kZSksby5vbihsLFwic3VibWl0XCIsdi5zdWJtaXRFdmVudCksby5vbihsLFwicmVzZXRcIix2LnJlc2V0RXZlbnQpLG8ub24obCxcImJsdXJcIix2LmJsdXJFdmVudCksby5vbihsLFwiZm9jdXNcIix2LmZvY3VzRXZlbnQpLCEwIT09Ri5jb2xvck1hc2smJihvLm9uKGwsXCJjbGlja1wiLHYuY2xpY2tFdmVudCksby5vbihsLFwibW91c2VsZWF2ZVwiLHYubW91c2VsZWF2ZUV2ZW50KSxvLm9uKGwsXCJtb3VzZWVudGVyXCIsdi5tb3VzZWVudGVyRXZlbnQpKSxvLm9uKGwsXCJwYXN0ZVwiLHYucGFzdGVFdmVudCksby5vbihsLFwiY3V0XCIsdi5jdXRFdmVudCksby5vbihsLFwiY29tcGxldGVcIixGLm9uY29tcGxldGUpLG8ub24obCxcImluY29tcGxldGVcIixGLm9uaW5jb21wbGV0ZSksby5vbihsLFwiY2xlYXJlZFwiLEYub25jbGVhcmVkKSxQfHwhMD09PUYuaW5wdXRFdmVudE9ubHk/bC5yZW1vdmVBdHRyaWJ1dGUoXCJtYXhMZW5ndGhcIik6KG8ub24obCxcImtleWRvd25cIix2LmtleWRvd25FdmVudCksby5vbihsLFwia2V5cHJlc3NcIix2LmtleXByZXNzRXZlbnQpKSxvLm9uKGwsXCJpbnB1dFwiLHYuaW5wdXRGYWxsQmFja0V2ZW50KSxvLm9uKGwsXCJiZWZvcmVpbnB1dFwiLHYuYmVmb3JlSW5wdXRFdmVudCkpLG8ub24obCxcInNldHZhbHVlXCIsdi5zZXRWYWx1ZUV2ZW50KSxkPWdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKSxcIlwiIT09bC5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKXx8ITE9PT1GLmNsZWFyTWFza09uTG9zdEZvY3VzfHxTLmFjdGl2ZUVsZW1lbnQ9PT1sKSl7dmFyIGE9TC5pc0Z1bmN0aW9uKEYub25CZWZvcmVNYXNrKSYmRi5vbkJlZm9yZU1hc2suY2FsbCh1LGwuaW5wdXRtYXNrLl92YWx1ZUdldCghMCksRil8fGwuaW5wdXRtYXNrLl92YWx1ZUdldCghMCk7XCJcIiE9PWEmJmNoZWNrVmFsKGwsITAsITEsYS5zcGxpdChcIlwiKSk7dmFyIGk9Z2V0QnVmZmVyKCkuc2xpY2UoKTtkPWkuam9pbihcIlwiKSwhMT09PWlzQ29tcGxldGUoaSkmJkYuY2xlYXJJbmNvbXBsZXRlJiZyZXNldE1hc2tTZXQoKSxGLmNsZWFyTWFza09uTG9zdEZvY3VzJiZTLmFjdGl2ZUVsZW1lbnQhPT1sJiYoLTE9PT1nZXRMYXN0VmFsaWRQb3NpdGlvbigpP2k9W106Y2xlYXJPcHRpb25hbFRhaWwoaSkpLCghMT09PUYuY2xlYXJNYXNrT25Mb3N0Rm9jdXN8fEYuc2hvd01hc2tPbkZvY3VzJiZTLmFjdGl2ZUVsZW1lbnQ9PT1sfHxcIlwiIT09bC5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKSkmJndyaXRlQnVmZmVyKGwsaSksUy5hY3RpdmVFbGVtZW50PT09bCYmY2FyZXQobCxzZWVrTmV4dChnZXRMYXN0VmFsaWRQb3NpdGlvbigpKSl9fShsKTticmVhaztjYXNlXCJmb3JtYXRcIjpyZXR1cm4gYT0oTC5pc0Z1bmN0aW9uKEYub25CZWZvcmVNYXNrKSYmRi5vbkJlZm9yZU1hc2suY2FsbCh1LGUudmFsdWUsRil8fGUudmFsdWUpLnNwbGl0KFwiXCIpLGNoZWNrVmFsLmNhbGwodGhpcyxWLCEwLCExLGEpLGUubWV0YWRhdGE/e3ZhbHVlOms/Z2V0QnVmZmVyKCkuc2xpY2UoKS5yZXZlcnNlKCkuam9pbihcIlwiKTpnZXRCdWZmZXIoKS5qb2luKFwiXCIpLG1ldGFkYXRhOm1hc2tTY29wZS5jYWxsKHRoaXMse2FjdGlvbjpcImdldG1ldGFkYXRhXCJ9LHQsRil9Oms/Z2V0QnVmZmVyKCkuc2xpY2UoKS5yZXZlcnNlKCkuam9pbihcIlwiKTpnZXRCdWZmZXIoKS5qb2luKFwiXCIpO2Nhc2VcImlzVmFsaWRcIjplLnZhbHVlPyhhPWUudmFsdWUuc3BsaXQoXCJcIiksY2hlY2tWYWwuY2FsbCh0aGlzLFYsITAsITAsYSkpOmUudmFsdWU9Z2V0QnVmZmVyKCkuam9pbihcIlwiKTtmb3IodmFyIHA9Z2V0QnVmZmVyKCksZz1kZXRlcm1pbmVMYXN0UmVxdWlyZWRQb3NpdGlvbigpLHk9cC5sZW5ndGgtMTtnPHkmJiFpc01hc2soeSk7eS0tKTtyZXR1cm4gcC5zcGxpY2UoZyx5KzEtZyksaXNDb21wbGV0ZShwKSYmZS52YWx1ZT09PWdldEJ1ZmZlcigpLmpvaW4oXCJcIik7Y2FzZVwiZ2V0ZW1wdHltYXNrXCI6cmV0dXJuIGdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKTtjYXNlXCJyZW1vdmVcIjpyZXR1cm4gbCYmbC5pbnB1dG1hc2smJihMLmRhdGEobCxcIl9pbnB1dG1hc2tfb3B0c1wiLG51bGwpLG49TChsKSxsLmlucHV0bWFzay5fdmFsdWVTZXQoRi5hdXRvVW5tYXNrP3VubWFza2VkdmFsdWUobCk6bC5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKSksby5vZmYobCksbC5pbnB1dG1hc2suY29sb3JNYXNrJiYoKGY9bC5pbnB1dG1hc2suY29sb3JNYXNrKS5yZW1vdmVDaGlsZChsKSxmLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGwsZiksZi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGYpKSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJiZPYmplY3QuZ2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QuZ2V0UHJvdG90eXBlT2YobCksXCJ2YWx1ZVwiKSYmbC5pbnB1dG1hc2suX192YWx1ZUdldCYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGwsXCJ2YWx1ZVwiLHtnZXQ6bC5pbnB1dG1hc2suX192YWx1ZUdldCxzZXQ6bC5pbnB1dG1hc2suX192YWx1ZVNldCxjb25maWd1cmFibGU6ITB9KTpTLl9fbG9va3VwR2V0dGVyX18mJmwuX19sb29rdXBHZXR0ZXJfXyhcInZhbHVlXCIpJiZsLmlucHV0bWFzay5fX3ZhbHVlR2V0JiYobC5fX2RlZmluZUdldHRlcl9fKFwidmFsdWVcIixsLmlucHV0bWFzay5fX3ZhbHVlR2V0KSxsLl9fZGVmaW5lU2V0dGVyX18oXCJ2YWx1ZVwiLGwuaW5wdXRtYXNrLl9fdmFsdWVTZXQpKSxsLmlucHV0bWFzaz1WKSxsO2Nhc2VcImdldG1ldGFkYXRhXCI6aWYoTC5pc0FycmF5KHQubWV0YWRhdGEpKXt2YXIgYj1nZXRNYXNrVGVtcGxhdGUoITAsMCwhMSkuam9pbihcIlwiKTtyZXR1cm4gTC5lYWNoKHQubWV0YWRhdGEsZnVuY3Rpb24oZSx0KXtpZih0Lm1hc2s9PT1iKXJldHVybiBiPXQsITF9KSxifXJldHVybiB0Lm1ldGFkYXRhfX1yZXR1cm4gSW5wdXRtYXNrLnByb3RvdHlwZT17ZGF0YUF0dHJpYnV0ZTpcImRhdGEtaW5wdXRtYXNrXCIsZGVmYXVsdHM6e3BsYWNlaG9sZGVyOlwiX1wiLG9wdGlvbmFsbWFya2VyOltcIltcIixcIl1cIl0scXVhbnRpZmllcm1hcmtlcjpbXCJ7XCIsXCJ9XCJdLGdyb3VwbWFya2VyOltcIihcIixcIilcIl0sYWx0ZXJuYXRvcm1hcmtlcjpcInxcIixlc2NhcGVDaGFyOlwiXFxcXFwiLG1hc2s6bnVsbCxyZWdleDpudWxsLG9uY29tcGxldGU6TC5ub29wLG9uaW5jb21wbGV0ZTpMLm5vb3Asb25jbGVhcmVkOkwubm9vcCxyZXBlYXQ6MCxncmVlZHk6ITEsYXV0b1VubWFzazohMSxyZW1vdmVNYXNrT25TdWJtaXQ6ITEsY2xlYXJNYXNrT25Mb3N0Rm9jdXM6ITAsaW5zZXJ0TW9kZTohMCxjbGVhckluY29tcGxldGU6ITEsYWxpYXM6bnVsbCxvbktleURvd246TC5ub29wLG9uQmVmb3JlTWFzazpudWxsLG9uQmVmb3JlUGFzdGU6ZnVuY3Rpb24gb25CZWZvcmVQYXN0ZShlLHQpe3JldHVybiBMLmlzRnVuY3Rpb24odC5vbkJlZm9yZU1hc2spP3Qub25CZWZvcmVNYXNrLmNhbGwodGhpcyxlLHQpOmV9LG9uQmVmb3JlV3JpdGU6bnVsbCxvblVuTWFzazpudWxsLHNob3dNYXNrT25Gb2N1czohMCxzaG93TWFza09uSG92ZXI6ITAsb25LZXlWYWxpZGF0aW9uOkwubm9vcCxza2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyOlwiIFwiLG51bWVyaWNJbnB1dDohMSxyaWdodEFsaWduOiExLHVuZG9PbkVzY2FwZTohMCxyYWRpeFBvaW50OlwiXCIsX3JhZGl4RGFuY2U6ITEsZ3JvdXBTZXBhcmF0b3I6XCJcIixrZWVwU3RhdGljOm51bGwscG9zaXRpb25DYXJldE9uVGFiOiEwLHRhYlRocm91Z2g6ITEsc3VwcG9ydHNJbnB1dFR5cGU6W1widGV4dFwiLFwidGVsXCIsXCJwYXNzd29yZFwiLFwic2VhcmNoXCJdLGlnbm9yYWJsZXM6WzgsOSwxMywxOSwyNywzMywzNCwzNSwzNiwzNywzOCwzOSw0MCw0NSw0Niw5MywxMTIsMTEzLDExNCwxMTUsMTE2LDExNywxMTgsMTE5LDEyMCwxMjEsMTIyLDEyMywwLDIyOV0saXNDb21wbGV0ZTpudWxsLHByZVZhbGlkYXRpb246bnVsbCxwb3N0VmFsaWRhdGlvbjpudWxsLHN0YXRpY0RlZmluaXRpb25TeW1ib2w6VixqaXRNYXNraW5nOiExLG51bGxhYmxlOiEwLGlucHV0RXZlbnRPbmx5OiExLG5vVmFsdWVQYXRjaGluZzohMSxwb3NpdGlvbkNhcmV0T25DbGljazpcImx2cFwiLGNhc2luZzpudWxsLGlucHV0bW9kZTpcInZlcmJhdGltXCIsY29sb3JNYXNrOiExLGRpc2FibGVQcmVkaWN0aXZlVGV4dDohMSxpbXBvcnREYXRhQXR0cmlidXRlczohMCxzaGlmdFBvc2l0aW9uczohMH0sZGVmaW5pdGlvbnM6ezk6e3ZhbGlkYXRvcjpcIlswLTlcXHVmZjExLVxcdWZmMTldXCIsZGVmaW5pdGlvblN5bWJvbDpcIipcIn0sYTp7dmFsaWRhdG9yOlwiW0EtWmEtelxcdTA0MTAtXFx1MDQ0ZlxcdTA0MDFcXHUwNDUxXFx4YzAtXFx4ZmZcXHhiNV1cIixkZWZpbml0aW9uU3ltYm9sOlwiKlwifSxcIipcIjp7dmFsaWRhdG9yOlwiWzAtOVxcdWZmMTEtXFx1ZmYxOUEtWmEtelxcdTA0MTAtXFx1MDQ0ZlxcdTA0MDFcXHUwNDUxXFx4YzAtXFx4ZmZcXHhiNV1cIn19LGFsaWFzZXM6e30sbWFza3NDYWNoZTp7fSxtYXNrOmZ1bmN0aW9uIG1hc2soZSl7dmFyIG49dGhpcztyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9Uy5nZXRFbGVtZW50QnlJZChlKXx8Uy5xdWVyeVNlbGVjdG9yQWxsKGUpKSxlPWUubm9kZU5hbWU/W2VdOmUsTC5lYWNoKGUsZnVuY3Rpb24oZSx0KXt2YXIgYT1MLmV4dGVuZCghMCx7fSxuLm9wdHMpO2lmKGZ1bmN0aW9uIGltcG9ydEF0dHJpYnV0ZU9wdGlvbnMoYSxlLGksbil7aWYoITA9PT1lLmltcG9ydERhdGFBdHRyaWJ1dGVzKXt2YXIgdCxyLHMsbyxsPWZ1bmN0aW9uIGltcG9ydE9wdGlvbihlLHQpe251bGwhPT0odD10IT09Vj90OmEuZ2V0QXR0cmlidXRlKG4rXCItXCIrZSkpJiYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJigwPT09ZS5pbmRleE9mKFwib25cIik/dD1NW3RdOlwiZmFsc2VcIj09PXQ/dD0hMTpcInRydWVcIj09PXQmJih0PSEwKSksaVtlXT10KX0sdT1hLmdldEF0dHJpYnV0ZShuKTtpZih1JiZcIlwiIT09dSYmKHU9dS5yZXBsYWNlKC8nL2csJ1wiJykscj1KU09OLnBhcnNlKFwie1wiK3UrXCJ9XCIpKSxyKWZvcihvIGluIHM9VixyKWlmKFwiYWxpYXNcIj09PW8udG9Mb3dlckNhc2UoKSl7cz1yW29dO2JyZWFrfWZvcih0IGluIGwoXCJhbGlhc1wiLHMpLGkuYWxpYXMmJnJlc29sdmVBbGlhcyhpLmFsaWFzLGksZSksZSl7aWYocilmb3IobyBpbiBzPVYscilpZihvLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCkpe3M9cltvXTticmVha31sKHQscyl9fXJldHVybiBMLmV4dGVuZCghMCxlLGkpLChcInJ0bFwiPT09YS5kaXJ8fGUucmlnaHRBbGlnbikmJihhLnN0eWxlLnRleHRBbGlnbj1cInJpZ2h0XCIpLChcInJ0bFwiPT09YS5kaXJ8fGUubnVtZXJpY0lucHV0KSYmKGEuZGlyPVwibHRyXCIsYS5yZW1vdmVBdHRyaWJ1dGUoXCJkaXJcIiksZS5pc1JUTD0hMCksT2JqZWN0LmtleXMoaSkubGVuZ3RofSh0LGEsTC5leHRlbmQoITAse30sbi51c2VyT3B0aW9ucyksbi5kYXRhQXR0cmlidXRlKSl7dmFyIGk9Z2VuZXJhdGVNYXNrU2V0KGEsbi5ub01hc2tzQ2FjaGUpO2khPT1WJiYodC5pbnB1dG1hc2shPT1WJiYodC5pbnB1dG1hc2sub3B0cy5hdXRvVW5tYXNrPSEwLHQuaW5wdXRtYXNrLnJlbW92ZSgpKSx0LmlucHV0bWFzaz1uZXcgSW5wdXRtYXNrKFYsViwhMCksdC5pbnB1dG1hc2sub3B0cz1hLHQuaW5wdXRtYXNrLm5vTWFza3NDYWNoZT1uLm5vTWFza3NDYWNoZSx0LmlucHV0bWFzay51c2VyT3B0aW9ucz1MLmV4dGVuZCghMCx7fSxuLnVzZXJPcHRpb25zKSx0LmlucHV0bWFzay5pc1JUTD1hLmlzUlRMfHxhLm51bWVyaWNJbnB1dCwodC5pbnB1dG1hc2suZWw9dCkuaW5wdXRtYXNrLm1hc2tzZXQ9aSxMLmRhdGEodCxcIl9pbnB1dG1hc2tfb3B0c1wiLGEpLG1hc2tTY29wZS5jYWxsKHQuaW5wdXRtYXNrLHthY3Rpb246XCJtYXNrXCJ9KSl9fSksZSYmZVswXSYmZVswXS5pbnB1dG1hc2t8fHRoaXN9LG9wdGlvbjpmdW5jdGlvbiBvcHRpb24oZSx0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT90aGlzLm9wdHNbZV06XCJvYmplY3RcIj09PSh2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6VChlKSk/KEwuZXh0ZW5kKHRoaXMudXNlck9wdGlvbnMsZSksdGhpcy5lbCYmITAhPT10JiZ0aGlzLm1hc2sodGhpcy5lbCksdGhpcyk6dm9pZCAwfSx1bm1hc2tlZHZhbHVlOmZ1bmN0aW9uIHVubWFza2VkdmFsdWUoZSl7cmV0dXJuIHRoaXMubWFza3NldD10aGlzLm1hc2tzZXR8fGdlbmVyYXRlTWFza1NldCh0aGlzLm9wdHMsdGhpcy5ub01hc2tzQ2FjaGUpLG1hc2tTY29wZS5jYWxsKHRoaXMse2FjdGlvbjpcInVubWFza2VkdmFsdWVcIix2YWx1ZTplfSl9LHJlbW92ZTpmdW5jdGlvbiByZW1vdmUoKXtyZXR1cm4gbWFza1Njb3BlLmNhbGwodGhpcyx7YWN0aW9uOlwicmVtb3ZlXCJ9KX0sZ2V0ZW1wdHltYXNrOmZ1bmN0aW9uIGdldGVtcHR5bWFzaygpe3JldHVybiB0aGlzLm1hc2tzZXQ9dGhpcy5tYXNrc2V0fHxnZW5lcmF0ZU1hc2tTZXQodGhpcy5vcHRzLHRoaXMubm9NYXNrc0NhY2hlKSxtYXNrU2NvcGUuY2FsbCh0aGlzLHthY3Rpb246XCJnZXRlbXB0eW1hc2tcIn0pfSxoYXNNYXNrZWRWYWx1ZTpmdW5jdGlvbiBoYXNNYXNrZWRWYWx1ZSgpe3JldHVybiF0aGlzLm9wdHMuYXV0b1VubWFza30saXNDb21wbGV0ZTpmdW5jdGlvbiBpc0NvbXBsZXRlKCl7cmV0dXJuIHRoaXMubWFza3NldD10aGlzLm1hc2tzZXR8fGdlbmVyYXRlTWFza1NldCh0aGlzLm9wdHMsdGhpcy5ub01hc2tzQ2FjaGUpLG1hc2tTY29wZS5jYWxsKHRoaXMse2FjdGlvbjpcImlzQ29tcGxldGVcIn0pfSxnZXRtZXRhZGF0YTpmdW5jdGlvbiBnZXRtZXRhZGF0YSgpe3JldHVybiB0aGlzLm1hc2tzZXQ9dGhpcy5tYXNrc2V0fHxnZW5lcmF0ZU1hc2tTZXQodGhpcy5vcHRzLHRoaXMubm9NYXNrc0NhY2hlKSxtYXNrU2NvcGUuY2FsbCh0aGlzLHthY3Rpb246XCJnZXRtZXRhZGF0YVwifSl9LGlzVmFsaWQ6ZnVuY3Rpb24gaXNWYWxpZChlKXtyZXR1cm4gdGhpcy5tYXNrc2V0PXRoaXMubWFza3NldHx8Z2VuZXJhdGVNYXNrU2V0KHRoaXMub3B0cyx0aGlzLm5vTWFza3NDYWNoZSksbWFza1Njb3BlLmNhbGwodGhpcyx7YWN0aW9uOlwiaXNWYWxpZFwiLHZhbHVlOmV9KX0sZm9ybWF0OmZ1bmN0aW9uIGZvcm1hdChlLHQpe3JldHVybiB0aGlzLm1hc2tzZXQ9dGhpcy5tYXNrc2V0fHxnZW5lcmF0ZU1hc2tTZXQodGhpcy5vcHRzLHRoaXMubm9NYXNrc0NhY2hlKSxtYXNrU2NvcGUuY2FsbCh0aGlzLHthY3Rpb246XCJmb3JtYXRcIix2YWx1ZTplLG1ldGFkYXRhOnR9KX0sc2V0VmFsdWU6ZnVuY3Rpb24gc2V0VmFsdWUoZSl7dGhpcy5lbCYmTCh0aGlzLmVsKS50cmlnZ2VyKFwic2V0dmFsdWVcIixbZV0pfSxhbmFseXNlTWFzazpmdW5jdGlvbiBhbmFseXNlTWFzayhlLHIscyl7dmFyIHQsYSxpLG4sbyxsLHU9Lyg/Ols/KitdfFxce1swLTlcXCtcXCpdKyg/OixbMC05XFwrXFwqXSopPyg/OlxcfFswLTlcXCtcXCpdKik/XFx9KXxbXi4/KiteJHtbXSgpfFxcXFxdK3wuL2csYz0vXFxbXFxeP10/KD86W15cXFxcXFxdXSt8XFxcXFtcXFNcXHNdPykqXT98XFxcXCg/OjAoPzpbMC0zXVswLTddezAsMn18WzQtN11bMC03XT8pP3xbMS05XVswLTldKnx4WzAtOUEtRmEtZl17Mn18dVswLTlBLUZhLWZdezR9fGNbQS1aYS16XXxbXFxTXFxzXT8pfFxcKCg/OlxcP1s6PSFdPyk/fCg/Ols/KitdfFxce1swLTldKyg/OixbMC05XSopP1xcfSlcXD8/fFteLj8qK14ke1soKXxcXFxcXSt8Li9nLHA9ITEsZj1uZXcgTWFza1Rva2VuLGc9W10sbT1bXTtmdW5jdGlvbiBNYXNrVG9rZW4oZSx0LGEsaSl7dGhpcy5tYXRjaGVzPVtdLHRoaXMub3Blbkdyb3VwPWV8fCExLHRoaXMuYWx0ZXJuYXRvckdyb3VwPSExLHRoaXMuaXNHcm91cD1lfHwhMSx0aGlzLmlzT3B0aW9uYWw9dHx8ITEsdGhpcy5pc1F1YW50aWZpZXI9YXx8ITEsdGhpcy5pc0FsdGVybmF0b3I9aXx8ITEsdGhpcy5xdWFudGlmaWVyPXttaW46MSxtYXg6MX19ZnVuY3Rpb24gaW5zZXJ0VGVzdERlZmluaXRpb24oYSxlLGkpe2k9aSE9PVY/aTphLm1hdGNoZXMubGVuZ3RoO3ZhciBuPWEubWF0Y2hlc1tpLTFdO2lmKHIpMD09PWUuaW5kZXhPZihcIltcIil8fHAmJi9cXFxcZHxcXFxcc3xcXFxcd10vaS50ZXN0KGUpfHxcIi5cIj09PWU/YS5tYXRjaGVzLnNwbGljZShpKyssMCx7Zm46bmV3IFJlZ0V4cChlLHMuY2FzaW5nP1wiaVwiOlwiXCIpLG9wdGlvbmFsaXR5OiExLG5ld0Jsb2NrTWFya2VyOm49PT1WP1wibWFzdGVyXCI6bi5kZWYhPT1lLGNhc2luZzpudWxsLGRlZjplLHBsYWNlaG9sZGVyOlYsbmF0aXZlRGVmOmV9KToocCYmKGU9ZVtlLmxlbmd0aC0xXSksTC5lYWNoKGUuc3BsaXQoXCJcIiksZnVuY3Rpb24oZSx0KXtuPWEubWF0Y2hlc1tpLTFdLGEubWF0Y2hlcy5zcGxpY2UoaSsrLDAse2ZuOm51bGwsb3B0aW9uYWxpdHk6ITEsbmV3QmxvY2tNYXJrZXI6bj09PVY/XCJtYXN0ZXJcIjpuLmRlZiE9PXQmJm51bGwhPT1uLmZuLGNhc2luZzpudWxsLGRlZjpzLnN0YXRpY0RlZmluaXRpb25TeW1ib2x8fHQscGxhY2Vob2xkZXI6cy5zdGF0aWNEZWZpbml0aW9uU3ltYm9sIT09Vj90OlYsbmF0aXZlRGVmOihwP1wiJ1wiOlwiXCIpK3R9KX0pKSxwPSExO2Vsc2V7dmFyIHQ9KHMuZGVmaW5pdGlvbnM/cy5kZWZpbml0aW9uc1tlXTpWKXx8SW5wdXRtYXNrLnByb3RvdHlwZS5kZWZpbml0aW9uc1tlXTt0JiYhcD9hLm1hdGNoZXMuc3BsaWNlKGkrKywwLHtmbjp0LnZhbGlkYXRvcj9cInN0cmluZ1wiPT10eXBlb2YgdC52YWxpZGF0b3I/bmV3IFJlZ0V4cCh0LnZhbGlkYXRvcixzLmNhc2luZz9cImlcIjpcIlwiKTpuZXcgZnVuY3Rpb24oKXt0aGlzLnRlc3Q9dC52YWxpZGF0b3J9Om5ldyBSZWdFeHAoXCIuXCIpLG9wdGlvbmFsaXR5OiExLG5ld0Jsb2NrTWFya2VyOm49PT1WP1wibWFzdGVyXCI6bi5kZWYhPT0odC5kZWZpbml0aW9uU3ltYm9sfHxlKSxjYXNpbmc6dC5jYXNpbmcsZGVmOnQuZGVmaW5pdGlvblN5bWJvbHx8ZSxwbGFjZWhvbGRlcjp0LnBsYWNlaG9sZGVyLG5hdGl2ZURlZjplfSk6KGEubWF0Y2hlcy5zcGxpY2UoaSsrLDAse2ZuOm51bGwsb3B0aW9uYWxpdHk6ITEsbmV3QmxvY2tNYXJrZXI6bj09PVY/XCJtYXN0ZXJcIjpuLmRlZiE9PWUmJm51bGwhPT1uLmZuLGNhc2luZzpudWxsLGRlZjpzLnN0YXRpY0RlZmluaXRpb25TeW1ib2x8fGUscGxhY2Vob2xkZXI6cy5zdGF0aWNEZWZpbml0aW9uU3ltYm9sIT09Vj9lOlYsbmF0aXZlRGVmOihwP1wiJ1wiOlwiXCIpK2V9KSxwPSExKX19ZnVuY3Rpb24gZGVmYXVsdENhc2UoKXtpZigwPGcubGVuZ3RoKXtpZihpbnNlcnRUZXN0RGVmaW5pdGlvbihuPWdbZy5sZW5ndGgtMV0sYSksbi5pc0FsdGVybmF0b3Ipe289Zy5wb3AoKTtmb3IodmFyIGU9MDtlPG8ubWF0Y2hlcy5sZW5ndGg7ZSsrKW8ubWF0Y2hlc1tlXS5pc0dyb3VwJiYoby5tYXRjaGVzW2VdLmlzR3JvdXA9ITEpOzA8Zy5sZW5ndGg/KG49Z1tnLmxlbmd0aC0xXSkubWF0Y2hlcy5wdXNoKG8pOmYubWF0Y2hlcy5wdXNoKG8pfX1lbHNlIGluc2VydFRlc3REZWZpbml0aW9uKGYsYSl9ZnVuY3Rpb24gZ3JvdXBpZnkoZSl7dmFyIHQ9bmV3IE1hc2tUb2tlbighMCk7cmV0dXJuIHQub3Blbkdyb3VwPSExLHQubWF0Y2hlcz1lLHR9Zm9yKHImJihzLm9wdGlvbmFsbWFya2VyWzBdPVYscy5vcHRpb25hbG1hcmtlclsxXT1WKTt0PXI/Yy5leGVjKGUpOnUuZXhlYyhlKTspe2lmKGE9dFswXSxyKXN3aXRjaChhLmNoYXJBdCgwKSl7Y2FzZVwiP1wiOmE9XCJ7MCwxfVwiO2JyZWFrO2Nhc2VcIitcIjpjYXNlXCIqXCI6YT1cIntcIithK1wifVwifWlmKHApZGVmYXVsdENhc2UoKTtlbHNlIHN3aXRjaChhLmNoYXJBdCgwKSl7Y2FzZVwiKD89XCI6Y2FzZVwiKD8hXCI6Y2FzZVwiKD88PVwiOmNhc2VcIig/PCFcIjpicmVhaztjYXNlIHMuZXNjYXBlQ2hhcjpwPSEwLHImJmRlZmF1bHRDYXNlKCk7YnJlYWs7Y2FzZSBzLm9wdGlvbmFsbWFya2VyWzFdOmNhc2Ugcy5ncm91cG1hcmtlclsxXTppZigoaT1nLnBvcCgpKS5vcGVuR3JvdXA9ITEsaSE9PVYpaWYoMDxnLmxlbmd0aCl7aWYoKG49Z1tnLmxlbmd0aC0xXSkubWF0Y2hlcy5wdXNoKGkpLG4uaXNBbHRlcm5hdG9yKXtvPWcucG9wKCk7Zm9yKHZhciBkPTA7ZDxvLm1hdGNoZXMubGVuZ3RoO2QrKylvLm1hdGNoZXNbZF0uaXNHcm91cD0hMSxvLm1hdGNoZXNbZF0uYWx0ZXJuYXRvckdyb3VwPSExOzA8Zy5sZW5ndGg/KG49Z1tnLmxlbmd0aC0xXSkubWF0Y2hlcy5wdXNoKG8pOmYubWF0Y2hlcy5wdXNoKG8pfX1lbHNlIGYubWF0Y2hlcy5wdXNoKGkpO2Vsc2UgZGVmYXVsdENhc2UoKTticmVhaztjYXNlIHMub3B0aW9uYWxtYXJrZXJbMF06Zy5wdXNoKG5ldyBNYXNrVG9rZW4oITEsITApKTticmVhaztjYXNlIHMuZ3JvdXBtYXJrZXJbMF06Zy5wdXNoKG5ldyBNYXNrVG9rZW4oITApKTticmVhaztjYXNlIHMucXVhbnRpZmllcm1hcmtlclswXTp2YXIgaz1uZXcgTWFza1Rva2VuKCExLCExLCEwKSxoPShhPWEucmVwbGFjZSgvW3t9XS9nLFwiXCIpKS5zcGxpdChcInxcIiksdj1oWzBdLnNwbGl0KFwiLFwiKSx5PWlzTmFOKHZbMF0pP3ZbMF06cGFyc2VJbnQodlswXSksYj0xPT09di5sZW5ndGg/eTppc05hTih2WzFdKT92WzFdOnBhcnNlSW50KHZbMV0pO1wiKlwiIT09eSYmXCIrXCIhPT15fHwoeT1cIipcIj09PWI/MDoxKSxrLnF1YW50aWZpZXI9e21pbjp5LG1heDpiLGppdDpoWzFdfTt2YXIgTT0wPGcubGVuZ3RoP2dbZy5sZW5ndGgtMV0ubWF0Y2hlczpmLm1hdGNoZXM7aWYoKHQ9TS5wb3AoKSkuaXNBbHRlcm5hdG9yKXtNLnB1c2godCksTT10Lm1hdGNoZXM7dmFyIFM9bmV3IE1hc2tUb2tlbighMCkseD1NLnBvcCgpO00ucHVzaChTKSxNPVMubWF0Y2hlcyx0PXh9dC5pc0dyb3VwfHwodD1ncm91cGlmeShbdF0pKSxNLnB1c2godCksTS5wdXNoKGspO2JyZWFrO2Nhc2Ugcy5hbHRlcm5hdG9ybWFya2VyOnZhciBQPWZ1bmN0aW9uIGdyb3VwUXVhbnRpZmllcihlKXt2YXIgdD1lLnBvcCgpO3JldHVybiB0LmlzUXVhbnRpZmllciYmKHQ9Z3JvdXBpZnkoW2UucG9wKCksdF0pKSx0fTtpZigwPGcubGVuZ3RoKXt2YXIgXz0obj1nW2cubGVuZ3RoLTFdKS5tYXRjaGVzW24ubWF0Y2hlcy5sZW5ndGgtMV07bD1uLm9wZW5Hcm91cCYmKF8ubWF0Y2hlcz09PVZ8fCExPT09Xy5pc0dyb3VwJiYhMT09PV8uaXNBbHRlcm5hdG9yKT9nLnBvcCgpOlAobi5tYXRjaGVzKX1lbHNlIGw9UChmLm1hdGNoZXMpO2lmKGwuaXNBbHRlcm5hdG9yKWcucHVzaChsKTtlbHNlIGlmKGwuYWx0ZXJuYXRvckdyb3VwPyhvPWcucG9wKCksbC5hbHRlcm5hdG9yR3JvdXA9ITEpOm89bmV3IE1hc2tUb2tlbighMSwhMSwhMSwhMCksby5tYXRjaGVzLnB1c2gobCksZy5wdXNoKG8pLGwub3Blbkdyb3VwKXt2YXIgRT1uZXcgTWFza1Rva2VuKCEobC5vcGVuR3JvdXA9ITEpKTtFLmFsdGVybmF0b3JHcm91cD0hMCxnLnB1c2goRSl9YnJlYWs7ZGVmYXVsdDpkZWZhdWx0Q2FzZSgpfX1mb3IoOzA8Zy5sZW5ndGg7KWk9Zy5wb3AoKSxmLm1hdGNoZXMucHVzaChpKTtyZXR1cm4gMDxmLm1hdGNoZXMubGVuZ3RoJiYoZnVuY3Rpb24gdmVyaWZ5R3JvdXBNYXJrZXIoaSl7aSYmaS5tYXRjaGVzJiZMLmVhY2goaS5tYXRjaGVzLGZ1bmN0aW9uKGUsdCl7dmFyIGE9aS5tYXRjaGVzW2UrMV07KGE9PT1WfHxhLm1hdGNoZXM9PT1WfHwhMT09PWEuaXNRdWFudGlmaWVyKSYmdCYmdC5pc0dyb3VwJiYodC5pc0dyb3VwPSExLHJ8fChpbnNlcnRUZXN0RGVmaW5pdGlvbih0LHMuZ3JvdXBtYXJrZXJbMF0sMCksITAhPT10Lm9wZW5Hcm91cCYmaW5zZXJ0VGVzdERlZmluaXRpb24odCxzLmdyb3VwbWFya2VyWzFdKSkpLHZlcmlmeUdyb3VwTWFya2VyKHQpfSl9KGYpLG0ucHVzaChmKSksKHMubnVtZXJpY0lucHV0fHxzLmlzUlRMKSYmZnVuY3Rpb24gcmV2ZXJzZVRva2VucyhlKXtmb3IodmFyIHQgaW4gZS5tYXRjaGVzPWUubWF0Y2hlcy5yZXZlcnNlKCksZS5tYXRjaGVzKWlmKGUubWF0Y2hlcy5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIGE9cGFyc2VJbnQodCk7aWYoZS5tYXRjaGVzW3RdLmlzUXVhbnRpZmllciYmZS5tYXRjaGVzW2ErMV0mJmUubWF0Y2hlc1thKzFdLmlzR3JvdXApe3ZhciBpPWUubWF0Y2hlc1t0XTtlLm1hdGNoZXMuc3BsaWNlKHQsMSksZS5tYXRjaGVzLnNwbGljZShhKzEsMCxpKX1lLm1hdGNoZXNbdF0ubWF0Y2hlcyE9PVY/ZS5tYXRjaGVzW3RdPXJldmVyc2VUb2tlbnMoZS5tYXRjaGVzW3RdKTplLm1hdGNoZXNbdF09KChuPWUubWF0Y2hlc1t0XSk9PT1zLm9wdGlvbmFsbWFya2VyWzBdP249cy5vcHRpb25hbG1hcmtlclsxXTpuPT09cy5vcHRpb25hbG1hcmtlclsxXT9uPXMub3B0aW9uYWxtYXJrZXJbMF06bj09PXMuZ3JvdXBtYXJrZXJbMF0/bj1zLmdyb3VwbWFya2VyWzFdOm49PT1zLmdyb3VwbWFya2VyWzFdJiYobj1zLmdyb3VwbWFya2VyWzBdKSxuKX12YXIgbjtyZXR1cm4gZX0obVswXSksbX19LElucHV0bWFzay5leHRlbmREZWZhdWx0cz1mdW5jdGlvbihlKXtMLmV4dGVuZCghMCxJbnB1dG1hc2sucHJvdG90eXBlLmRlZmF1bHRzLGUpfSxJbnB1dG1hc2suZXh0ZW5kRGVmaW5pdGlvbnM9ZnVuY3Rpb24oZSl7TC5leHRlbmQoITAsSW5wdXRtYXNrLnByb3RvdHlwZS5kZWZpbml0aW9ucyxlKX0sSW5wdXRtYXNrLmV4dGVuZEFsaWFzZXM9ZnVuY3Rpb24oZSl7TC5leHRlbmQoITAsSW5wdXRtYXNrLnByb3RvdHlwZS5hbGlhc2VzLGUpfSxJbnB1dG1hc2suZm9ybWF0PWZ1bmN0aW9uKGUsdCxhKXtyZXR1cm4gSW5wdXRtYXNrKHQpLmZvcm1hdChlLGEpfSxJbnB1dG1hc2sudW5tYXNrPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIElucHV0bWFzayh0KS51bm1hc2tlZHZhbHVlKGUpfSxJbnB1dG1hc2suaXNWYWxpZD1mdW5jdGlvbihlLHQpe3JldHVybiBJbnB1dG1hc2sodCkuaXNWYWxpZChlKX0sSW5wdXRtYXNrLnJlbW92ZT1mdW5jdGlvbihlKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9Uy5nZXRFbGVtZW50QnlJZChlKXx8Uy5xdWVyeVNlbGVjdG9yQWxsKGUpKSxlPWUubm9kZU5hbWU/W2VdOmUsTC5lYWNoKGUsZnVuY3Rpb24oZSx0KXt0LmlucHV0bWFzayYmdC5pbnB1dG1hc2sucmVtb3ZlKCl9KX0sSW5wdXRtYXNrLnNldFZhbHVlPWZ1bmN0aW9uKGUsYSl7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPVMuZ2V0RWxlbWVudEJ5SWQoZSl8fFMucXVlcnlTZWxlY3RvckFsbChlKSksZT1lLm5vZGVOYW1lP1tlXTplLEwuZWFjaChlLGZ1bmN0aW9uKGUsdCl7dC5pbnB1dG1hc2s/dC5pbnB1dG1hc2suc2V0VmFsdWUoYSk6TCh0KS50cmlnZ2VyKFwic2V0dmFsdWVcIixbYV0pfSl9LElucHV0bWFzay5lc2NhcGVSZWdleD1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoXFxcXFwiK1tcIi9cIixcIi5cIixcIipcIixcIitcIixcIj9cIixcInxcIixcIihcIixcIilcIixcIltcIixcIl1cIixcIntcIixcIn1cIixcIlxcXFxcIixcIiRcIixcIl5cIl0uam9pbihcInxcXFxcXCIpK1wiKVwiLFwiZ2ltXCIpLFwiXFxcXCQxXCIpfSxJbnB1dG1hc2sua2V5Q29kZT17QkFDS1NQQUNFOjgsQkFDS1NQQUNFX1NBRkFSSToxMjcsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LElOU0VSVDo0NSxMRUZUOjM3LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFJJR0hUOjM5LFNQQUNFOjMyLFRBQjo5LFVQOjM4LFg6ODgsQ09OVFJPTDoxN30sSW5wdXRtYXNrLmRlcGVuZGVuY3lMaWI9TCxNLklucHV0bWFzaz1JbnB1dG1hc2t9KGEoNCksYSg2KSl9LGZ1bmN0aW9uKGUsdCxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9YSg1KX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9X19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fNV9ffSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18sX3R5cGVvZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfTtfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXz1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Om5ldyhldmFsKFwicmVxdWlyZSgnanNkb20nKS5KU0RPTVwiKSkoXCJcIikud2luZG93fS5jYWxsKGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyxleHBvcnRzLG1vZHVsZSksdm9pZCAwPT09X19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX198fChtb2R1bGUuZXhwb3J0cz1fX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyl9LGZ1bmN0aW9uKGUsdCxhKXtcInVzZSBzdHJpY3RcIjt2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxvPWEoMyksbD1vLmRlcGVuZGVuY3lMaWIsYz17ZDpbXCJbMS05XXxbMTJdWzAtOV18M1swMV1cIixEYXRlLnByb3RvdHlwZS5zZXREYXRlLFwiZGF5XCIsRGF0ZS5wcm90b3R5cGUuZ2V0RGF0ZV0sZGQ6W1wiMFsxLTldfFsxMl1bMC05XXwzWzAxXVwiLERhdGUucHJvdG90eXBlLnNldERhdGUsXCJkYXlcIixmdW5jdGlvbigpe3JldHVybiBwYWQoRGF0ZS5wcm90b3R5cGUuZ2V0RGF0ZS5jYWxsKHRoaXMpLDIpfV0sZGRkOltcIlwiXSxkZGRkOltcIlwiXSxtOltcIlsxLTldfDFbMDEyXVwiLERhdGUucHJvdG90eXBlLnNldE1vbnRoLFwibW9udGhcIixmdW5jdGlvbigpe3JldHVybiBEYXRlLnByb3RvdHlwZS5nZXRNb250aC5jYWxsKHRoaXMpKzF9XSxtbTpbXCIwWzEtOV18MVswMTJdXCIsRGF0ZS5wcm90b3R5cGUuc2V0TW9udGgsXCJtb250aFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHBhZChEYXRlLnByb3RvdHlwZS5nZXRNb250aC5jYWxsKHRoaXMpKzEsMil9XSxtbW06W1wiXCJdLG1tbW06W1wiXCJdLHl5OltcIlswLTldezJ9XCIsRGF0ZS5wcm90b3R5cGUuc2V0RnVsbFllYXIsXCJ5ZWFyXCIsZnVuY3Rpb24oKXtyZXR1cm4gcGFkKERhdGUucHJvdG90eXBlLmdldEZ1bGxZZWFyLmNhbGwodGhpcyksMil9XSx5eXl5OltcIlswLTldezR9XCIsRGF0ZS5wcm90b3R5cGUuc2V0RnVsbFllYXIsXCJ5ZWFyXCIsZnVuY3Rpb24oKXtyZXR1cm4gcGFkKERhdGUucHJvdG90eXBlLmdldEZ1bGxZZWFyLmNhbGwodGhpcyksNCl9XSxoOltcIlsxLTldfDFbMC0yXVwiLERhdGUucHJvdG90eXBlLnNldEhvdXJzLFwiaG91cnNcIixEYXRlLnByb3RvdHlwZS5nZXRIb3Vyc10saGg6W1wiMFsxLTldfDFbMC0yXVwiLERhdGUucHJvdG90eXBlLnNldEhvdXJzLFwiaG91cnNcIixmdW5jdGlvbigpe3JldHVybiBwYWQoRGF0ZS5wcm90b3R5cGUuZ2V0SG91cnMuY2FsbCh0aGlzKSwyKX1dLGhoaDpbXCJbMC05XStcIixEYXRlLnByb3RvdHlwZS5zZXRIb3VycyxcImhvdXJzXCIsRGF0ZS5wcm90b3R5cGUuZ2V0SG91cnNdLEg6W1wiMT9bMC05XXwyWzAtM11cIixEYXRlLnByb3RvdHlwZS5zZXRIb3VycyxcImhvdXJzXCIsRGF0ZS5wcm90b3R5cGUuZ2V0SG91cnNdLEhIOltcIlswMV1bMC05XXwyWzAtM11cIixEYXRlLnByb3RvdHlwZS5zZXRIb3VycyxcImhvdXJzXCIsZnVuY3Rpb24oKXtyZXR1cm4gcGFkKERhdGUucHJvdG90eXBlLmdldEhvdXJzLmNhbGwodGhpcyksMil9XSxISEg6W1wiWzAtOV0rXCIsRGF0ZS5wcm90b3R5cGUuc2V0SG91cnMsXCJob3Vyc1wiLERhdGUucHJvdG90eXBlLmdldEhvdXJzXSxNOltcIlsxLTVdP1swLTldXCIsRGF0ZS5wcm90b3R5cGUuc2V0TWludXRlcyxcIm1pbnV0ZXNcIixEYXRlLnByb3RvdHlwZS5nZXRNaW51dGVzXSxNTTpbXCJbMC01XVswLTldXCIsRGF0ZS5wcm90b3R5cGUuc2V0TWludXRlcyxcIm1pbnV0ZXNcIixmdW5jdGlvbigpe3JldHVybiBwYWQoRGF0ZS5wcm90b3R5cGUuZ2V0TWludXRlcy5jYWxsKHRoaXMpLDIpfV0sczpbXCJbMS01XT9bMC05XVwiLERhdGUucHJvdG90eXBlLnNldFNlY29uZHMsXCJzZWNvbmRzXCIsRGF0ZS5wcm90b3R5cGUuZ2V0U2Vjb25kc10sc3M6W1wiWzAtNV1bMC05XVwiLERhdGUucHJvdG90eXBlLnNldFNlY29uZHMsXCJzZWNvbmRzXCIsZnVuY3Rpb24oKXtyZXR1cm4gcGFkKERhdGUucHJvdG90eXBlLmdldFNlY29uZHMuY2FsbCh0aGlzKSwyKX1dLGw6W1wiWzAtOV17M31cIixEYXRlLnByb3RvdHlwZS5zZXRNaWxsaXNlY29uZHMsXCJtaWxsaXNlY29uZHNcIixmdW5jdGlvbigpe3JldHVybiBwYWQoRGF0ZS5wcm90b3R5cGUuZ2V0TWlsbGlzZWNvbmRzLmNhbGwodGhpcyksMyl9XSxMOltcIlswLTldezJ9XCIsRGF0ZS5wcm90b3R5cGUuc2V0TWlsbGlzZWNvbmRzLFwibWlsbGlzZWNvbmRzXCIsZnVuY3Rpb24oKXtyZXR1cm4gcGFkKERhdGUucHJvdG90eXBlLmdldE1pbGxpc2Vjb25kcy5jYWxsKHRoaXMpLDIpfV0sdDpbXCJbYXBdXCJdLHR0OltcIlthcF1tXCJdLFQ6W1wiW0FQXVwiXSxUVDpbXCJbQVBdTVwiXSxaOltcIlwiXSxvOltcIlwiXSxTOltcIlwiXX0saT17aXNvRGF0ZTpcInl5eXktbW0tZGRcIixpc29UaW1lOlwiSEg6TU06c3NcIixpc29EYXRlVGltZTpcInl5eXktbW0tZGQnVCdISDpNTTpzc1wiLGlzb1V0Y0RhdGVUaW1lOlwiVVRDOnl5eXktbW0tZGQnVCdISDpNTTpzcydaJ1wifTtmdW5jdGlvbiBnZXRUb2tlbml6ZXIoZSl7aWYoIWUudG9rZW5pemVyKXt2YXIgdD1bXTtmb3IodmFyIGEgaW4gYyktMT09PXQuaW5kZXhPZihhWzBdKSYmdC5wdXNoKGFbMF0pO2UudG9rZW5pemVyPVwiKFwiK3Quam9pbihcIit8XCIpK1wiKSs/fC5cIixlLnRva2VuaXplcj1uZXcgUmVnRXhwKGUudG9rZW5pemVyLFwiZ1wiKX1yZXR1cm4gZS50b2tlbml6ZXJ9ZnVuY3Rpb24gcGFyc2UoZSx0LGEsaSl7Zm9yKHZhciBuLHI9XCJcIjtuPWdldFRva2VuaXplcihhKS5leGVjKGUpOyl7aWYodm9pZCAwPT09dClpZihjW25bMF1dKXIrPVwiKFwiK2NbblswXV1bMF0rXCIpXCI7ZWxzZSBzd2l0Y2goblswXSl7Y2FzZVwiW1wiOnIrPVwiKFwiO2JyZWFrO2Nhc2VcIl1cIjpyKz1cIik/XCI7YnJlYWs7ZGVmYXVsdDpyKz1vLmVzY2FwZVJlZ2V4KG5bMF0pfWVsc2UgaWYoY1tuWzBdXSlpZighMCE9PWkmJmNbblswXV1bM10pcis9Y1tuWzBdXVszXS5jYWxsKHQuZGF0ZSk7ZWxzZSBjW25bMF1dWzJdP3IrPXRbXCJyYXdcIitjW25bMF1dWzJdXTpyKz1uWzBdO2Vsc2Ugcis9blswXX1yZXR1cm4gcn1mdW5jdGlvbiBwYWQoZSx0KXtmb3IoZT1TdHJpbmcoZSksdD10fHwyO2UubGVuZ3RoPHQ7KWU9XCIwXCIrZTtyZXR1cm4gZX1mdW5jdGlvbiBhbmFseXNlTWFzayhlLHQscil7dmFyIHMsYSxpLG49e2RhdGU6bmV3IERhdGUoMSwwLDEpfSxvPWU7ZnVuY3Rpb24gc2V0VmFsdWUoZSx0LGEpe2Vbc109ZnVuY3Rpb24gZXh0ZW5kUHJvcGVydHkoZSl7dmFyIHQ9ZS5yZXBsYWNlKC9bXjAtOV0vZyxcIjBcIik7aWYodCE9ZSl7dmFyIGE9ZS5yZXBsYWNlKC9bXjAtOV0vZyxcIlwiKSxpPShyLm1pbiYmci5taW5bc118fGUpLnRvU3RyaW5nKCksbj0oci5tYXgmJnIubWF4W3NdfHxlKS50b1N0cmluZygpO3Q9YSsoYTxpLnNsaWNlKDAsYS5sZW5ndGgpP2kuc2xpY2UoYS5sZW5ndGgpOmE+bi5zbGljZSgwLGEubGVuZ3RoKT9uLnNsaWNlKGEubGVuZ3RoKTp0LnRvU3RyaW5nKCkuc2xpY2UoYS5sZW5ndGgpKX1yZXR1cm4gdH0odCksZVtcInJhd1wiK3NdPXQsdm9pZCAwIT09aSYmaS5jYWxsKGUuZGF0ZSxcIm1vbnRoXCI9PXM/cGFyc2VJbnQoZVtzXSktMTplW3NdKX1pZihcInN0cmluZ1wiPT10eXBlb2Ygbyl7Zm9yKDthPWdldFRva2VuaXplcihyKS5leGVjKHQpOyl7dmFyIGw9by5zbGljZSgwLGFbMF0ubGVuZ3RoKTtjLmhhc093blByb3BlcnR5KGFbMF0pJiYoY1thWzBdXVswXSxzPWNbYVswXV1bMl0saT1jW2FbMF1dWzFdLHNldFZhbHVlKG4sbCkpLG89by5zbGljZShsLmxlbmd0aCl9cmV0dXJuIG59aWYobyYmXCJvYmplY3RcIj09PSh2b2lkIDA9PT1vP1widW5kZWZpbmVkXCI6dShvKSkmJm8uaGFzT3duUHJvcGVydHkoXCJkYXRlXCIpKXJldHVybiBvfW8uZXh0ZW5kQWxpYXNlcyh7ZGF0ZXRpbWU6e21hc2s6ZnVuY3Rpb24gbWFzayhlKXtyZXR1cm4gYy5TPWUuaTE4bi5vcmRpbmFsU3VmZml4LmpvaW4oXCJ8XCIpLGUuaW5wdXRGb3JtYXQ9aVtlLmlucHV0Rm9ybWF0XXx8ZS5pbnB1dEZvcm1hdCxlLmRpc3BsYXlGb3JtYXQ9aVtlLmRpc3BsYXlGb3JtYXRdfHxlLmRpc3BsYXlGb3JtYXR8fGUuaW5wdXRGb3JtYXQsZS5vdXRwdXRGb3JtYXQ9aVtlLm91dHB1dEZvcm1hdF18fGUub3V0cHV0Rm9ybWF0fHxlLmlucHV0Rm9ybWF0LGUucGxhY2Vob2xkZXI9XCJcIiE9PWUucGxhY2Vob2xkZXI/ZS5wbGFjZWhvbGRlcjplLmlucHV0Rm9ybWF0LnJlcGxhY2UoL1tcXFtcXF1dLyxcIlwiKSxlLnJlZ2V4PXBhcnNlKGUuaW5wdXRGb3JtYXQsdm9pZCAwLGUpLG51bGx9LHBsYWNlaG9sZGVyOlwiXCIsaW5wdXRGb3JtYXQ6XCJpc29EYXRlVGltZVwiLGRpc3BsYXlGb3JtYXQ6dm9pZCAwLG91dHB1dEZvcm1hdDp2b2lkIDAsbWluOm51bGwsbWF4Om51bGwsaTE4bjp7ZGF5TmFtZXM6W1wiTW9uXCIsXCJUdWVcIixcIldlZFwiLFwiVGh1XCIsXCJGcmlcIixcIlNhdFwiLFwiU3VuXCIsXCJNb25kYXlcIixcIlR1ZXNkYXlcIixcIldlZG5lc2RheVwiLFwiVGh1cnNkYXlcIixcIkZyaWRheVwiLFwiU2F0dXJkYXlcIixcIlN1bmRheVwiXSxtb250aE5hbWVzOltcIkphblwiLFwiRmViXCIsXCJNYXJcIixcIkFwclwiLFwiTWF5XCIsXCJKdW5cIixcIkp1bFwiLFwiQXVnXCIsXCJTZXBcIixcIk9jdFwiLFwiTm92XCIsXCJEZWNcIixcIkphbnVhcnlcIixcIkZlYnJ1YXJ5XCIsXCJNYXJjaFwiLFwiQXByaWxcIixcIk1heVwiLFwiSnVuZVwiLFwiSnVseVwiLFwiQXVndXN0XCIsXCJTZXB0ZW1iZXJcIixcIk9jdG9iZXJcIixcIk5vdmVtYmVyXCIsXCJEZWNlbWJlclwiXSxvcmRpbmFsU3VmZml4OltcInN0XCIsXCJuZFwiLFwicmRcIixcInRoXCJdfSxwb3N0VmFsaWRhdGlvbjpmdW5jdGlvbiBwb3N0VmFsaWRhdGlvbihlLHQsYSxpKXtpLm1pbj1hbmFseXNlTWFzayhpLm1pbixpLmlucHV0Rm9ybWF0LGkpLGkubWF4PWFuYWx5c2VNYXNrKGkubWF4LGkuaW5wdXRGb3JtYXQsaSk7dmFyIG49YSxyPWFuYWx5c2VNYXNrKGUuam9pbihcIlwiKSxpLmlucHV0Rm9ybWF0LGkpO3JldHVybiBuJiZyLmRhdGUuZ2V0VGltZSgpPT1yLmRhdGUuZ2V0VGltZSgpJiYobj0obj1mdW5jdGlvbiBpc1ZhbGlkRGF0ZShlLHQpe3JldHVybighaXNGaW5pdGUoZS5yYXdkYXkpfHxcIjI5XCI9PWUuZGF5JiYhaXNGaW5pdGUoZS5yYXd5ZWFyKXx8bmV3IERhdGUoZS5kYXRlLmdldEZ1bGxZZWFyKCksaXNGaW5pdGUoZS5yYXdtb250aCk/ZS5tb250aDplLmRhdGUuZ2V0TW9udGgoKSsxLDApLmdldERhdGUoKT49ZS5kYXkpJiZ0fShyLG4pKSYmZnVuY3Rpb24gaXNEYXRlSW5SYW5nZShlLHQpe3ZhciBhPSEwO2lmKHQubWluKXtpZihlLnJhd3llYXIpe3ZhciBpPWUucmF3eWVhci5yZXBsYWNlKC9bXjAtOV0vZyxcIlwiKTthPXQubWluLnllYXIuc3Vic3RyKDAsaS5sZW5ndGgpPD1pfWUueWVhcj09PWUucmF3eWVhciYmdC5taW4uZGF0ZS5nZXRUaW1lKCk9PXQubWluLmRhdGUuZ2V0VGltZSgpJiYoYT10Lm1pbi5kYXRlLmdldFRpbWUoKTw9ZS5kYXRlLmdldFRpbWUoKSl9cmV0dXJuIGEmJnQubWF4JiZ0Lm1heC5kYXRlLmdldFRpbWUoKT09dC5tYXguZGF0ZS5nZXRUaW1lKCkmJihhPXQubWF4LmRhdGUuZ2V0VGltZSgpPj1lLmRhdGUuZ2V0VGltZSgpKSxhfShyLGkpKSx0JiZuJiZhLnBvcyE9PXQ/e2J1ZmZlcjpwYXJzZShpLmlucHV0Rm9ybWF0LHIsaSkscmVmcmVzaEZyb21CdWZmZXI6e3N0YXJ0OnQsZW5kOmEucG9zfX06bn0sb25LZXlEb3duOmZ1bmN0aW9uIG9uS2V5RG93bihlLHQsYSxpKXtpZihlLmN0cmxLZXkmJmUua2V5Q29kZT09PW8ua2V5Q29kZS5SSUdIVCl7Zm9yKHZhciBuLHI9bmV3IERhdGUscz1cIlwiO249Z2V0VG9rZW5pemVyKGkpLmV4ZWMoaS5pbnB1dEZvcm1hdCk7KVwiZFwiPT09blswXS5jaGFyQXQoMCk/cys9cGFkKHIuZ2V0RGF0ZSgpLG5bMF0ubGVuZ3RoKTpcIm1cIj09PW5bMF0uY2hhckF0KDApP3MrPXBhZChyLmdldE1vbnRoKCkrMSxuWzBdLmxlbmd0aCk6XCJ5eXl5XCI9PT1uWzBdP3MrPXIuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpOlwieVwiPT09blswXS5jaGFyQXQoMCkmJihzKz1wYWQoci5nZXRZZWFyKCksblswXS5sZW5ndGgpKTt0aGlzLmlucHV0bWFzay5fdmFsdWVTZXQocyksbCh0aGlzKS50cmlnZ2VyKFwic2V0dmFsdWVcIil9fSxvblVuTWFzazpmdW5jdGlvbiBvblVuTWFzayhlLHQsYSl7cmV0dXJuIHBhcnNlKGEub3V0cHV0Rm9ybWF0LGFuYWx5c2VNYXNrKGUsYS5pbnB1dEZvcm1hdCxhKSxhLCEwKX0sY2FzaW5nOmZ1bmN0aW9uIGNhc2luZyhlLHQsYSxpKXtyZXR1cm4gMD09dC5uYXRpdmVEZWYuaW5kZXhPZihcIlthcF1cIik/ZS50b0xvd2VyQ2FzZSgpOjA9PXQubmF0aXZlRGVmLmluZGV4T2YoXCJbQVBdXCIpP2UudG9VcHBlckNhc2UoKTplfSxpbnNlcnRNb2RlOiExLHNoaWZ0UG9zaXRpb25zOiExfX0pLGUuZXhwb3J0cz1vfSxmdW5jdGlvbihlLHQsYSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGs9YSgzKSxoPWsuZGVwZW5kZW5jeUxpYjtmdW5jdGlvbiBhdXRvRXNjYXBlKGUsdCl7Zm9yKHZhciBhPVwiXCIsaT0wO2k8ZS5sZW5ndGg7aSsrKWsucHJvdG90eXBlLmRlZmluaXRpb25zW2UuY2hhckF0KGkpXXx8dC5kZWZpbml0aW9uc1tlLmNoYXJBdChpKV18fHQub3B0aW9uYWxtYXJrZXIuc3RhcnQ9PT1lLmNoYXJBdChpKXx8dC5vcHRpb25hbG1hcmtlci5lbmQ9PT1lLmNoYXJBdChpKXx8dC5xdWFudGlmaWVybWFya2VyLnN0YXJ0PT09ZS5jaGFyQXQoaSl8fHQucXVhbnRpZmllcm1hcmtlci5lbmQ9PT1lLmNoYXJBdChpKXx8dC5ncm91cG1hcmtlci5zdGFydD09PWUuY2hhckF0KGkpfHx0Lmdyb3VwbWFya2VyLmVuZD09PWUuY2hhckF0KGkpfHx0LmFsdGVybmF0b3JtYXJrZXI9PT1lLmNoYXJBdChpKT9hKz1cIlxcXFxcIitlLmNoYXJBdChpKTphKz1lLmNoYXJBdChpKTtyZXR1cm4gYX1rLmV4dGVuZEFsaWFzZXMoe251bWVyaWM6e21hc2s6ZnVuY3Rpb24gbWFzayhlKXtpZigwIT09ZS5yZXBlYXQmJmlzTmFOKGUuaW50ZWdlckRpZ2l0cykmJihlLmludGVnZXJEaWdpdHM9ZS5yZXBlYXQpLGUucmVwZWF0PTAsZS5ncm91cFNlcGFyYXRvcj09PWUucmFkaXhQb2ludCYmZS5kaWdpdHMmJlwiMFwiIT09ZS5kaWdpdHMmJihcIi5cIj09PWUucmFkaXhQb2ludD9lLmdyb3VwU2VwYXJhdG9yPVwiLFwiOlwiLFwiPT09ZS5yYWRpeFBvaW50P2UuZ3JvdXBTZXBhcmF0b3I9XCIuXCI6ZS5ncm91cFNlcGFyYXRvcj1cIlwiKSxcIiBcIj09PWUuZ3JvdXBTZXBhcmF0b3ImJihlLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXI9dm9pZCAwKSxlLmF1dG9Hcm91cD1lLmF1dG9Hcm91cCYmXCJcIiE9PWUuZ3JvdXBTZXBhcmF0b3IsZS5hdXRvR3JvdXAmJihcInN0cmluZ1wiPT10eXBlb2YgZS5ncm91cFNpemUmJmlzRmluaXRlKGUuZ3JvdXBTaXplKSYmKGUuZ3JvdXBTaXplPXBhcnNlSW50KGUuZ3JvdXBTaXplKSksaXNGaW5pdGUoZS5pbnRlZ2VyRGlnaXRzKSkpe3ZhciB0PU1hdGguZmxvb3IoZS5pbnRlZ2VyRGlnaXRzL2UuZ3JvdXBTaXplKSxhPWUuaW50ZWdlckRpZ2l0cyVlLmdyb3VwU2l6ZTtlLmludGVnZXJEaWdpdHM9cGFyc2VJbnQoZS5pbnRlZ2VyRGlnaXRzKSsoMD09PWE/dC0xOnQpLGUuaW50ZWdlckRpZ2l0czwxJiYoZS5pbnRlZ2VyRGlnaXRzPVwiKlwiKX0xPGUucGxhY2Vob2xkZXIubGVuZ3RoJiYoZS5wbGFjZWhvbGRlcj1lLnBsYWNlaG9sZGVyLmNoYXJBdCgwKSksXCJyYWRpeEZvY3VzXCI9PT1lLnBvc2l0aW9uQ2FyZXRPbkNsaWNrJiZcIlwiPT09ZS5wbGFjZWhvbGRlciYmITE9PT1lLmludGVnZXJPcHRpb25hbCYmKGUucG9zaXRpb25DYXJldE9uQ2xpY2s9XCJsdnBcIiksZS5kZWZpbml0aW9uc1tcIjtcIl09ZS5kZWZpbml0aW9uc1tcIn5cIl0sZS5kZWZpbml0aW9uc1tcIjtcIl0uZGVmaW5pdGlvblN5bWJvbD1cIn5cIiwhMD09PWUubnVtZXJpY0lucHV0JiYoZS5wb3NpdGlvbkNhcmV0T25DbGljaz1cInJhZGl4Rm9jdXNcIj09PWUucG9zaXRpb25DYXJldE9uQ2xpY2s/XCJsdnBcIjplLnBvc2l0aW9uQ2FyZXRPbkNsaWNrLGUuZGlnaXRzT3B0aW9uYWw9ITEsaXNOYU4oZS5kaWdpdHMpJiYoZS5kaWdpdHM9MiksZS5kZWNpbWFsUHJvdGVjdD0hMSk7dmFyIG1hc2s9XCJbK11cIjtpZihtYXNrKz1hdXRvRXNjYXBlKGUucHJlZml4LGUpLCEwPT09ZS5pbnRlZ2VyT3B0aW9uYWw/bWFzays9XCJ+ezEsXCIrZS5pbnRlZ2VyRGlnaXRzK1wifVwiOm1hc2srPVwifntcIitlLmludGVnZXJEaWdpdHMrXCJ9XCIsdm9pZCAwIT09ZS5kaWdpdHMpe3ZhciBpPWUuZGVjaW1hbFByb3RlY3Q/XCI6XCI6ZS5yYWRpeFBvaW50LG49ZS5kaWdpdHMudG9TdHJpbmcoKS5zcGxpdChcIixcIik7aXNGaW5pdGUoblswXSkmJm5bMV0mJmlzRmluaXRlKG5bMV0pP21hc2srPWkrXCI7e1wiK2UuZGlnaXRzK1wifVwiOihpc05hTihlLmRpZ2l0cyl8fDA8cGFyc2VJbnQoZS5kaWdpdHMpKSYmKGUuZGlnaXRzT3B0aW9uYWw/bWFzays9XCJbXCIraStcIjt7MSxcIitlLmRpZ2l0cytcIn1dXCI6bWFzays9aStcIjt7XCIrZS5kaWdpdHMrXCJ9XCIpfXJldHVybiBtYXNrKz1hdXRvRXNjYXBlKGUuc3VmZml4LGUpLG1hc2srPVwiWy1dXCIsZS5ncmVlZHk9ITEsbWFza30scGxhY2Vob2xkZXI6XCJcIixncmVlZHk6ITEsZGlnaXRzOlwiKlwiLGRpZ2l0c09wdGlvbmFsOiEwLGVuZm9yY2VEaWdpdHNPbkJsdXI6ITEscmFkaXhQb2ludDpcIi5cIixwb3NpdGlvbkNhcmV0T25DbGljazpcInJhZGl4Rm9jdXNcIixncm91cFNpemU6Myxncm91cFNlcGFyYXRvcjpcIlwiLGF1dG9Hcm91cDohMSxhbGxvd01pbnVzOiEwLG5lZ2F0aW9uU3ltYm9sOntmcm9udDpcIi1cIixiYWNrOlwiXCJ9LGludGVnZXJEaWdpdHM6XCIrXCIsaW50ZWdlck9wdGlvbmFsOiEwLHByZWZpeDpcIlwiLHN1ZmZpeDpcIlwiLHJpZ2h0QWxpZ246ITAsZGVjaW1hbFByb3RlY3Q6ITAsbWluOm51bGwsbWF4Om51bGwsc3RlcDoxLGluc2VydE1vZGU6ITAsYXV0b1VubWFzazohMSx1bm1hc2tBc051bWJlcjohMSxpbnB1dFR5cGU6XCJ0ZXh0XCIsaW5wdXRtb2RlOlwibnVtZXJpY1wiLHByZVZhbGlkYXRpb246ZnVuY3Rpb24gcHJlVmFsaWRhdGlvbihlLHQsYSxpLG4scil7aWYoXCItXCI9PT1hfHxhPT09bi5uZWdhdGlvblN5bWJvbC5mcm9udClyZXR1cm4hMD09PW4uYWxsb3dNaW51cyYmKG4uaXNOZWdhdGl2ZT12b2lkIDA9PT1uLmlzTmVnYXRpdmV8fCFuLmlzTmVnYXRpdmUsXCJcIj09PWUuam9pbihcIlwiKXx8e2NhcmV0OnIudmFsaWRQb3NpdGlvbnNbdF0/dDp2b2lkIDAsZG9wb3N0OiEwfSk7aWYoITE9PT1pJiZhPT09bi5yYWRpeFBvaW50JiZ2b2lkIDAhPT1uLmRpZ2l0cyYmKGlzTmFOKG4uZGlnaXRzKXx8MDxwYXJzZUludChuLmRpZ2l0cykpKXt2YXIgcz1oLmluQXJyYXkobi5yYWRpeFBvaW50LGUpO2lmKC0xIT09cyYmdm9pZCAwIT09ci52YWxpZFBvc2l0aW9uc1tzXSlyZXR1cm4hMD09PW4ubnVtZXJpY0lucHV0P3Q9PT1zOntjYXJldDpzKzF9fXJldHVybiEwfSxwb3N0VmFsaWRhdGlvbjpmdW5jdGlvbiBwb3N0VmFsaWRhdGlvbihlLHQsYSxpKXt2YXIgbj1pLnN1ZmZpeC5zcGxpdChcIlwiKSxyPWkucHJlZml4LnNwbGl0KFwiXCIpO2lmKHZvaWQgMD09PWEucG9zJiZ2b2lkIDAhPT1hLmNhcmV0JiYhMCE9PWEuZG9wb3N0KXJldHVybiBhO3ZhciBzPXZvaWQgMCE9PWEuY2FyZXQ/YS5jYXJldDphLnBvcyxvPWUuc2xpY2UoKTtpLm51bWVyaWNJbnB1dCYmKHM9by5sZW5ndGgtcy0xLG89by5yZXZlcnNlKCkpO3ZhciBsPW9bc107aWYobD09PWkuZ3JvdXBTZXBhcmF0b3ImJihsPW9bcys9MV0pLHM9PT1vLmxlbmd0aC1pLnN1ZmZpeC5sZW5ndGgtMSYmbD09PWkucmFkaXhQb2ludClyZXR1cm4gYTt2b2lkIDAhPT1sJiZsIT09aS5yYWRpeFBvaW50JiZsIT09aS5uZWdhdGlvblN5bWJvbC5mcm9udCYmbCE9PWkubmVnYXRpb25TeW1ib2wuYmFjayYmKG9bc109XCI/XCIsMDxpLnByZWZpeC5sZW5ndGgmJnM+PSghMT09PWkuaXNOZWdhdGl2ZT8xOjApJiZzPGkucHJlZml4Lmxlbmd0aC0xKyghMT09PWkuaXNOZWdhdGl2ZT8xOjApP3Jbcy0oITE9PT1pLmlzTmVnYXRpdmU/MTowKV09XCI/XCI6MDxpLnN1ZmZpeC5sZW5ndGgmJnM+PW8ubGVuZ3RoLWkuc3VmZml4Lmxlbmd0aC0oITE9PT1pLmlzTmVnYXRpdmU/MTowKSYmKG5bcy0oby5sZW5ndGgtaS5zdWZmaXgubGVuZ3RoLSghMT09PWkuaXNOZWdhdGl2ZT8xOjApKV09XCI/XCIpKSxyPXIuam9pbihcIlwiKSxuPW4uam9pbihcIlwiKTt2YXIgdT1vLmpvaW4oXCJcIikucmVwbGFjZShyLFwiXCIpO2lmKHU9KHU9KHU9KHU9dS5yZXBsYWNlKG4sXCJcIikpLnJlcGxhY2UobmV3IFJlZ0V4cChrLmVzY2FwZVJlZ2V4KGkuZ3JvdXBTZXBhcmF0b3IpLFwiZ1wiKSxcIlwiKSkucmVwbGFjZShuZXcgUmVnRXhwKFwiWy1cIitrLmVzY2FwZVJlZ2V4KGkubmVnYXRpb25TeW1ib2wuZnJvbnQpK1wiXVwiLFwiZ1wiKSxcIlwiKSkucmVwbGFjZShuZXcgUmVnRXhwKGsuZXNjYXBlUmVnZXgoaS5uZWdhdGlvblN5bWJvbC5iYWNrKStcIiRcIiksXCJcIiksaXNOYU4oaS5wbGFjZWhvbGRlcikmJih1PXUucmVwbGFjZShuZXcgUmVnRXhwKGsuZXNjYXBlUmVnZXgoaS5wbGFjZWhvbGRlciksXCJnXCIpLFwiXCIpKSwxPHUubGVuZ3RoJiYxIT09dS5pbmRleE9mKGkucmFkaXhQb2ludCkmJihcIjBcIj09PWwmJih1PXUucmVwbGFjZSgvXlxcPy9nLFwiXCIpKSx1PXUucmVwbGFjZSgvXjAvZyxcIlwiKSksdS5jaGFyQXQoMCk9PT1pLnJhZGl4UG9pbnQmJlwiXCIhPT1pLnJhZGl4UG9pbnQmJiEwIT09aS5udW1lcmljSW5wdXQmJih1PVwiMFwiK3UpLFwiXCIhPT11KXtpZih1PXUuc3BsaXQoXCJcIiksKCFpLmRpZ2l0c09wdGlvbmFsfHxpLmVuZm9yY2VEaWdpdHNPbkJsdXImJlwiYmx1clwiPT09YS5ldmVudCkmJmlzRmluaXRlKGkuZGlnaXRzKSl7dmFyIGM9aC5pbkFycmF5KGkucmFkaXhQb2ludCx1KSxwPWguaW5BcnJheShpLnJhZGl4UG9pbnQsbyk7LTE9PT1jJiYodS5wdXNoKGkucmFkaXhQb2ludCksYz11Lmxlbmd0aC0xKTtmb3IodmFyIGY9MTtmPD1pLmRpZ2l0cztmKyspaS5kaWdpdHNPcHRpb25hbCYmKCFpLmVuZm9yY2VEaWdpdHNPbkJsdXJ8fFwiYmx1clwiIT09YS5ldmVudCl8fHZvaWQgMCE9PXVbYytmXSYmdVtjK2ZdIT09aS5wbGFjZWhvbGRlci5jaGFyQXQoMCk/LTEhPT1wJiZ2b2lkIDAhPT1vW3ArZl0mJih1W2MrZl09dVtjK2ZdfHxvW3ArZl0pOnVbYytmXT1hLnBsYWNlaG9sZGVyfHxpLnBsYWNlaG9sZGVyLmNoYXJBdCgwKX1pZighMCE9PWkuYXV0b0dyb3VwfHxcIlwiPT09aS5ncm91cFNlcGFyYXRvcnx8bD09PWkucmFkaXhQb2ludCYmdm9pZCAwPT09YS5wb3MmJiFhLmRvcG9zdCl1PXUuam9pbihcIlwiKTtlbHNle3ZhciBnPXVbdS5sZW5ndGgtMV09PT1pLnJhZGl4UG9pbnQmJmEuYz09PWkucmFkaXhQb2ludDt1PWsoZnVuY3Rpb24gYnVpbGRQb3N0TWFzayhlLHQpe3ZhciBhPVwiXCI7aWYoYSs9XCIoXCIrdC5ncm91cFNlcGFyYXRvcitcIip7XCIrdC5ncm91cFNpemUrXCJ9KXsqfVwiLFwiXCIhPT10LnJhZGl4UG9pbnQpe3ZhciBpPWUuam9pbihcIlwiKS5zcGxpdCh0LnJhZGl4UG9pbnQpO2lbMV0mJihhKz10LnJhZGl4UG9pbnQrXCIqe1wiK2lbMV0ubWF0Y2goL15cXGQqXFw/P1xcZCovKVswXS5sZW5ndGgrXCJ9XCIpfXJldHVybiBhfSh1LGkpLHtudW1lcmljSW5wdXQ6ITAsaml0TWFza2luZzohMCxkZWZpbml0aW9uczp7XCIqXCI6e3ZhbGlkYXRvcjpcIlswLTk/XVwiLGNhcmRpbmFsaXR5OjF9fX0pLmZvcm1hdCh1LmpvaW4oXCJcIikpLGcmJih1Kz1pLnJhZGl4UG9pbnQpLHUuY2hhckF0KDApPT09aS5ncm91cFNlcGFyYXRvciYmdS5zdWJzdHIoMSl9fWlmKGkuaXNOZWdhdGl2ZSYmXCJibHVyXCI9PT1hLmV2ZW50JiYoaS5pc05lZ2F0aXZlPVwiMFwiIT09dSksdT1yK3UsdSs9bixpLmlzTmVnYXRpdmUmJih1PWkubmVnYXRpb25TeW1ib2wuZnJvbnQrdSx1Kz1pLm5lZ2F0aW9uU3ltYm9sLmJhY2spLHU9dS5zcGxpdChcIlwiKSx2b2lkIDAhPT1sKWlmKGwhPT1pLnJhZGl4UG9pbnQmJmwhPT1pLm5lZ2F0aW9uU3ltYm9sLmZyb250JiZsIT09aS5uZWdhdGlvblN5bWJvbC5iYWNrKS0xPChzPWguaW5BcnJheShcIj9cIix1KSk/dVtzXT1sOnM9YS5jYXJldHx8MDtlbHNlIGlmKGw9PT1pLnJhZGl4UG9pbnR8fGw9PT1pLm5lZ2F0aW9uU3ltYm9sLmZyb250fHxsPT09aS5uZWdhdGlvblN5bWJvbC5iYWNrKXt2YXIgbT1oLmluQXJyYXkobCx1KTstMSE9PW0mJihzPW0pfWkubnVtZXJpY0lucHV0JiYocz11Lmxlbmd0aC1zLTEsdT11LnJldmVyc2UoKSk7dmFyIGQ9e2NhcmV0OnZvaWQgMCE9PWwmJnZvaWQgMD09PWEucG9zfHx2b2lkIDA9PT1zP3M6cysoaS5udW1lcmljSW5wdXQ/LTE6MSksYnVmZmVyOnUscmVmcmVzaEZyb21CdWZmZXI6YS5kb3Bvc3R8fGUuam9pbihcIlwiKSE9PXUuam9pbihcIlwiKX07cmV0dXJuIGQucmVmcmVzaEZyb21CdWZmZXI/ZDphfSxvbkJlZm9yZVdyaXRlOmZ1bmN0aW9uIG9uQmVmb3JlV3JpdGUoZSx0LGEsaSl7aWYoZSlzd2l0Y2goZS50eXBlKXtjYXNlXCJrZXlkb3duXCI6cmV0dXJuIGkucG9zdFZhbGlkYXRpb24odCxhLHtjYXJldDphLGRvcG9zdDohMH0saSk7Y2FzZVwiYmx1clwiOmNhc2VcImNoZWNrdmFsXCI6dmFyIG47aWYoZnVuY3Rpb24gcGFyc2VNaW5NYXhPcHRpb25zKGUpe3ZvaWQgMD09PWUucGFyc2VNaW5NYXhPcHRpb25zJiYobnVsbCE9PWUubWluJiYoZS5taW49ZS5taW4udG9TdHJpbmcoKS5yZXBsYWNlKG5ldyBSZWdFeHAoay5lc2NhcGVSZWdleChlLmdyb3VwU2VwYXJhdG9yKSxcImdcIiksXCJcIiksXCIsXCI9PT1lLnJhZGl4UG9pbnQmJihlLm1pbj1lLm1pbi5yZXBsYWNlKGUucmFkaXhQb2ludCxcIi5cIikpLGUubWluPWlzRmluaXRlKGUubWluKT9wYXJzZUZsb2F0KGUubWluKTpOYU4saXNOYU4oZS5taW4pJiYoZS5taW49TnVtYmVyLk1JTl9WQUxVRSkpLG51bGwhPT1lLm1heCYmKGUubWF4PWUubWF4LnRvU3RyaW5nKCkucmVwbGFjZShuZXcgUmVnRXhwKGsuZXNjYXBlUmVnZXgoZS5ncm91cFNlcGFyYXRvciksXCJnXCIpLFwiXCIpLFwiLFwiPT09ZS5yYWRpeFBvaW50JiYoZS5tYXg9ZS5tYXgucmVwbGFjZShlLnJhZGl4UG9pbnQsXCIuXCIpKSxlLm1heD1pc0Zpbml0ZShlLm1heCk/cGFyc2VGbG9hdChlLm1heCk6TmFOLGlzTmFOKGUubWF4KSYmKGUubWF4PU51bWJlci5NQVhfVkFMVUUpKSxlLnBhcnNlTWluTWF4T3B0aW9ucz1cImRvbmVcIil9KGkpLG51bGwhPT1pLm1pbnx8bnVsbCE9PWkubWF4KXtpZihuPWkub25Vbk1hc2sodC5qb2luKFwiXCIpLHZvaWQgMCxoLmV4dGVuZCh7fSxpLHt1bm1hc2tBc051bWJlcjohMH0pKSxudWxsIT09aS5taW4mJm48aS5taW4pcmV0dXJuIGkuaXNOZWdhdGl2ZT1pLm1pbjwwLGkucG9zdFZhbGlkYXRpb24oaS5taW4udG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLGkucmFkaXhQb2ludCkuc3BsaXQoXCJcIiksYSx7Y2FyZXQ6YSxkb3Bvc3Q6ITAscGxhY2Vob2xkZXI6XCIwXCJ9LGkpO2lmKG51bGwhPT1pLm1heCYmbj5pLm1heClyZXR1cm4gaS5pc05lZ2F0aXZlPWkubWF4PDAsaS5wb3N0VmFsaWRhdGlvbihpLm1heC50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsaS5yYWRpeFBvaW50KS5zcGxpdChcIlwiKSxhLHtjYXJldDphLGRvcG9zdDohMCxwbGFjZWhvbGRlcjpcIjBcIn0saSl9cmV0dXJuIGkucG9zdFZhbGlkYXRpb24odCxhLHtjYXJldDphLHBsYWNlaG9sZGVyOlwiMFwiLGV2ZW50OlwiYmx1clwifSxpKTtjYXNlXCJfY2hlY2t2YWxcIjpyZXR1cm57Y2FyZXQ6YX19fSxyZWdleDp7aW50ZWdlclBhcnQ6ZnVuY3Rpb24gaW50ZWdlclBhcnQoZSx0KXtyZXR1cm4gdD9uZXcgUmVnRXhwKFwiW1wiK2suZXNjYXBlUmVnZXgoZS5uZWdhdGlvblN5bWJvbC5mcm9udCkrXCIrXT9cIik6bmV3IFJlZ0V4cChcIltcIitrLmVzY2FwZVJlZ2V4KGUubmVnYXRpb25TeW1ib2wuZnJvbnQpK1wiK10/XFxcXGQrXCIpfSxpbnRlZ2VyTlBhcnQ6ZnVuY3Rpb24gaW50ZWdlck5QYXJ0KGUpe3JldHVybiBuZXcgUmVnRXhwKFwiW1xcXFxkXCIray5lc2NhcGVSZWdleChlLmdyb3VwU2VwYXJhdG9yKStrLmVzY2FwZVJlZ2V4KGUucGxhY2Vob2xkZXIuY2hhckF0KDApKStcIl0rXCIpfX0sZGVmaW5pdGlvbnM6e1wiflwiOnt2YWxpZGF0b3I6ZnVuY3Rpb24gdmFsaWRhdG9yKGUsdCxhLGksbixyKXt2YXIgcztpZihcImtcIj09PWV8fFwibVwiPT09ZSl7cz17aW5zZXJ0OltdLGM6MH07Zm9yKHZhciBvPTAsbD1cImtcIj09PWU/Mjo1O288bDtvKyspcy5pbnNlcnQucHVzaCh7cG9zOmErbyxjOjB9KTtyZXR1cm4gcy5wb3M9YStsLHN9aWYoITA9PT0ocz1pP25ldyBSZWdFeHAoXCJbMC05XCIray5lc2NhcGVSZWdleChuLmdyb3VwU2VwYXJhdG9yKStcIl1cIikudGVzdChlKTpuZXcgUmVnRXhwKFwiWzAtOV1cIikudGVzdChlKSkpe2lmKCEwIT09bi5udW1lcmljSW5wdXQmJnZvaWQgMCE9PXQudmFsaWRQb3NpdGlvbnNbYV0mJlwiflwiPT09dC52YWxpZFBvc2l0aW9uc1thXS5tYXRjaC5kZWYmJiFyKXt2YXIgdT10LmJ1ZmZlci5qb2luKFwiXCIpLGM9KHU9KHU9dS5yZXBsYWNlKG5ldyBSZWdFeHAoXCJbLVwiK2suZXNjYXBlUmVnZXgobi5uZWdhdGlvblN5bWJvbC5mcm9udCkrXCJdXCIsXCJnXCIpLFwiXCIpKS5yZXBsYWNlKG5ldyBSZWdFeHAoay5lc2NhcGVSZWdleChuLm5lZ2F0aW9uU3ltYm9sLmJhY2spK1wiJFwiKSxcIlwiKSkuc3BsaXQobi5yYWRpeFBvaW50KTsxPGMubGVuZ3RoJiYoY1sxXT1jWzFdLnJlcGxhY2UoLzAvZyxuLnBsYWNlaG9sZGVyLmNoYXJBdCgwKSkpLFwiMFwiPT09Y1swXSYmKGNbMF09Y1swXS5yZXBsYWNlKC8wL2csbi5wbGFjZWhvbGRlci5jaGFyQXQoMCkpKSx1PWNbMF0rbi5yYWRpeFBvaW50K2NbMV18fFwiXCI7dmFyIHA9dC5fYnVmZmVyLmpvaW4oXCJcIik7Zm9yKHU9PT1uLnJhZGl4UG9pbnQmJih1PXApO251bGw9PT11Lm1hdGNoKGsuZXNjYXBlUmVnZXgocCkrXCIkXCIpOylwPXAuc2xpY2UoMSk7cz12b2lkIDA9PT0odT0odT11LnJlcGxhY2UocCxcIlwiKSkuc3BsaXQoXCJcIikpW2FdP3twb3M6YSxyZW1vdmU6YX06e3BvczphfX19ZWxzZSBpfHxlIT09bi5yYWRpeFBvaW50fHx2b2lkIDAhPT10LnZhbGlkUG9zaXRpb25zW2EtMV18fChzPXtpbnNlcnQ6e3BvczphLGM6MH0scG9zOmErMX0pO3JldHVybiBzfSxjYXJkaW5hbGl0eToxfSxcIitcIjp7dmFsaWRhdG9yOmZ1bmN0aW9uIHZhbGlkYXRvcihlLHQsYSxpLG4pe3JldHVybiBuLmFsbG93TWludXMmJihcIi1cIj09PWV8fGU9PT1uLm5lZ2F0aW9uU3ltYm9sLmZyb250KX0sY2FyZGluYWxpdHk6MSxwbGFjZWhvbGRlcjpcIlwifSxcIi1cIjp7dmFsaWRhdG9yOmZ1bmN0aW9uIHZhbGlkYXRvcihlLHQsYSxpLG4pe3JldHVybiBuLmFsbG93TWludXMmJmU9PT1uLm5lZ2F0aW9uU3ltYm9sLmJhY2t9LGNhcmRpbmFsaXR5OjEscGxhY2Vob2xkZXI6XCJcIn0sXCI6XCI6e3ZhbGlkYXRvcjpmdW5jdGlvbiB2YWxpZGF0b3IoZSx0LGEsaSxuKXt2YXIgcj1cIltcIitrLmVzY2FwZVJlZ2V4KG4ucmFkaXhQb2ludCkrXCJdXCIscz1uZXcgUmVnRXhwKHIpLnRlc3QoZSk7cmV0dXJuIHMmJnQudmFsaWRQb3NpdGlvbnNbYV0mJnQudmFsaWRQb3NpdGlvbnNbYV0ubWF0Y2gucGxhY2Vob2xkZXI9PT1uLnJhZGl4UG9pbnQmJihzPXtjYXJldDphKzF9KSxzfSxjYXJkaW5hbGl0eToxLHBsYWNlaG9sZGVyOmZ1bmN0aW9uIHBsYWNlaG9sZGVyKGUpe3JldHVybiBlLnJhZGl4UG9pbnR9fX0sb25Vbk1hc2s6ZnVuY3Rpb24gb25Vbk1hc2soZSx0LGEpe2lmKFwiXCI9PT10JiYhMD09PWEubnVsbGFibGUpcmV0dXJuIHQ7dmFyIGk9ZS5yZXBsYWNlKGEucHJlZml4LFwiXCIpO3JldHVybiBpPShpPWkucmVwbGFjZShhLnN1ZmZpeCxcIlwiKSkucmVwbGFjZShuZXcgUmVnRXhwKGsuZXNjYXBlUmVnZXgoYS5ncm91cFNlcGFyYXRvciksXCJnXCIpLFwiXCIpLFwiXCIhPT1hLnBsYWNlaG9sZGVyLmNoYXJBdCgwKSYmKGk9aS5yZXBsYWNlKG5ldyBSZWdFeHAoYS5wbGFjZWhvbGRlci5jaGFyQXQoMCksXCJnXCIpLFwiMFwiKSksYS51bm1hc2tBc051bWJlcj8oXCJcIiE9PWEucmFkaXhQb2ludCYmLTEhPT1pLmluZGV4T2YoYS5yYWRpeFBvaW50KSYmKGk9aS5yZXBsYWNlKGsuZXNjYXBlUmVnZXguY2FsbCh0aGlzLGEucmFkaXhQb2ludCksXCIuXCIpKSxpPShpPWkucmVwbGFjZShuZXcgUmVnRXhwKFwiXlwiK2suZXNjYXBlUmVnZXgoYS5uZWdhdGlvblN5bWJvbC5mcm9udCkpLFwiLVwiKSkucmVwbGFjZShuZXcgUmVnRXhwKGsuZXNjYXBlUmVnZXgoYS5uZWdhdGlvblN5bWJvbC5iYWNrKStcIiRcIiksXCJcIiksTnVtYmVyKGkpKTppfSxpc0NvbXBsZXRlOmZ1bmN0aW9uIGlzQ29tcGxldGUoZSx0KXt2YXIgYT0odC5udW1lcmljSW5wdXQ/ZS5zbGljZSgpLnJldmVyc2UoKTplKS5qb2luKFwiXCIpO3JldHVybiBhPShhPShhPShhPShhPWEucmVwbGFjZShuZXcgUmVnRXhwKFwiXlwiK2suZXNjYXBlUmVnZXgodC5uZWdhdGlvblN5bWJvbC5mcm9udCkpLFwiLVwiKSkucmVwbGFjZShuZXcgUmVnRXhwKGsuZXNjYXBlUmVnZXgodC5uZWdhdGlvblN5bWJvbC5iYWNrKStcIiRcIiksXCJcIikpLnJlcGxhY2UodC5wcmVmaXgsXCJcIikpLnJlcGxhY2UodC5zdWZmaXgsXCJcIikpLnJlcGxhY2UobmV3IFJlZ0V4cChrLmVzY2FwZVJlZ2V4KHQuZ3JvdXBTZXBhcmF0b3IpK1wiKFswLTldezN9KVwiLFwiZ1wiKSxcIiQxXCIpLFwiLFwiPT09dC5yYWRpeFBvaW50JiYoYT1hLnJlcGxhY2Uoay5lc2NhcGVSZWdleCh0LnJhZGl4UG9pbnQpLFwiLlwiKSksaXNGaW5pdGUoYSl9LG9uQmVmb3JlTWFzazpmdW5jdGlvbiBvbkJlZm9yZU1hc2soZSx0KXt0LmlzTmVnYXRpdmU9dm9pZCAwO3ZhciBhPXQucmFkaXhQb2ludHx8XCIsXCI7XCJudW1iZXJcIiE9dHlwZW9mIGUmJlwibnVtYmVyXCIhPT10LmlucHV0VHlwZXx8XCJcIj09PWF8fChlPWUudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLGEpKTt2YXIgaT1lLnNwbGl0KGEpLG49aVswXS5yZXBsYWNlKC9bXlxcLTAtOV0vZyxcIlwiKSxyPTE8aS5sZW5ndGg/aVsxXS5yZXBsYWNlKC9bXjAtOV0vZyxcIlwiKTpcIlwiO2U9bisoXCJcIiE9PXI/YStyOnIpO3ZhciBzPTA7aWYoXCJcIiE9PWEmJihzPXIubGVuZ3RoLFwiXCIhPT1yKSl7dmFyIG89TWF0aC5wb3coMTAsc3x8MSk7aXNGaW5pdGUodC5kaWdpdHMpJiYocz1wYXJzZUludCh0LmRpZ2l0cyksbz1NYXRoLnBvdygxMCxzKSksZT1lLnJlcGxhY2Uoay5lc2NhcGVSZWdleChhKSxcIi5cIiksaXNGaW5pdGUoZSkmJihlPU1hdGgucm91bmQocGFyc2VGbG9hdChlKSpvKS9vKSxlPWUudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLGEpfXJldHVybiAwPT09dC5kaWdpdHMmJi0xIT09ZS5pbmRleE9mKGsuZXNjYXBlUmVnZXgoYSkpJiYoZT1lLnN1YnN0cmluZygwLGUuaW5kZXhPZihrLmVzY2FwZVJlZ2V4KGEpKSkpLGZ1bmN0aW9uIGFsaWduRGlnaXRzKGUsdCxhKXtpZigwPHQpe3ZhciBpPWguaW5BcnJheShhLnJhZGl4UG9pbnQsZSk7LTE9PT1pJiYoZS5wdXNoKGEucmFkaXhQb2ludCksaT1lLmxlbmd0aC0xKTtmb3IodmFyIG49MTtuPD10O24rKyllW2krbl09ZVtpK25dfHxcIjBcIn1yZXR1cm4gZX0oZS50b1N0cmluZygpLnNwbGl0KFwiXCIpLHMsdCkuam9pbihcIlwiKX0sb25LZXlEb3duOmZ1bmN0aW9uIG9uS2V5RG93bihlLHQsYSxpKXt2YXIgbj1oKHRoaXMpO2lmKGUuY3RybEtleSlzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIGsua2V5Q29kZS5VUDpuLnZhbChwYXJzZUZsb2F0KHRoaXMuaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKSkrcGFyc2VJbnQoaS5zdGVwKSksbi50cmlnZ2VyKFwic2V0dmFsdWVcIik7YnJlYWs7Y2FzZSBrLmtleUNvZGUuRE9XTjpuLnZhbChwYXJzZUZsb2F0KHRoaXMuaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKSktcGFyc2VJbnQoaS5zdGVwKSksbi50cmlnZ2VyKFwic2V0dmFsdWVcIil9fX0sY3VycmVuY3k6e3ByZWZpeDpcIiQgXCIsZ3JvdXBTZXBhcmF0b3I6XCIsXCIsYWxpYXM6XCJudW1lcmljXCIscGxhY2Vob2xkZXI6XCIwXCIsYXV0b0dyb3VwOiEwLGRpZ2l0czoyLGRpZ2l0c09wdGlvbmFsOiExLGNsZWFyTWFza09uTG9zdEZvY3VzOiExfSxkZWNpbWFsOnthbGlhczpcIm51bWVyaWNcIn0saW50ZWdlcjp7YWxpYXM6XCJudW1lcmljXCIsZGlnaXRzOjAscmFkaXhQb2ludDpcIlwifSxwZXJjZW50YWdlOnthbGlhczpcIm51bWVyaWNcIixkaWdpdHM6MixkaWdpdHNPcHRpb25hbDohMCxyYWRpeFBvaW50OlwiLlwiLHBsYWNlaG9sZGVyOlwiMFwiLGF1dG9Hcm91cDohMSxtaW46MCxtYXg6MTAwLHN1ZmZpeDpcIiAlXCIsYWxsb3dNaW51czohMX19KSxlLmV4cG9ydHM9a30sZnVuY3Rpb24oZSx0LGEpe1widXNlIHN0cmljdFwiO3ZhciBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LHI9YSg1KSxzPWEoMyk7dm9pZCAwPT09ci5mbi5pbnB1dG1hc2smJihyLmZuLmlucHV0bWFzaz1mdW5jdGlvbihlLHQpe3ZhciBhLGk9dGhpc1swXTtpZih2b2lkIDA9PT10JiYodD17fSksXCJzdHJpbmdcIj09dHlwZW9mIGUpc3dpdGNoKGUpe2Nhc2VcInVubWFza2VkdmFsdWVcIjpyZXR1cm4gaSYmaS5pbnB1dG1hc2s/aS5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpOnIoaSkudmFsKCk7Y2FzZVwicmVtb3ZlXCI6cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3RoaXMuaW5wdXRtYXNrJiZ0aGlzLmlucHV0bWFzay5yZW1vdmUoKX0pO2Nhc2VcImdldGVtcHR5bWFza1wiOnJldHVybiBpJiZpLmlucHV0bWFzaz9pLmlucHV0bWFzay5nZXRlbXB0eW1hc2soKTpcIlwiO2Nhc2VcImhhc01hc2tlZFZhbHVlXCI6cmV0dXJuISghaXx8IWkuaW5wdXRtYXNrKSYmaS5pbnB1dG1hc2suaGFzTWFza2VkVmFsdWUoKTtjYXNlXCJpc0NvbXBsZXRlXCI6cmV0dXJuIWl8fCFpLmlucHV0bWFza3x8aS5pbnB1dG1hc2suaXNDb21wbGV0ZSgpO2Nhc2VcImdldG1ldGFkYXRhXCI6cmV0dXJuIGkmJmkuaW5wdXRtYXNrP2kuaW5wdXRtYXNrLmdldG1ldGFkYXRhKCk6dm9pZCAwO2Nhc2VcInNldHZhbHVlXCI6cy5zZXRWYWx1ZShpLHQpO2JyZWFrO2Nhc2VcIm9wdGlvblwiOmlmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpZih2b2lkIDAhPT10aGlzLmlucHV0bWFzaylyZXR1cm4gdGhpcy5pbnB1dG1hc2sub3B0aW9uKHQpfSk7aWYoaSYmdm9pZCAwIT09aS5pbnB1dG1hc2spcmV0dXJuIGkuaW5wdXRtYXNrLm9wdGlvbih0KTticmVhaztkZWZhdWx0OnJldHVybiB0LmFsaWFzPWUsYT1uZXcgcyh0KSx0aGlzLmVhY2goZnVuY3Rpb24oKXthLm1hc2sodGhpcyl9KX1lbHNle2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHQuYWxpYXM9ZSxhPW5ldyBzKHQpLHRoaXMuZWFjaChmdW5jdGlvbigpe2EubWFzayh0aGlzKX0pO2lmKFwib2JqZWN0XCI9PSh2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6bihlKSkpcmV0dXJuIGE9bmV3IHMoZSksdm9pZCAwPT09ZS5tYXNrJiZ2b2lkIDA9PT1lLmFsaWFzP3RoaXMuZWFjaChmdW5jdGlvbigpe2lmKHZvaWQgMCE9PXRoaXMuaW5wdXRtYXNrKXJldHVybiB0aGlzLmlucHV0bWFzay5vcHRpb24oZSk7YS5tYXNrKHRoaXMpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7YS5tYXNrKHRoaXMpfSk7aWYodm9pZCAwPT09ZSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7KGE9bmV3IHModCkpLm1hc2sodGhpcyl9KX19KX1dKX0pOyJdLCJmaWxlIjoianF1ZXJ5LmlucHV0bWFzay5taW4uanMifQ==
